const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/NotFound-Fvv7CtRh.js","assets/NotFound-DG_H5Dih.css"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();/**
* @vue/shared v3.5.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Bu(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const et={},$r=[],Rn=()=>{},Fm=()=>!1,vl=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),qu=t=>t.startsWith("onUpdate:"),Et=Object.assign,ju=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},j1=Object.prototype.hasOwnProperty,Je=(t,e)=>j1.call(t,e),Se=Array.isArray,Lr=t=>Po(t)==="[object Map]",yl=t=>Po(t)==="[object Set]",Kh=t=>Po(t)==="[object Date]",De=t=>typeof t=="function",lt=t=>typeof t=="string",_n=t=>typeof t=="symbol",tt=t=>t!==null&&typeof t=="object",Um=t=>(tt(t)||De(t))&&De(t.then)&&De(t.catch),Bm=Object.prototype.toString,Po=t=>Bm.call(t),H1=t=>Po(t).slice(8,-1),qm=t=>Po(t)==="[object Object]",Hu=t=>lt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,zi=Bu(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),bl=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},z1=/-(\w)/g,un=bl(t=>t.replace(z1,(e,n)=>n?n.toUpperCase():"")),W1=/\B([A-Z])/g,js=bl(t=>t.replace(W1,"-$1").toLowerCase()),El=bl(t=>t.charAt(0).toUpperCase()+t.slice(1)),Ec=bl(t=>t?`on${El(t)}`:""),As=(t,e)=>!Object.is(t,e),Ta=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},jm=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},Ua=t=>{const e=parseFloat(t);return isNaN(e)?t:e},K1=t=>{const e=lt(t)?Number(t):NaN;return isNaN(e)?t:e};let Gh;const wl=()=>Gh||(Gh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function rn(t){if(Se(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],r=lt(s)?Y1(s):rn(s);if(r)for(const i in r)e[i]=r[i]}return e}else if(lt(t)||tt(t))return t}const G1=/;(?![^(]*\))/g,Q1=/:([^]+)/,J1=/\/\*[^]*?\*\//g;function Y1(t){const e={};return t.replace(J1,"").split(G1).forEach(n=>{if(n){const s=n.split(Q1);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function Ae(t){let e="";if(lt(t))e=t;else if(Se(t))for(let n=0;n<t.length;n++){const s=Ae(t[n]);s&&(e+=s+" ")}else if(tt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const X1="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Z1=Bu(X1);function Hm(t){return!!t||t===""}function eb(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=Kr(t[s],e[s]);return n}function Kr(t,e){if(t===e)return!0;let n=Kh(t),s=Kh(e);if(n||s)return n&&s?t.getTime()===e.getTime():!1;if(n=_n(t),s=_n(e),n||s)return t===e;if(n=Se(t),s=Se(e),n||s)return n&&s?eb(t,e):!1;if(n=tt(t),s=tt(e),n||s){if(!n||!s)return!1;const r=Object.keys(t).length,i=Object.keys(e).length;if(r!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),c=e.hasOwnProperty(o);if(a&&!c||!a&&c||!Kr(t[o],e[o]))return!1}}return String(t)===String(e)}function tb(t,e){return t.findIndex(n=>Kr(n,e))}const zm=t=>!!(t&&t.__v_isRef===!0),x=t=>lt(t)?t:t==null?"":Se(t)||tt(t)&&(t.toString===Bm||!De(t.toString))?zm(t)?x(t.value):JSON.stringify(t,Wm,2):String(t),Wm=(t,e)=>zm(e)?Wm(t,e.value):Lr(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,r],i)=>(n[wc(s,i)+" =>"]=r,n),{})}:yl(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>wc(n))}:_n(e)?wc(e):tt(e)&&!Se(e)&&!qm(e)?String(e):e,wc=(t,e="")=>{var n;return _n(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Mt;class Km{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Mt,!e&&Mt&&(this.index=(Mt.scopes||(Mt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Mt;try{return Mt=this,e()}finally{Mt=n}}}on(){++this._on===1&&(this.prevScope=Mt,Mt=this)}off(){this._on>0&&--this._on===0&&(Mt=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function Gm(t){return new Km(t)}function Qm(){return Mt}function nb(t,e=!1){Mt&&Mt.cleanups.push(t)}let nt;const Tc=new WeakSet;class Jm{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Mt&&Mt.active&&Mt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Tc.has(this)&&(Tc.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Xm(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Qh(this),Zm(this);const e=nt,n=gn;nt=this,gn=!0;try{return this.fn()}finally{eg(this),nt=e,gn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Ku(e);this.deps=this.depsTail=void 0,Qh(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Tc.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Jc(this)&&this.run()}get dirty(){return Jc(this)}}let Ym=0,Wi,Ki;function Xm(t,e=!1){if(t.flags|=8,e){t.next=Ki,Ki=t;return}t.next=Wi,Wi=t}function zu(){Ym++}function Wu(){if(--Ym>0)return;if(Ki){let e=Ki;for(Ki=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Wi;){let e=Wi;for(Wi=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=n}}if(t)throw t}function Zm(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function eg(t){let e,n=t.depsTail,s=n;for(;s;){const r=s.prevDep;s.version===-1?(s===n&&(n=r),Ku(s),sb(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=r}t.deps=e,t.depsTail=n}function Jc(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(tg(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function tg(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===lo)||(t.globalVersion=lo,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Jc(t))))return;t.flags|=2;const e=t.dep,n=nt,s=gn;nt=t,gn=!0;try{Zm(t);const r=t.fn(t._value);(e.version===0||As(r,t._value))&&(t.flags|=128,t._value=r,e.version++)}catch(r){throw e.version++,r}finally{nt=n,gn=s,eg(t),t.flags&=-3}}function Ku(t,e=!1){const{dep:n,prevSub:s,nextSub:r}=t;if(s&&(s.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=s,t.nextSub=void 0),n.subs===t&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)Ku(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function sb(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let gn=!0;const ng=[];function Qn(){ng.push(gn),gn=!1}function Jn(){const t=ng.pop();gn=t===void 0?!0:t}function Qh(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=nt;nt=void 0;try{e()}finally{nt=n}}}let lo=0;class rb{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Gu{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!nt||!gn||nt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==nt)n=this.activeLink=new rb(nt,this),nt.deps?(n.prevDep=nt.depsTail,nt.depsTail.nextDep=n,nt.depsTail=n):nt.deps=nt.depsTail=n,sg(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=nt.depsTail,n.nextDep=void 0,nt.depsTail.nextDep=n,nt.depsTail=n,nt.deps===n&&(nt.deps=s)}return n}trigger(e){this.version++,lo++,this.notify(e)}notify(e){zu();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Wu()}}}function sg(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)sg(s)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Ba=new WeakMap,ur=Symbol(""),Yc=Symbol(""),co=Symbol("");function Lt(t,e,n){if(gn&&nt){let s=Ba.get(t);s||Ba.set(t,s=new Map);let r=s.get(n);r||(s.set(n,r=new Gu),r.map=s,r.key=n),r.track()}}function jn(t,e,n,s,r,i){const o=Ba.get(t);if(!o){lo++;return}const a=c=>{c&&c.trigger()};if(zu(),e==="clear")o.forEach(a);else{const c=Se(t),d=c&&Hu(n);if(c&&n==="length"){const h=Number(s);o.forEach((p,m)=>{(m==="length"||m===co||!_n(m)&&m>=h)&&a(p)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),d&&a(o.get(co)),e){case"add":c?d&&a(o.get("length")):(a(o.get(ur)),Lr(t)&&a(o.get(Yc)));break;case"delete":c||(a(o.get(ur)),Lr(t)&&a(o.get(Yc)));break;case"set":Lr(t)&&a(o.get(ur));break}}Wu()}function ib(t,e){const n=Ba.get(t);return n&&n.get(e)}function Cr(t){const e=We(t);return e===t?e:(Lt(e,"iterate",co),ln(t)?e:e.map(kt))}function Tl(t){return Lt(t=We(t),"iterate",co),t}const ob={__proto__:null,[Symbol.iterator](){return Ic(this,Symbol.iterator,kt)},concat(...t){return Cr(this).concat(...t.map(e=>Se(e)?Cr(e):e))},entries(){return Ic(this,"entries",t=>(t[1]=kt(t[1]),t))},every(t,e){return Fn(this,"every",t,e,void 0,arguments)},filter(t,e){return Fn(this,"filter",t,e,n=>n.map(kt),arguments)},find(t,e){return Fn(this,"find",t,e,kt,arguments)},findIndex(t,e){return Fn(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Fn(this,"findLast",t,e,kt,arguments)},findLastIndex(t,e){return Fn(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Fn(this,"forEach",t,e,void 0,arguments)},includes(...t){return Ac(this,"includes",t)},indexOf(...t){return Ac(this,"indexOf",t)},join(t){return Cr(this).join(t)},lastIndexOf(...t){return Ac(this,"lastIndexOf",t)},map(t,e){return Fn(this,"map",t,e,void 0,arguments)},pop(){return Ni(this,"pop")},push(...t){return Ni(this,"push",t)},reduce(t,...e){return Jh(this,"reduce",t,e)},reduceRight(t,...e){return Jh(this,"reduceRight",t,e)},shift(){return Ni(this,"shift")},some(t,e){return Fn(this,"some",t,e,void 0,arguments)},splice(...t){return Ni(this,"splice",t)},toReversed(){return Cr(this).toReversed()},toSorted(t){return Cr(this).toSorted(t)},toSpliced(...t){return Cr(this).toSpliced(...t)},unshift(...t){return Ni(this,"unshift",t)},values(){return Ic(this,"values",kt)}};function Ic(t,e,n){const s=Tl(t),r=s[e]();return s!==t&&!ln(t)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.value&&(i.value=n(i.value)),i}),r}const ab=Array.prototype;function Fn(t,e,n,s,r,i){const o=Tl(t),a=o!==t&&!ln(t),c=o[e];if(c!==ab[e]){const p=c.apply(t,i);return a?kt(p):p}let d=n;o!==t&&(a?d=function(p,m){return n.call(this,kt(p),m,t)}:n.length>2&&(d=function(p,m){return n.call(this,p,m,t)}));const h=c.call(o,d,s);return a&&r?r(h):h}function Jh(t,e,n,s){const r=Tl(t);let i=n;return r!==t&&(ln(t)?n.length>3&&(i=function(o,a,c){return n.call(this,o,a,c,t)}):i=function(o,a,c){return n.call(this,o,kt(a),c,t)}),r[e](i,...s)}function Ac(t,e,n){const s=We(t);Lt(s,"iterate",co);const r=s[e](...n);return(r===-1||r===!1)&&Yu(n[0])?(n[0]=We(n[0]),s[e](...n)):r}function Ni(t,e,n=[]){Qn(),zu();const s=We(t)[e].apply(t,n);return Wu(),Jn(),s}const lb=Bu("__proto__,__v_isRef,__isVue"),rg=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(_n));function cb(t){_n(t)||(t=String(t));const e=We(this);return Lt(e,"has",t),e.hasOwnProperty(t)}class ig{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){if(n==="__v_skip")return e.__v_skip;const r=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return i;if(n==="__v_raw")return s===(r?i?yb:cg:i?lg:ag).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=Se(e);if(!r){let c;if(o&&(c=ob[n]))return c;if(n==="hasOwnProperty")return cb}const a=Reflect.get(e,n,ft(e)?e:s);return(_n(n)?rg.has(n):lb(n))||(r||Lt(e,"get",n),i)?a:ft(a)?o&&Hu(n)?a:a.value:tt(a)?r?dg(a):Os(a):a}}class og extends ig{constructor(e=!1){super(!1,e)}set(e,n,s,r){let i=e[n];if(!this._isShallow){const c=Ns(i);if(!ln(s)&&!Ns(s)&&(i=We(i),s=We(s)),!Se(e)&&ft(i)&&!ft(s))return c||(i.value=s),!0}const o=Se(e)&&Hu(n)?Number(n)<e.length:Je(e,n),a=Reflect.set(e,n,s,ft(e)?e:r);return e===We(r)&&(o?As(s,i)&&jn(e,"set",n,s):jn(e,"add",n,s)),a}deleteProperty(e,n){const s=Je(e,n);e[n];const r=Reflect.deleteProperty(e,n);return r&&s&&jn(e,"delete",n,void 0),r}has(e,n){const s=Reflect.has(e,n);return(!_n(n)||!rg.has(n))&&Lt(e,"has",n),s}ownKeys(e){return Lt(e,"iterate",Se(e)?"length":ur),Reflect.ownKeys(e)}}class ub extends ig{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const db=new og,hb=new ub,fb=new og(!0);const Xc=t=>t,aa=t=>Reflect.getPrototypeOf(t);function pb(t,e,n){return function(...s){const r=this.__v_raw,i=We(r),o=Lr(i),a=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,d=r[t](...s),h=n?Xc:e?qa:kt;return!e&&Lt(i,"iterate",c?Yc:ur),{next(){const{value:p,done:m}=d.next();return m?{value:p,done:m}:{value:a?[h(p[0]),h(p[1])]:h(p),done:m}},[Symbol.iterator](){return this}}}}function la(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function mb(t,e){const n={get(r){const i=this.__v_raw,o=We(i),a=We(r);t||(As(r,a)&&Lt(o,"get",r),Lt(o,"get",a));const{has:c}=aa(o),d=e?Xc:t?qa:kt;if(c.call(o,r))return d(i.get(r));if(c.call(o,a))return d(i.get(a));i!==o&&i.get(r)},get size(){const r=this.__v_raw;return!t&&Lt(We(r),"iterate",ur),Reflect.get(r,"size",r)},has(r){const i=this.__v_raw,o=We(i),a=We(r);return t||(As(r,a)&&Lt(o,"has",r),Lt(o,"has",a)),r===a?i.has(r):i.has(r)||i.has(a)},forEach(r,i){const o=this,a=o.__v_raw,c=We(a),d=e?Xc:t?qa:kt;return!t&&Lt(c,"iterate",ur),a.forEach((h,p)=>r.call(i,d(h),d(p),o))}};return Et(n,t?{add:la("add"),set:la("set"),delete:la("delete"),clear:la("clear")}:{add(r){!e&&!ln(r)&&!Ns(r)&&(r=We(r));const i=We(this);return aa(i).has.call(i,r)||(i.add(r),jn(i,"add",r,r)),this},set(r,i){!e&&!ln(i)&&!Ns(i)&&(i=We(i));const o=We(this),{has:a,get:c}=aa(o);let d=a.call(o,r);d||(r=We(r),d=a.call(o,r));const h=c.call(o,r);return o.set(r,i),d?As(i,h)&&jn(o,"set",r,i):jn(o,"add",r,i),this},delete(r){const i=We(this),{has:o,get:a}=aa(i);let c=o.call(i,r);c||(r=We(r),c=o.call(i,r)),a&&a.call(i,r);const d=i.delete(r);return c&&jn(i,"delete",r,void 0),d},clear(){const r=We(this),i=r.size!==0,o=r.clear();return i&&jn(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=pb(r,t,e)}),n}function Qu(t,e){const n=mb(t,e);return(s,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?s:Reflect.get(Je(n,r)&&r in s?n:s,r,i)}const gb={get:Qu(!1,!1)},_b={get:Qu(!1,!0)},vb={get:Qu(!0,!1)};const ag=new WeakMap,lg=new WeakMap,cg=new WeakMap,yb=new WeakMap;function bb(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Eb(t){return t.__v_skip||!Object.isExtensible(t)?0:bb(H1(t))}function Os(t){return Ns(t)?t:Ju(t,!1,db,gb,ag)}function ug(t){return Ju(t,!1,fb,_b,lg)}function dg(t){return Ju(t,!0,hb,vb,cg)}function Ju(t,e,n,s,r){if(!tt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=Eb(t);if(i===0)return t;const o=r.get(t);if(o)return o;const a=new Proxy(t,i===2?s:n);return r.set(t,a),a}function Ss(t){return Ns(t)?Ss(t.__v_raw):!!(t&&t.__v_isReactive)}function Ns(t){return!!(t&&t.__v_isReadonly)}function ln(t){return!!(t&&t.__v_isShallow)}function Yu(t){return t?!!t.__v_raw:!1}function We(t){const e=t&&t.__v_raw;return e?We(e):t}function Xu(t){return!Je(t,"__v_skip")&&Object.isExtensible(t)&&jm(t,"__v_skip",!0),t}const kt=t=>tt(t)?Os(t):t,qa=t=>tt(t)?dg(t):t;function ft(t){return t?t.__v_isRef===!0:!1}function ie(t){return hg(t,!1)}function wb(t){return hg(t,!0)}function hg(t,e){return ft(t)?t:new Tb(t,e)}class Tb{constructor(e,n){this.dep=new Gu,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:We(e),this._value=n?e:kt(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,s=this.__v_isShallow||ln(e)||Ns(e);e=s?e:We(e),As(e,n)&&(this._rawValue=e,this._value=s?e:kt(e),this.dep.trigger())}}function Te(t){return ft(t)?t.value:t}const Ib={get:(t,e,n)=>e==="__v_raw"?t:Te(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const r=t[e];return ft(r)&&!ft(n)?(r.value=n,!0):Reflect.set(t,e,n,s)}};function fg(t){return Ss(t)?t:new Proxy(t,Ib)}function Ab(t){const e=Se(t)?new Array(t.length):{};for(const n in t)e[n]=Cb(t,n);return e}class Sb{constructor(e,n,s){this._object=e,this._key=n,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return ib(We(this._object),this._key)}}function Cb(t,e,n){const s=t[e];return ft(s)?s:new Sb(t,e,n)}class kb{constructor(e,n,s){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Gu(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=lo-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&nt!==this)return Xm(this,!0),!0}get value(){const e=this.dep.track();return tg(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Rb(t,e,n=!1){let s,r;return De(t)?s=t:(s=t.get,r=t.set),new kb(s,r,n)}const ca={},ja=new WeakMap;let ir;function Pb(t,e=!1,n=ir){if(n){let s=ja.get(n);s||ja.set(n,s=[]),s.push(t)}}function Vb(t,e,n=et){const{immediate:s,deep:r,once:i,scheduler:o,augmentJob:a,call:c}=n,d=z=>r?z:ln(z)||r===!1||r===0?Hn(z,1):Hn(z);let h,p,m,g,b=!1,T=!1;if(ft(t)?(p=()=>t.value,b=ln(t)):Ss(t)?(p=()=>d(t),b=!0):Se(t)?(T=!0,b=t.some(z=>Ss(z)||ln(z)),p=()=>t.map(z=>{if(ft(z))return z.value;if(Ss(z))return d(z);if(De(z))return c?c(z,2):z()})):De(t)?e?p=c?()=>c(t,2):t:p=()=>{if(m){Qn();try{m()}finally{Jn()}}const z=ir;ir=h;try{return c?c(t,3,[g]):t(g)}finally{ir=z}}:p=Rn,e&&r){const z=p,se=r===!0?1/0:r;p=()=>Hn(z(),se)}const P=Qm(),O=()=>{h.stop(),P&&P.active&&ju(P.effects,h)};if(i&&e){const z=e;e=(...se)=>{z(...se),O()}}let B=T?new Array(t.length).fill(ca):ca;const M=z=>{if(!(!(h.flags&1)||!h.dirty&&!z))if(e){const se=h.run();if(r||b||(T?se.some((ae,C)=>As(ae,B[C])):As(se,B))){m&&m();const ae=ir;ir=h;try{const C=[se,B===ca?void 0:T&&B[0]===ca?[]:B,g];B=se,c?c(e,3,C):e(...C)}finally{ir=ae}}}else h.run()};return a&&a(M),h=new Jm(p),h.scheduler=o?()=>o(M,!1):M,g=z=>Pb(z,!1,h),m=h.onStop=()=>{const z=ja.get(h);if(z){if(c)c(z,4);else for(const se of z)se();ja.delete(h)}},e?s?M(!0):B=h.run():o?o(M.bind(null,!0),!0):h.run(),O.pause=h.pause.bind(h),O.resume=h.resume.bind(h),O.stop=O,O}function Hn(t,e=1/0,n){if(e<=0||!tt(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,ft(t))Hn(t.value,e,n);else if(Se(t))for(let s=0;s<t.length;s++)Hn(t[s],e,n);else if(yl(t)||Lr(t))t.forEach(s=>{Hn(s,e,n)});else if(qm(t)){for(const s in t)Hn(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&Hn(t[s],e,n)}return t}/**
* @vue/runtime-core v3.5.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Vo(t,e,n,s){try{return s?t(...s):t()}catch(r){Il(r,e,n)}}function vn(t,e,n,s){if(De(t)){const r=Vo(t,e,n,s);return r&&Um(r)&&r.catch(i=>{Il(i,e,n)}),r}if(Se(t)){const r=[];for(let i=0;i<t.length;i++)r.push(vn(t[i],e,n,s));return r}}function Il(t,e,n,s=!0){const r=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||et;if(e){let a=e.parent;const c=e.proxy,d=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const h=a.ec;if(h){for(let p=0;p<h.length;p++)if(h[p](t,c,d)===!1)return}a=a.parent}if(i){Qn(),Vo(i,null,10,[t,c,d]),Jn();return}}Db(t,n,r,s,o)}function Db(t,e,n,s=!0,r=!1){if(r)throw t;console.error(t)}const Kt=[];let Sn=-1;const Fr=[];let ms=null,Pr=0;const pg=Promise.resolve();let Ha=null;function ci(t){const e=Ha||pg;return t?e.then(this?t.bind(this):t):e}function xb(t){let e=Sn+1,n=Kt.length;for(;e<n;){const s=e+n>>>1,r=Kt[s],i=uo(r);i<t||i===t&&r.flags&2?e=s+1:n=s}return e}function Zu(t){if(!(t.flags&1)){const e=uo(t),n=Kt[Kt.length-1];!n||!(t.flags&2)&&e>=uo(n)?Kt.push(t):Kt.splice(xb(e),0,t),t.flags|=1,mg()}}function mg(){Ha||(Ha=pg.then(_g))}function Ob(t){Se(t)?Fr.push(...t):ms&&t.id===-1?ms.splice(Pr+1,0,t):t.flags&1||(Fr.push(t),t.flags|=1),mg()}function Yh(t,e,n=Sn+1){for(;n<Kt.length;n++){const s=Kt[n];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;Kt.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function gg(t){if(Fr.length){const e=[...new Set(Fr)].sort((n,s)=>uo(n)-uo(s));if(Fr.length=0,ms){ms.push(...e);return}for(ms=e,Pr=0;Pr<ms.length;Pr++){const n=ms[Pr];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}ms=null,Pr=0}}const uo=t=>t.id==null?t.flags&2?-1:1/0:t.id;function _g(t){try{for(Sn=0;Sn<Kt.length;Sn++){const e=Kt[Sn];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Vo(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Sn<Kt.length;Sn++){const e=Kt[Sn];e&&(e.flags&=-2)}Sn=-1,Kt.length=0,gg(),Ha=null,(Kt.length||Fr.length)&&_g()}}let Vt=null,vg=null;function za(t){const e=Vt;return Vt=t,vg=t&&t.type.__scopeId||null,e}function pe(t,e=Vt,n){if(!e||t._n)return t;const s=(...r)=>{s._d&&hf(-1);const i=za(e);let o;try{o=t(...r)}finally{za(i),s._d&&hf(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function $e(t,e){if(Vt===null)return t;const n=Rl(Vt),s=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[i,o,a,c=et]=e[r];i&&(De(i)&&(i={mounted:i,updated:i}),i.deep&&Hn(o),s.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:c}))}return t}function nr(t,e,n,s){const r=t.dirs,i=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let c=a.dir[s];c&&(Qn(),vn(c,n,8,[t.el,a,t,e]),Jn())}}const yg=Symbol("_vte"),bg=t=>t.__isTeleport,Gi=t=>t&&(t.disabled||t.disabled===""),Xh=t=>t&&(t.defer||t.defer===""),Zh=t=>typeof SVGElement<"u"&&t instanceof SVGElement,ef=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,Zc=(t,e)=>{const n=t&&t.to;return lt(n)?e?e(n):null:n},Eg={name:"Teleport",__isTeleport:!0,process(t,e,n,s,r,i,o,a,c,d){const{mc:h,pc:p,pbc:m,o:{insert:g,querySelector:b,createText:T,createComment:P}}=d,O=Gi(e.props);let{shapeFlag:B,children:M,dynamicChildren:z}=e;if(t==null){const se=e.el=T(""),ae=e.anchor=T("");g(se,n,s),g(ae,n,s);const C=(v,S)=>{B&16&&(r&&r.isCE&&(r.ce._teleportTarget=v),h(M,v,S,r,i,o,a,c))},w=()=>{const v=e.target=Zc(e.props,b),S=wg(v,e,T,g);v&&(o!=="svg"&&Zh(v)?o="svg":o!=="mathml"&&ef(v)&&(o="mathml"),O||(C(v,S),Ia(e,!1)))};O&&(C(n,ae),Ia(e,!0)),Xh(e.props)?(e.el.__isMounted=!1,Wt(()=>{w(),delete e.el.__isMounted},i)):w()}else{if(Xh(e.props)&&t.el.__isMounted===!1){Wt(()=>{Eg.process(t,e,n,s,r,i,o,a,c,d)},i);return}e.el=t.el,e.targetStart=t.targetStart;const se=e.anchor=t.anchor,ae=e.target=t.target,C=e.targetAnchor=t.targetAnchor,w=Gi(t.props),v=w?n:ae,S=w?se:C;if(o==="svg"||Zh(ae)?o="svg":(o==="mathml"||ef(ae))&&(o="mathml"),z?(m(t.dynamicChildren,z,v,r,i,o,a),rd(t,e,!0)):c||p(t,e,v,S,r,i,o,a,!1),O)w?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):ua(e,n,se,d,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const A=e.target=Zc(e.props,b);A&&ua(e,A,null,d,0)}else w&&ua(e,ae,C,d,1);Ia(e,O)}},remove(t,e,n,{um:s,o:{remove:r}},i){const{shapeFlag:o,children:a,anchor:c,targetStart:d,targetAnchor:h,target:p,props:m}=t;if(p&&(r(d),r(h)),i&&r(c),o&16){const g=i||!Gi(m);for(let b=0;b<a.length;b++){const T=a[b];s(T,e,n,g,!!T.dynamicChildren)}}},move:ua,hydrate:Nb};function ua(t,e,n,{o:{insert:s},m:r},i=2){i===0&&s(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:c,children:d,props:h}=t,p=i===2;if(p&&s(o,e,n),(!p||Gi(h))&&c&16)for(let m=0;m<d.length;m++)r(d[m],e,n,2);p&&s(a,e,n)}function Nb(t,e,n,s,r,i,{o:{nextSibling:o,parentNode:a,querySelector:c,insert:d,createText:h}},p){const m=e.target=Zc(e.props,c);if(m){const g=Gi(e.props),b=m._lpa||m.firstChild;if(e.shapeFlag&16)if(g)e.anchor=p(o(t),e,a(t),n,s,r,i),e.targetStart=b,e.targetAnchor=b&&o(b);else{e.anchor=o(t);let T=b;for(;T;){if(T&&T.nodeType===8){if(T.data==="teleport start anchor")e.targetStart=T;else if(T.data==="teleport anchor"){e.targetAnchor=T,m._lpa=e.targetAnchor&&o(e.targetAnchor);break}}T=o(T)}e.targetAnchor||wg(m,e,h,d),p(b&&o(b),e,m,n,s,r,i)}Ia(e,g)}return e.anchor&&o(e.anchor)}const hr=Eg;function Ia(t,e){const n=t.ctx;if(n&&n.ut){let s,r;for(e?(s=t.el,r=t.anchor):(s=t.targetStart,r=t.targetAnchor);s&&s!==r;)s.nodeType===1&&s.setAttribute("data-v-owner",n.uid),s=s.nextSibling;n.ut()}}function wg(t,e,n,s){const r=e.targetStart=n(""),i=e.targetAnchor=n("");return r[yg]=i,t&&(s(r,t),s(i,t)),i}const qn=Symbol("_leaveCb"),da=Symbol("_enterCb");function Tg(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Hs(()=>{t.isMounted=!0}),td(()=>{t.isUnmounting=!0}),t}const on=[Function,Array],Ig={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:on,onEnter:on,onAfterEnter:on,onEnterCancelled:on,onBeforeLeave:on,onLeave:on,onAfterLeave:on,onLeaveCancelled:on,onBeforeAppear:on,onAppear:on,onAfterAppear:on,onAppearCancelled:on},Ag=t=>{const e=t.subTree;return e.component?Ag(e.component):e},Mb={name:"BaseTransition",props:Ig,setup(t,{slots:e}){const n=xo(),s=Tg();return()=>{const r=e.default&&ed(e.default(),!0);if(!r||!r.length)return;const i=Sg(r),o=We(t),{mode:a}=o;if(s.isLeaving)return Sc(i);const c=tf(i);if(!c)return Sc(i);let d=ho(c,o,s,n,p=>d=p);c.type!==Ut&&fr(c,d);let h=n.subTree&&tf(n.subTree);if(h&&h.type!==Ut&&!ar(c,h)&&Ag(n).type!==Ut){let p=ho(h,o,s,n);if(fr(h,p),a==="out-in"&&c.type!==Ut)return s.isLeaving=!0,p.afterLeave=()=>{s.isLeaving=!1,n.job.flags&8||n.update(),delete p.afterLeave,h=void 0},Sc(i);a==="in-out"&&c.type!==Ut?p.delayLeave=(m,g,b)=>{const T=Cg(s,h);T[String(h.key)]=h,m[qn]=()=>{g(),m[qn]=void 0,delete d.delayedLeave,h=void 0},d.delayedLeave=()=>{b(),delete d.delayedLeave,h=void 0}}:h=void 0}else h&&(h=void 0);return i}}};function Sg(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==Ut){e=n;break}}return e}const $b=Mb;function Cg(t,e){const{leavingVNodes:n}=t;let s=n.get(e.type);return s||(s=Object.create(null),n.set(e.type,s)),s}function ho(t,e,n,s,r){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:c,onEnter:d,onAfterEnter:h,onEnterCancelled:p,onBeforeLeave:m,onLeave:g,onAfterLeave:b,onLeaveCancelled:T,onBeforeAppear:P,onAppear:O,onAfterAppear:B,onAppearCancelled:M}=e,z=String(t.key),se=Cg(n,t),ae=(v,S)=>{v&&vn(v,s,9,S)},C=(v,S)=>{const A=S[1];ae(v,S),Se(v)?v.every(E=>E.length<=1)&&A():v.length<=1&&A()},w={mode:o,persisted:a,beforeEnter(v){let S=c;if(!n.isMounted)if(i)S=P||c;else return;v[qn]&&v[qn](!0);const A=se[z];A&&ar(t,A)&&A.el[qn]&&A.el[qn](),ae(S,[v])},enter(v){let S=d,A=h,E=p;if(!n.isMounted)if(i)S=O||d,A=B||h,E=M||p;else return;let I=!1;const me=v[da]=Fe=>{I||(I=!0,Fe?ae(E,[v]):ae(A,[v]),w.delayedLeave&&w.delayedLeave(),v[da]=void 0)};S?C(S,[v,me]):me()},leave(v,S){const A=String(t.key);if(v[da]&&v[da](!0),n.isUnmounting)return S();ae(m,[v]);let E=!1;const I=v[qn]=me=>{E||(E=!0,S(),me?ae(T,[v]):ae(b,[v]),v[qn]=void 0,se[A]===t&&delete se[A])};se[A]=t,g?C(g,[v,I]):I()},clone(v){const S=ho(v,e,n,s,r);return r&&r(S),S}};return w}function Sc(t){if(Al(t))return t=Ms(t),t.children=null,t}function tf(t){if(!Al(t))return bg(t.type)&&t.children?Sg(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&De(n.default))return n.default()}}function fr(t,e){t.shapeFlag&6&&t.component?(t.transition=e,fr(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function ed(t,e=!1,n){let s=[],r=0;for(let i=0;i<t.length;i++){let o=t[i];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===Ee?(o.patchFlag&128&&r++,s=s.concat(ed(o.children,e,a))):(e||o.type!==Ut)&&s.push(a!=null?Ms(o,{key:a}):o)}if(r>1)for(let i=0;i<s.length;i++)s[i].patchFlag=-2;return s}/*! #__NO_SIDE_EFFECTS__ */function kg(t,e){return De(t)?Et({name:t.name},e,{setup:t}):t}function Rg(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Qi(t,e,n,s,r=!1){if(Se(t)){t.forEach((b,T)=>Qi(b,e&&(Se(e)?e[T]:e),n,s,r));return}if(Ur(s)&&!r){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&Qi(t,e,n,s.component.subTree);return}const i=s.shapeFlag&4?Rl(s.component):s.el,o=r?null:i,{i:a,r:c}=t,d=e&&e.r,h=a.refs===et?a.refs={}:a.refs,p=a.setupState,m=We(p),g=p===et?Fm:b=>Je(m,b);if(d!=null&&d!==c){if(lt(d))h[d]=null,g(d)&&(p[d]=null);else if(ft(d)){d.value=null;const b=e;b.k&&(h[b.k]=null)}}if(De(c))Vo(c,a,12,[o,h]);else{const b=lt(c),T=ft(c);if(b||T){const P=()=>{if(t.f){const O=b?g(c)?p[c]:h[c]:c.value;if(r)Se(O)&&ju(O,i);else if(Se(O))O.includes(i)||O.push(i);else if(b)h[c]=[i],g(c)&&(p[c]=h[c]);else{const B=[i];c.value=B,t.k&&(h[t.k]=B)}}else b?(h[c]=o,g(c)&&(p[c]=o)):T&&(c.value=o,t.k&&(h[t.k]=o))};o?(P.id=-1,Wt(P,n)):P()}}}wl().requestIdleCallback;wl().cancelIdleCallback;const Ur=t=>!!t.type.__asyncLoader,Al=t=>t.type.__isKeepAlive;function Pg(t,e){Dg(t,"a",e)}function Vg(t,e){Dg(t,"da",e)}function Dg(t,e,n=qt){const s=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(Sl(e,s,n),n){let r=n.parent;for(;r&&r.parent;)Al(r.parent.vnode)&&Lb(s,e,n,r),r=r.parent}}function Lb(t,e,n,s){const r=Sl(e,t,s,!0);Do(()=>{ju(s[e],r)},n)}function Sl(t,e,n=qt,s=!1){if(n){const r=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{Qn();const a=Oo(n),c=vn(e,n,t,o);return a(),Jn(),c});return s?r.unshift(i):r.push(i),i}}const ts=t=>(e,n=qt)=>{(!mo||t==="sp")&&Sl(t,(...s)=>e(...s),n)},Fb=ts("bm"),Hs=ts("m"),Ub=ts("bu"),xg=ts("u"),td=ts("bum"),Do=ts("um"),Bb=ts("sp"),qb=ts("rtg"),jb=ts("rtc");function Hb(t,e=qt){Sl("ec",t,e)}const Og="components";function Gt(t,e){return Mg(Og,t,!0,e)||t}const Ng=Symbol.for("v-ndc");function zb(t){return lt(t)?Mg(Og,t,!1)||t:t||Ng}function Mg(t,e,n=!0,s=!1){const r=Vt||qt;if(r){const i=r.type;{const a=OE(i,!1);if(a&&(a===e||a===un(e)||a===El(un(e))))return i}const o=nf(r[t]||i[t],e)||nf(r.appContext[t],e);return!o&&s?i:o}}function nf(t,e){return t&&(t[e]||t[un(e)]||t[El(un(e))])}function Le(t,e,n,s){let r;const i=n,o=Se(t);if(o||lt(t)){const a=o&&Ss(t);let c=!1,d=!1;a&&(c=!ln(t),d=Ns(t),t=Tl(t)),r=new Array(t.length);for(let h=0,p=t.length;h<p;h++)r[h]=e(c?d?qa(kt(t[h])):kt(t[h]):t[h],h,void 0,i)}else if(typeof t=="number"){r=new Array(t);for(let a=0;a<t;a++)r[a]=e(a+1,a,void 0,i)}else if(tt(t))if(t[Symbol.iterator])r=Array.from(t,(a,c)=>e(a,c,void 0,i));else{const a=Object.keys(t);r=new Array(a.length);for(let c=0,d=a.length;c<d;c++){const h=a[c];r[c]=e(t[h],h,c,i)}}else r=[];return r}function Wb(t,e,n={},s,r){if(Vt.ce||Vt.parent&&Ur(Vt.parent)&&Vt.parent.ce)return R(),Xe(Ee,null,[te("slot",n,s)],64);let i=t[e];i&&i._c&&(i._d=!1),R();const o=i&&$g(i(n)),a=n.key||o&&o.key,c=Xe(Ee,{key:(a&&!_n(a)?a:`_${e}`)+(!o&&s?"_fb":"")},o||[],o&&t._===1?64:-2);return i&&i._c&&(i._d=!0),c}function $g(t){return t.some(e=>po(e)?!(e.type===Ut||e.type===Ee&&!$g(e.children)):!0)?t:null}const eu=t=>t?t_(t)?Rl(t):eu(t.parent):null,Ji=Et(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>eu(t.parent),$root:t=>eu(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Fg(t),$forceUpdate:t=>t.f||(t.f=()=>{Zu(t.update)}),$nextTick:t=>t.n||(t.n=ci.bind(t.proxy)),$watch:t=>mE.bind(t)}),Cc=(t,e)=>t!==et&&!t.__isScriptSetup&&Je(t,e),Kb={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:r,props:i,accessCache:o,type:a,appContext:c}=t;let d;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return s[e];case 2:return r[e];case 4:return n[e];case 3:return i[e]}else{if(Cc(s,e))return o[e]=1,s[e];if(r!==et&&Je(r,e))return o[e]=2,r[e];if((d=t.propsOptions[0])&&Je(d,e))return o[e]=3,i[e];if(n!==et&&Je(n,e))return o[e]=4,n[e];tu&&(o[e]=0)}}const h=Ji[e];let p,m;if(h)return e==="$attrs"&&Lt(t.attrs,"get",""),h(t);if((p=a.__cssModules)&&(p=p[e]))return p;if(n!==et&&Je(n,e))return o[e]=4,n[e];if(m=c.config.globalProperties,Je(m,e))return m[e]},set({_:t},e,n){const{data:s,setupState:r,ctx:i}=t;return Cc(r,e)?(r[e]=n,!0):s!==et&&Je(s,e)?(s[e]=n,!0):Je(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:r,propsOptions:i,type:o}},a){let c,d;return!!(n[a]||t!==et&&a[0]!=="$"&&Je(t,a)||Cc(e,a)||(c=i[0])&&Je(c,a)||Je(s,a)||Je(Ji,a)||Je(r.config.globalProperties,a)||(d=o.__cssModules)&&d[a])},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Je(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function sf(t){return Se(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let tu=!0;function Gb(t){const e=Fg(t),n=t.proxy,s=t.ctx;tu=!1,e.beforeCreate&&rf(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:o,watch:a,provide:c,inject:d,created:h,beforeMount:p,mounted:m,beforeUpdate:g,updated:b,activated:T,deactivated:P,beforeDestroy:O,beforeUnmount:B,destroyed:M,unmounted:z,render:se,renderTracked:ae,renderTriggered:C,errorCaptured:w,serverPrefetch:v,expose:S,inheritAttrs:A,components:E,directives:I,filters:me}=e;if(d&&Qb(d,s,null),o)for(const Ce in o){const Oe=o[Ce];De(Oe)&&(s[Ce]=Oe.bind(n))}if(r){const Ce=r.call(n,n);tt(Ce)&&(t.data=Os(Ce))}if(tu=!0,i)for(const Ce in i){const Oe=i[Ce],pt=De(Oe)?Oe.bind(n,n):De(Oe.get)?Oe.get.bind(n,n):Rn,Ne=!De(Oe)&&De(Oe.set)?Oe.set.bind(n):Rn,$=Q({get:pt,set:Ne});Object.defineProperty(s,Ce,{enumerable:!0,configurable:!0,get:()=>$.value,set:rt=>$.value=rt})}if(a)for(const Ce in a)Lg(a[Ce],s,n,Ce);if(c){const Ce=De(c)?c.call(n):c;Reflect.ownKeys(Ce).forEach(Oe=>{Aa(Oe,Ce[Oe])})}h&&rf(h,t,"c");function je(Ce,Oe){Se(Oe)?Oe.forEach(pt=>Ce(pt.bind(n))):Oe&&Ce(Oe.bind(n))}if(je(Fb,p),je(Hs,m),je(Ub,g),je(xg,b),je(Pg,T),je(Vg,P),je(Hb,w),je(jb,ae),je(qb,C),je(td,B),je(Do,z),je(Bb,v),Se(S))if(S.length){const Ce=t.exposed||(t.exposed={});S.forEach(Oe=>{Object.defineProperty(Ce,Oe,{get:()=>n[Oe],set:pt=>n[Oe]=pt,enumerable:!0})})}else t.exposed||(t.exposed={});se&&t.render===Rn&&(t.render=se),A!=null&&(t.inheritAttrs=A),E&&(t.components=E),I&&(t.directives=I),v&&Rg(t)}function Qb(t,e,n=Rn){Se(t)&&(t=nu(t));for(const s in t){const r=t[s];let i;tt(r)?"default"in r?i=sn(r.from||s,r.default,!0):i=sn(r.from||s):i=sn(r),ft(i)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[s]=i}}function rf(t,e,n){vn(Se(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function Lg(t,e,n,s){let r=s.includes(".")?Jg(n,s):()=>n[s];if(lt(t)){const i=e[t];De(i)&&cn(r,i)}else if(De(t))cn(r,t.bind(n));else if(tt(t))if(Se(t))t.forEach(i=>Lg(i,e,n,s));else{const i=De(t.handler)?t.handler.bind(n):e[t.handler];De(i)&&cn(r,i,t)}}function Fg(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let c;return a?c=a:!r.length&&!n&&!s?c=e:(c={},r.length&&r.forEach(d=>Wa(c,d,o,!0)),Wa(c,e,o)),tt(e)&&i.set(e,c),c}function Wa(t,e,n,s=!1){const{mixins:r,extends:i}=e;i&&Wa(t,i,n,!0),r&&r.forEach(o=>Wa(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const a=Jb[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Jb={data:of,props:af,emits:af,methods:Fi,computed:Fi,beforeCreate:zt,created:zt,beforeMount:zt,mounted:zt,beforeUpdate:zt,updated:zt,beforeDestroy:zt,beforeUnmount:zt,destroyed:zt,unmounted:zt,activated:zt,deactivated:zt,errorCaptured:zt,serverPrefetch:zt,components:Fi,directives:Fi,watch:Xb,provide:of,inject:Yb};function of(t,e){return e?t?function(){return Et(De(t)?t.call(this,this):t,De(e)?e.call(this,this):e)}:e:t}function Yb(t,e){return Fi(nu(t),nu(e))}function nu(t){if(Se(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function zt(t,e){return t?[...new Set([].concat(t,e))]:e}function Fi(t,e){return t?Et(Object.create(null),t,e):e}function af(t,e){return t?Se(t)&&Se(e)?[...new Set([...t,...e])]:Et(Object.create(null),sf(t),sf(e??{})):e}function Xb(t,e){if(!t)return e;if(!e)return t;const n=Et(Object.create(null),t);for(const s in e)n[s]=zt(t[s],e[s]);return n}function Ug(){return{app:null,config:{isNativeTag:Fm,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Zb=0;function eE(t,e){return function(s,r=null){De(s)||(s=Et({},s)),r!=null&&!tt(r)&&(r=null);const i=Ug(),o=new WeakSet,a=[];let c=!1;const d=i.app={_uid:Zb++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:s_,get config(){return i.config},set config(h){},use(h,...p){return o.has(h)||(h&&De(h.install)?(o.add(h),h.install(d,...p)):De(h)&&(o.add(h),h(d,...p))),d},mixin(h){return i.mixins.includes(h)||i.mixins.push(h),d},component(h,p){return p?(i.components[h]=p,d):i.components[h]},directive(h,p){return p?(i.directives[h]=p,d):i.directives[h]},mount(h,p,m){if(!c){const g=d._ceVNode||te(s,r);return g.appContext=i,m===!0?m="svg":m===!1&&(m=void 0),t(g,h,m),c=!0,d._container=h,h.__vue_app__=d,Rl(g.component)}},onUnmount(h){a.push(h)},unmount(){c&&(vn(a,d._instance,16),t(null,d._container),delete d._container.__vue_app__)},provide(h,p){return i.provides[h]=p,d},runWithContext(h){const p=dr;dr=d;try{return h()}finally{dr=p}}};return d}}let dr=null;function Aa(t,e){if(qt){let n=qt.provides;const s=qt.parent&&qt.parent.provides;s===n&&(n=qt.provides=Object.create(s)),n[t]=e}}function sn(t,e,n=!1){const s=xo();if(s||dr){let r=dr?dr._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return n&&De(e)?e.call(s&&s.proxy):e}}function tE(){return!!(xo()||dr)}const Bg={},qg=()=>Object.create(Bg),jg=t=>Object.getPrototypeOf(t)===Bg;function nE(t,e,n,s=!1){const r={},i=qg();t.propsDefaults=Object.create(null),Hg(t,e,r,i);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);n?t.props=s?r:ug(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function sE(t,e,n,s){const{props:r,attrs:i,vnode:{patchFlag:o}}=t,a=We(r),[c]=t.propsOptions;let d=!1;if((s||o>0)&&!(o&16)){if(o&8){const h=t.vnode.dynamicProps;for(let p=0;p<h.length;p++){let m=h[p];if(Cl(t.emitsOptions,m))continue;const g=e[m];if(c)if(Je(i,m))g!==i[m]&&(i[m]=g,d=!0);else{const b=un(m);r[b]=su(c,a,b,g,t,!1)}else g!==i[m]&&(i[m]=g,d=!0)}}}else{Hg(t,e,r,i)&&(d=!0);let h;for(const p in a)(!e||!Je(e,p)&&((h=js(p))===p||!Je(e,h)))&&(c?n&&(n[p]!==void 0||n[h]!==void 0)&&(r[p]=su(c,a,p,void 0,t,!0)):delete r[p]);if(i!==a)for(const p in i)(!e||!Je(e,p))&&(delete i[p],d=!0)}d&&jn(t.attrs,"set","")}function Hg(t,e,n,s){const[r,i]=t.propsOptions;let o=!1,a;if(e)for(let c in e){if(zi(c))continue;const d=e[c];let h;r&&Je(r,h=un(c))?!i||!i.includes(h)?n[h]=d:(a||(a={}))[h]=d:Cl(t.emitsOptions,c)||(!(c in s)||d!==s[c])&&(s[c]=d,o=!0)}if(i){const c=We(n),d=a||et;for(let h=0;h<i.length;h++){const p=i[h];n[p]=su(r,c,p,d[p],t,!Je(d,p))}}return o}function su(t,e,n,s,r,i){const o=t[n];if(o!=null){const a=Je(o,"default");if(a&&s===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&De(c)){const{propsDefaults:d}=r;if(n in d)s=d[n];else{const h=Oo(r);s=d[n]=c.call(null,e),h()}}else s=c;r.ce&&r.ce._setProp(n,s)}o[0]&&(i&&!a?s=!1:o[1]&&(s===""||s===js(n))&&(s=!0))}return s}const rE=new WeakMap;function zg(t,e,n=!1){const s=n?rE:e.propsCache,r=s.get(t);if(r)return r;const i=t.props,o={},a=[];let c=!1;if(!De(t)){const h=p=>{c=!0;const[m,g]=zg(p,e,!0);Et(o,m),g&&a.push(...g)};!n&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}if(!i&&!c)return tt(t)&&s.set(t,$r),$r;if(Se(i))for(let h=0;h<i.length;h++){const p=un(i[h]);lf(p)&&(o[p]=et)}else if(i)for(const h in i){const p=un(h);if(lf(p)){const m=i[h],g=o[p]=Se(m)||De(m)?{type:m}:Et({},m),b=g.type;let T=!1,P=!0;if(Se(b))for(let O=0;O<b.length;++O){const B=b[O],M=De(B)&&B.name;if(M==="Boolean"){T=!0;break}else M==="String"&&(P=!1)}else T=De(b)&&b.name==="Boolean";g[0]=T,g[1]=P,(T||Je(g,"default"))&&a.push(p)}}const d=[o,a];return tt(t)&&s.set(t,d),d}function lf(t){return t[0]!=="$"&&!zi(t)}const nd=t=>t==="_"||t==="_ctx"||t==="$stable",sd=t=>Se(t)?t.map(kn):[kn(t)],iE=(t,e,n)=>{if(e._n)return e;const s=pe((...r)=>sd(e(...r)),n);return s._c=!1,s},Wg=(t,e,n)=>{const s=t._ctx;for(const r in t){if(nd(r))continue;const i=t[r];if(De(i))e[r]=iE(r,i,s);else if(i!=null){const o=sd(i);e[r]=()=>o}}},Kg=(t,e)=>{const n=sd(e);t.slots.default=()=>n},Gg=(t,e,n)=>{for(const s in e)(n||!nd(s))&&(t[s]=e[s])},oE=(t,e,n)=>{const s=t.slots=qg();if(t.vnode.shapeFlag&32){const r=e._;r?(Gg(s,e,n),n&&jm(s,"_",r,!0)):Wg(e,s)}else e&&Kg(t,e)},aE=(t,e,n)=>{const{vnode:s,slots:r}=t;let i=!0,o=et;if(s.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:Gg(r,e,n):(i=!e.$stable,Wg(e,r)),o=e}else e&&(Kg(t,e),o={default:1});if(i)for(const a in r)!nd(a)&&o[a]==null&&delete r[a]},Wt=wE;function lE(t){return cE(t)}function cE(t,e){const n=wl();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:o,createText:a,createComment:c,setText:d,setElementText:h,parentNode:p,nextSibling:m,setScopeId:g=Rn,insertStaticContent:b}=t,T=(k,V,N,K=null,Y=null,j=null,de=void 0,ne=null,Z=!!V.dynamicChildren)=>{if(k===V)return;k&&!ar(k,V)&&(K=U(k),rt(k,Y,j,!0),k=null),V.patchFlag===-2&&(Z=!1,V.dynamicChildren=null);const{type:re,ref:we,shapeFlag:F}=V;switch(re){case kl:P(k,V,N,K);break;case Ut:O(k,V,N,K);break;case Sa:k==null&&B(V,N,K,de);break;case Ee:E(k,V,N,K,Y,j,de,ne,Z);break;default:F&1?se(k,V,N,K,Y,j,de,ne,Z):F&6?I(k,V,N,K,Y,j,de,ne,Z):(F&64||F&128)&&re.process(k,V,N,K,Y,j,de,ne,Z,ye)}we!=null&&Y?Qi(we,k&&k.ref,j,V||k,!V):we==null&&k&&k.ref!=null&&Qi(k.ref,null,j,k,!0)},P=(k,V,N,K)=>{if(k==null)s(V.el=a(V.children),N,K);else{const Y=V.el=k.el;V.children!==k.children&&d(Y,V.children)}},O=(k,V,N,K)=>{k==null?s(V.el=c(V.children||""),N,K):V.el=k.el},B=(k,V,N,K)=>{[k.el,k.anchor]=b(k.children,V,N,K,k.el,k.anchor)},M=({el:k,anchor:V},N,K)=>{let Y;for(;k&&k!==V;)Y=m(k),s(k,N,K),k=Y;s(V,N,K)},z=({el:k,anchor:V})=>{let N;for(;k&&k!==V;)N=m(k),r(k),k=N;r(V)},se=(k,V,N,K,Y,j,de,ne,Z)=>{V.type==="svg"?de="svg":V.type==="math"&&(de="mathml"),k==null?ae(V,N,K,Y,j,de,ne,Z):v(k,V,Y,j,de,ne,Z)},ae=(k,V,N,K,Y,j,de,ne)=>{let Z,re;const{props:we,shapeFlag:F,transition:G,dirs:fe}=k;if(Z=k.el=o(k.type,j,we&&we.is,we),F&8?h(Z,k.children):F&16&&w(k.children,Z,null,K,Y,kc(k,j),de,ne),fe&&nr(k,null,K,"created"),C(Z,k,k.scopeId,de,K),we){for(const Pe in we)Pe!=="value"&&!zi(Pe)&&i(Z,Pe,null,we[Pe],j,K);"value"in we&&i(Z,"value",null,we.value,j),(re=we.onVnodeBeforeMount)&&In(re,K,k)}fe&&nr(k,null,K,"beforeMount");const be=uE(Y,G);be&&G.beforeEnter(Z),s(Z,V,N),((re=we&&we.onVnodeMounted)||be||fe)&&Wt(()=>{re&&In(re,K,k),be&&G.enter(Z),fe&&nr(k,null,K,"mounted")},Y)},C=(k,V,N,K,Y)=>{if(N&&g(k,N),K)for(let j=0;j<K.length;j++)g(k,K[j]);if(Y){let j=Y.subTree;if(V===j||Xg(j.type)&&(j.ssContent===V||j.ssFallback===V)){const de=Y.vnode;C(k,de,de.scopeId,de.slotScopeIds,Y.parent)}}},w=(k,V,N,K,Y,j,de,ne,Z=0)=>{for(let re=Z;re<k.length;re++){const we=k[re]=ne?gs(k[re]):kn(k[re]);T(null,we,V,N,K,Y,j,de,ne)}},v=(k,V,N,K,Y,j,de)=>{const ne=V.el=k.el;let{patchFlag:Z,dynamicChildren:re,dirs:we}=V;Z|=k.patchFlag&16;const F=k.props||et,G=V.props||et;let fe;if(N&&sr(N,!1),(fe=G.onVnodeBeforeUpdate)&&In(fe,N,V,k),we&&nr(V,k,N,"beforeUpdate"),N&&sr(N,!0),(F.innerHTML&&G.innerHTML==null||F.textContent&&G.textContent==null)&&h(ne,""),re?S(k.dynamicChildren,re,ne,N,K,kc(V,Y),j):de||Oe(k,V,ne,null,N,K,kc(V,Y),j,!1),Z>0){if(Z&16)A(ne,F,G,N,Y);else if(Z&2&&F.class!==G.class&&i(ne,"class",null,G.class,Y),Z&4&&i(ne,"style",F.style,G.style,Y),Z&8){const be=V.dynamicProps;for(let Pe=0;Pe<be.length;Pe++){const Ke=be[Pe],xt=F[Ke],Ot=G[Ke];(Ot!==xt||Ke==="value")&&i(ne,Ke,xt,Ot,Y,N)}}Z&1&&k.children!==V.children&&h(ne,V.children)}else!de&&re==null&&A(ne,F,G,N,Y);((fe=G.onVnodeUpdated)||we)&&Wt(()=>{fe&&In(fe,N,V,k),we&&nr(V,k,N,"updated")},K)},S=(k,V,N,K,Y,j,de)=>{for(let ne=0;ne<V.length;ne++){const Z=k[ne],re=V[ne],we=Z.el&&(Z.type===Ee||!ar(Z,re)||Z.shapeFlag&198)?p(Z.el):N;T(Z,re,we,null,K,Y,j,de,!0)}},A=(k,V,N,K,Y)=>{if(V!==N){if(V!==et)for(const j in V)!zi(j)&&!(j in N)&&i(k,j,V[j],null,Y,K);for(const j in N){if(zi(j))continue;const de=N[j],ne=V[j];de!==ne&&j!=="value"&&i(k,j,ne,de,Y,K)}"value"in N&&i(k,"value",V.value,N.value,Y)}},E=(k,V,N,K,Y,j,de,ne,Z)=>{const re=V.el=k?k.el:a(""),we=V.anchor=k?k.anchor:a("");let{patchFlag:F,dynamicChildren:G,slotScopeIds:fe}=V;fe&&(ne=ne?ne.concat(fe):fe),k==null?(s(re,N,K),s(we,N,K),w(V.children||[],N,we,Y,j,de,ne,Z)):F>0&&F&64&&G&&k.dynamicChildren?(S(k.dynamicChildren,G,N,Y,j,de,ne),(V.key!=null||Y&&V===Y.subTree)&&rd(k,V,!0)):Oe(k,V,N,we,Y,j,de,ne,Z)},I=(k,V,N,K,Y,j,de,ne,Z)=>{V.slotScopeIds=ne,k==null?V.shapeFlag&512?Y.ctx.activate(V,N,K,de,Z):me(V,N,K,Y,j,de,Z):Fe(k,V,Z)},me=(k,V,N,K,Y,j,de)=>{const ne=k.component=RE(k,K,Y);if(Al(k)&&(ne.ctx.renderer=ye),PE(ne,!1,de),ne.asyncDep){if(Y&&Y.registerDep(ne,je,de),!k.el){const Z=ne.subTree=te(Ut);O(null,Z,V,N),k.placeholder=Z.el}}else je(ne,k,V,N,Y,j,de)},Fe=(k,V,N)=>{const K=V.component=k.component;if(bE(k,V,N))if(K.asyncDep&&!K.asyncResolved){Ce(K,V,N);return}else K.next=V,K.update();else V.el=k.el,K.vnode=V},je=(k,V,N,K,Y,j,de)=>{const ne=()=>{if(k.isMounted){let{next:F,bu:G,u:fe,parent:be,vnode:Pe}=k;{const Zt=Qg(k);if(Zt){F&&(F.el=Pe.el,Ce(k,F,de)),Zt.asyncDep.then(()=>{k.isUnmounted||ne()});return}}let Ke=F,xt;sr(k,!1),F?(F.el=Pe.el,Ce(k,F,de)):F=Pe,G&&Ta(G),(xt=F.props&&F.props.onVnodeBeforeUpdate)&&In(xt,be,F,Pe),sr(k,!0);const Ot=uf(k),Xt=k.subTree;k.subTree=Ot,T(Xt,Ot,p(Xt.el),U(Xt),k,Y,j),F.el=Ot.el,Ke===null&&EE(k,Ot.el),fe&&Wt(fe,Y),(xt=F.props&&F.props.onVnodeUpdated)&&Wt(()=>In(xt,be,F,Pe),Y)}else{let F;const{el:G,props:fe}=V,{bm:be,m:Pe,parent:Ke,root:xt,type:Ot}=k,Xt=Ur(V);sr(k,!1),be&&Ta(be),!Xt&&(F=fe&&fe.onVnodeBeforeMount)&&In(F,Ke,V),sr(k,!0);{xt.ce&&xt.ce._def.shadowRoot!==!1&&xt.ce._injectChildStyle(Ot);const Zt=k.subTree=uf(k);T(null,Zt,N,K,k,Y,j),V.el=Zt.el}if(Pe&&Wt(Pe,Y),!Xt&&(F=fe&&fe.onVnodeMounted)){const Zt=V;Wt(()=>In(F,Ke,Zt),Y)}(V.shapeFlag&256||Ke&&Ur(Ke.vnode)&&Ke.vnode.shapeFlag&256)&&k.a&&Wt(k.a,Y),k.isMounted=!0,V=N=K=null}};k.scope.on();const Z=k.effect=new Jm(ne);k.scope.off();const re=k.update=Z.run.bind(Z),we=k.job=Z.runIfDirty.bind(Z);we.i=k,we.id=k.uid,Z.scheduler=()=>Zu(we),sr(k,!0),re()},Ce=(k,V,N)=>{V.component=k;const K=k.vnode.props;k.vnode=V,k.next=null,sE(k,V.props,K,N),aE(k,V.children,N),Qn(),Yh(k),Jn()},Oe=(k,V,N,K,Y,j,de,ne,Z=!1)=>{const re=k&&k.children,we=k?k.shapeFlag:0,F=V.children,{patchFlag:G,shapeFlag:fe}=V;if(G>0){if(G&128){Ne(re,F,N,K,Y,j,de,ne,Z);return}else if(G&256){pt(re,F,N,K,Y,j,de,ne,Z);return}}fe&8?(we&16&&ee(re,Y,j),F!==re&&h(N,F)):we&16?fe&16?Ne(re,F,N,K,Y,j,de,ne,Z):ee(re,Y,j,!0):(we&8&&h(N,""),fe&16&&w(F,N,K,Y,j,de,ne,Z))},pt=(k,V,N,K,Y,j,de,ne,Z)=>{k=k||$r,V=V||$r;const re=k.length,we=V.length,F=Math.min(re,we);let G;for(G=0;G<F;G++){const fe=V[G]=Z?gs(V[G]):kn(V[G]);T(k[G],fe,N,null,Y,j,de,ne,Z)}re>we?ee(k,Y,j,!0,!1,F):w(V,N,K,Y,j,de,ne,Z,F)},Ne=(k,V,N,K,Y,j,de,ne,Z)=>{let re=0;const we=V.length;let F=k.length-1,G=we-1;for(;re<=F&&re<=G;){const fe=k[re],be=V[re]=Z?gs(V[re]):kn(V[re]);if(ar(fe,be))T(fe,be,N,null,Y,j,de,ne,Z);else break;re++}for(;re<=F&&re<=G;){const fe=k[F],be=V[G]=Z?gs(V[G]):kn(V[G]);if(ar(fe,be))T(fe,be,N,null,Y,j,de,ne,Z);else break;F--,G--}if(re>F){if(re<=G){const fe=G+1,be=fe<we?V[fe].el:K;for(;re<=G;)T(null,V[re]=Z?gs(V[re]):kn(V[re]),N,be,Y,j,de,ne,Z),re++}}else if(re>G)for(;re<=F;)rt(k[re],Y,j,!0),re++;else{const fe=re,be=re,Pe=new Map;for(re=be;re<=G;re++){const St=V[re]=Z?gs(V[re]):kn(V[re]);St.key!=null&&Pe.set(St.key,re)}let Ke,xt=0;const Ot=G-be+1;let Xt=!1,Zt=0;const fn=new Array(Ot);for(re=0;re<Ot;re++)fn[re]=0;for(re=fe;re<=F;re++){const St=k[re];if(xt>=Ot){rt(St,Y,j,!0);continue}let wt;if(St.key!=null)wt=Pe.get(St.key);else for(Ke=be;Ke<=G;Ke++)if(fn[Ke-be]===0&&ar(St,V[Ke])){wt=Ke;break}wt===void 0?rt(St,Y,j,!0):(fn[wt-be]=re+1,wt>=Zt?Zt=wt:Xt=!0,T(St,V[wt],N,null,Y,j,de,ne,Z),xt++)}const Tr=Xt?dE(fn):$r;for(Ke=Tr.length-1,re=Ot-1;re>=0;re--){const St=be+re,wt=V[St],bi=V[St+1],Ys=St+1<we?bi.el||bi.placeholder:K;fn[re]===0?T(null,wt,N,Ys,Y,j,de,ne,Z):Xt&&(Ke<0||re!==Tr[Ke]?$(wt,N,Ys,2):Ke--)}}},$=(k,V,N,K,Y=null)=>{const{el:j,type:de,transition:ne,children:Z,shapeFlag:re}=k;if(re&6){$(k.component.subTree,V,N,K);return}if(re&128){k.suspense.move(V,N,K);return}if(re&64){de.move(k,V,N,ye);return}if(de===Ee){s(j,V,N);for(let F=0;F<Z.length;F++)$(Z[F],V,N,K);s(k.anchor,V,N);return}if(de===Sa){M(k,V,N);return}if(K!==2&&re&1&&ne)if(K===0)ne.beforeEnter(j),s(j,V,N),Wt(()=>ne.enter(j),Y);else{const{leave:F,delayLeave:G,afterLeave:fe}=ne,be=()=>{k.ctx.isUnmounted?r(j):s(j,V,N)},Pe=()=>{j._isLeaving&&j[qn](!0),F(j,()=>{be(),fe&&fe()})};G?G(j,be,Pe):Pe()}else s(j,V,N)},rt=(k,V,N,K=!1,Y=!1)=>{const{type:j,props:de,ref:ne,children:Z,dynamicChildren:re,shapeFlag:we,patchFlag:F,dirs:G,cacheIndex:fe}=k;if(F===-2&&(Y=!1),ne!=null&&(Qn(),Qi(ne,null,N,k,!0),Jn()),fe!=null&&(V.renderCache[fe]=void 0),we&256){V.ctx.deactivate(k);return}const be=we&1&&G,Pe=!Ur(k);let Ke;if(Pe&&(Ke=de&&de.onVnodeBeforeUnmount)&&In(Ke,V,k),we&6)W(k.component,N,K);else{if(we&128){k.suspense.unmount(N,K);return}be&&nr(k,null,V,"beforeUnmount"),we&64?k.type.remove(k,V,N,ye,K):re&&!re.hasOnce&&(j!==Ee||F>0&&F&64)?ee(re,V,N,!1,!0):(j===Ee&&F&384||!Y&&we&16)&&ee(Z,V,N),K&&ue(k)}(Pe&&(Ke=de&&de.onVnodeUnmounted)||be)&&Wt(()=>{Ke&&In(Ke,V,k),be&&nr(k,null,V,"unmounted")},N)},ue=k=>{const{type:V,el:N,anchor:K,transition:Y}=k;if(V===Ee){H(N,K);return}if(V===Sa){z(k);return}const j=()=>{r(N),Y&&!Y.persisted&&Y.afterLeave&&Y.afterLeave()};if(k.shapeFlag&1&&Y&&!Y.persisted){const{leave:de,delayLeave:ne}=Y,Z=()=>de(N,j);ne?ne(k.el,j,Z):Z()}else j()},H=(k,V)=>{let N;for(;k!==V;)N=m(k),r(k),k=N;r(V)},W=(k,V,N)=>{const{bum:K,scope:Y,job:j,subTree:de,um:ne,m:Z,a:re}=k;cf(Z),cf(re),K&&Ta(K),Y.stop(),j&&(j.flags|=8,rt(de,k,V,N)),ne&&Wt(ne,V),Wt(()=>{k.isUnmounted=!0},V)},ee=(k,V,N,K=!1,Y=!1,j=0)=>{for(let de=j;de<k.length;de++)rt(k[de],V,N,K,Y)},U=k=>{if(k.shapeFlag&6)return U(k.component.subTree);if(k.shapeFlag&128)return k.suspense.next();const V=m(k.anchor||k.el),N=V&&V[yg];return N?m(N):V};let oe=!1;const ce=(k,V,N)=>{k==null?V._vnode&&rt(V._vnode,null,null,!0):T(V._vnode||null,k,V,null,null,null,N),V._vnode=k,oe||(oe=!0,Yh(),gg(),oe=!1)},ye={p:T,um:rt,m:$,r:ue,mt:me,mc:w,pc:Oe,pbc:S,n:U,o:t};return{render:ce,hydrate:void 0,createApp:eE(ce)}}function kc({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function sr({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function uE(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function rd(t,e,n=!1){const s=t.children,r=e.children;if(Se(s)&&Se(r))for(let i=0;i<s.length;i++){const o=s[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=gs(r[i]),a.el=o.el),!n&&a.patchFlag!==-2&&rd(o,a)),a.type===kl&&a.patchFlag!==-1&&(a.el=o.el),a.type===Ut&&!a.el&&(a.el=o.el)}}function dE(t){const e=t.slice(),n=[0];let s,r,i,o,a;const c=t.length;for(s=0;s<c;s++){const d=t[s];if(d!==0){if(r=n[n.length-1],t[r]<d){e[s]=r,n.push(s);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<d?i=a+1:o=a;d<t[n[i]]&&(i>0&&(e[s]=n[i-1]),n[i]=s)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function Qg(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Qg(e)}function cf(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const hE=Symbol.for("v-scx"),fE=()=>sn(hE);function pE(t,e){return id(t,null,e)}function cn(t,e,n){return id(t,e,n)}function id(t,e,n=et){const{immediate:s,deep:r,flush:i,once:o}=n,a=Et({},n),c=e&&s||!e&&i!=="post";let d;if(mo){if(i==="sync"){const g=fE();d=g.__watcherHandles||(g.__watcherHandles=[])}else if(!c){const g=()=>{};return g.stop=Rn,g.resume=Rn,g.pause=Rn,g}}const h=qt;a.call=(g,b,T)=>vn(g,h,b,T);let p=!1;i==="post"?a.scheduler=g=>{Wt(g,h&&h.suspense)}:i!=="sync"&&(p=!0,a.scheduler=(g,b)=>{b?g():Zu(g)}),a.augmentJob=g=>{e&&(g.flags|=4),p&&(g.flags|=2,h&&(g.id=h.uid,g.i=h))};const m=Vb(t,e,a);return mo&&(d?d.push(m):c&&m()),m}function mE(t,e,n){const s=this.proxy,r=lt(t)?t.includes(".")?Jg(s,t):()=>s[t]:t.bind(s,s);let i;De(e)?i=e:(i=e.handler,n=e);const o=Oo(this),a=id(r,i.bind(s),n);return o(),a}function Jg(t,e){const n=e.split(".");return()=>{let s=t;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}const gE=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${un(e)}Modifiers`]||t[`${js(e)}Modifiers`];function _E(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||et;let r=n;const i=e.startsWith("update:"),o=i&&gE(s,e.slice(7));o&&(o.trim&&(r=n.map(h=>lt(h)?h.trim():h)),o.number&&(r=n.map(Ua)));let a,c=s[a=Ec(e)]||s[a=Ec(un(e))];!c&&i&&(c=s[a=Ec(js(e))]),c&&vn(c,t,6,r);const d=s[a+"Once"];if(d){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,vn(d,t,6,r)}}function Yg(t,e,n=!1){const s=e.emitsCache,r=s.get(t);if(r!==void 0)return r;const i=t.emits;let o={},a=!1;if(!De(t)){const c=d=>{const h=Yg(d,e,!0);h&&(a=!0,Et(o,h))};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!i&&!a?(tt(t)&&s.set(t,null),null):(Se(i)?i.forEach(c=>o[c]=null):Et(o,i),tt(t)&&s.set(t,o),o)}function Cl(t,e){return!t||!vl(e)?!1:(e=e.slice(2).replace(/Once$/,""),Je(t,e[0].toLowerCase()+e.slice(1))||Je(t,js(e))||Je(t,e))}function uf(t){const{type:e,vnode:n,proxy:s,withProxy:r,propsOptions:[i],slots:o,attrs:a,emit:c,render:d,renderCache:h,props:p,data:m,setupState:g,ctx:b,inheritAttrs:T}=t,P=za(t);let O,B;try{if(n.shapeFlag&4){const z=r||s,se=z;O=kn(d.call(se,z,h,p,g,m,b)),B=a}else{const z=e;O=kn(z.length>1?z(p,{attrs:a,slots:o,emit:c}):z(p,null)),B=e.props?a:vE(a)}}catch(z){Yi.length=0,Il(z,t,1),O=te(Ut)}let M=O;if(B&&T!==!1){const z=Object.keys(B),{shapeFlag:se}=M;z.length&&se&7&&(i&&z.some(qu)&&(B=yE(B,i)),M=Ms(M,B,!1,!0))}return n.dirs&&(M=Ms(M,null,!1,!0),M.dirs=M.dirs?M.dirs.concat(n.dirs):n.dirs),n.transition&&fr(M,n.transition),O=M,za(P),O}const vE=t=>{let e;for(const n in t)(n==="class"||n==="style"||vl(n))&&((e||(e={}))[n]=t[n]);return e},yE=(t,e)=>{const n={};for(const s in t)(!qu(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function bE(t,e,n){const{props:s,children:r,component:i}=t,{props:o,children:a,patchFlag:c}=e,d=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return s?df(s,o,d):!!o;if(c&8){const h=e.dynamicProps;for(let p=0;p<h.length;p++){const m=h[p];if(o[m]!==s[m]&&!Cl(d,m))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?df(s,o,d):!0:!!o;return!1}function df(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(e[i]!==t[i]&&!Cl(n,i))return!0}return!1}function EE({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const Xg=t=>t.__isSuspense;function wE(t,e){e&&e.pendingBranch?Se(t)?e.effects.push(...t):e.effects.push(t):Ob(t)}const Ee=Symbol.for("v-fgt"),kl=Symbol.for("v-txt"),Ut=Symbol.for("v-cmt"),Sa=Symbol.for("v-stc"),Yi=[];let tn=null;function R(t=!1){Yi.push(tn=t?null:[])}function TE(){Yi.pop(),tn=Yi[Yi.length-1]||null}let fo=1;function hf(t,e=!1){fo+=t,t<0&&tn&&e&&(tn.hasOnce=!0)}function Zg(t){return t.dynamicChildren=fo>0?tn||$r:null,TE(),fo>0&&tn&&tn.push(t),t}function D(t,e,n,s,r,i){return Zg(u(t,e,n,s,r,i,!0))}function Xe(t,e,n,s,r){return Zg(te(t,e,n,s,r,!0))}function po(t){return t?t.__v_isVNode===!0:!1}function ar(t,e){return t.type===e.type&&t.key===e.key}const e_=({key:t})=>t??null,Ca=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?lt(t)||ft(t)||De(t)?{i:Vt,r:t,k:e,f:!!n}:t:null);function u(t,e=null,n=null,s=0,r=null,i=t===Ee?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&e_(e),ref:e&&Ca(e),scopeId:vg,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Vt};return a?(od(c,n),i&128&&t.normalize(c)):n&&(c.shapeFlag|=lt(n)?8:16),fo>0&&!o&&tn&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&tn.push(c),c}const te=IE;function IE(t,e=null,n=null,s=0,r=null,i=!1){if((!t||t===Ng)&&(t=Ut),po(t)){const a=Ms(t,e,!0);return n&&od(a,n),fo>0&&!i&&tn&&(a.shapeFlag&6?tn[tn.indexOf(t)]=a:tn.push(a)),a.patchFlag=-2,a}if(NE(t)&&(t=t.__vccOpts),e){e=AE(e);let{class:a,style:c}=e;a&&!lt(a)&&(e.class=Ae(a)),tt(c)&&(Yu(c)&&!Se(c)&&(c=Et({},c)),e.style=rn(c))}const o=lt(t)?1:Xg(t)?128:bg(t)?64:tt(t)?4:De(t)?2:0;return u(t,e,n,s,r,o,i,!0)}function AE(t){return t?Yu(t)||jg(t)?Et({},t):t:null}function Ms(t,e,n=!1,s=!1){const{props:r,ref:i,patchFlag:o,children:a,transition:c}=t,d=e?SE(r||{},e):r,h={__v_isVNode:!0,__v_skip:!0,type:t.type,props:d,key:d&&e_(d),ref:e&&e.ref?n&&i?Se(i)?i.concat(Ca(e)):[i,Ca(e)]:Ca(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ee?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:c,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ms(t.ssContent),ssFallback:t.ssFallback&&Ms(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c&&s&&fr(h,c.clone(h)),h}function le(t=" ",e=0){return te(kl,null,t,e)}function Bt(t,e){const n=te(Sa,null,t);return n.staticCount=e,n}function ge(t="",e=!1){return e?(R(),Xe(Ut,null,t)):te(Ut,null,t)}function kn(t){return t==null||typeof t=="boolean"?te(Ut):Se(t)?te(Ee,null,t.slice()):po(t)?gs(t):te(kl,null,String(t))}function gs(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ms(t)}function od(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(Se(e))n=16;else if(typeof e=="object")if(s&65){const r=e.default;r&&(r._c&&(r._d=!1),od(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!jg(e)?e._ctx=Vt:r===3&&Vt&&(Vt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else De(e)?(e={default:e,_ctx:Vt},n=32):(e=String(e),s&64?(n=16,e=[le(e)]):n=8);t.children=e,t.shapeFlag|=n}function SE(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const r in s)if(r==="class")e.class!==s.class&&(e.class=Ae([e.class,s.class]));else if(r==="style")e.style=rn([e.style,s.style]);else if(vl(r)){const i=e[r],o=s[r];o&&i!==o&&!(Se(i)&&i.includes(o))&&(e[r]=i?[].concat(i,o):o)}else r!==""&&(e[r]=s[r])}return e}function In(t,e,n,s=null){vn(t,e,7,[n,s])}const CE=Ug();let kE=0;function RE(t,e,n){const s=t.type,r=(e?e.appContext:t.appContext)||CE,i={uid:kE++,vnode:t,type:s,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Km(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:zg(s,r),emitsOptions:Yg(s,r),emit:null,emitted:null,propsDefaults:et,inheritAttrs:s.inheritAttrs,ctx:et,data:et,props:et,attrs:et,slots:et,refs:et,setupState:et,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=_E.bind(null,i),t.ce&&t.ce(i),i}let qt=null;const xo=()=>qt||Vt;let Ka,ru;{const t=wl(),e=(n,s)=>{let r;return(r=t[n])||(r=t[n]=[]),r.push(s),i=>{r.length>1?r.forEach(o=>o(i)):r[0](i)}};Ka=e("__VUE_INSTANCE_SETTERS__",n=>qt=n),ru=e("__VUE_SSR_SETTERS__",n=>mo=n)}const Oo=t=>{const e=qt;return Ka(t),t.scope.on(),()=>{t.scope.off(),Ka(e)}},ff=()=>{qt&&qt.scope.off(),Ka(null)};function t_(t){return t.vnode.shapeFlag&4}let mo=!1;function PE(t,e=!1,n=!1){e&&ru(e);const{props:s,children:r}=t.vnode,i=t_(t);nE(t,s,i,e),oE(t,r,n||e);const o=i?VE(t,e):void 0;return e&&ru(!1),o}function VE(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Kb);const{setup:s}=n;if(s){Qn();const r=t.setupContext=s.length>1?xE(t):null,i=Oo(t),o=Vo(s,t,0,[t.props,r]),a=Um(o);if(Jn(),i(),(a||t.sp)&&!Ur(t)&&Rg(t),a){if(o.then(ff,ff),e)return o.then(c=>{pf(t,c)}).catch(c=>{Il(c,t,0)});t.asyncDep=o}else pf(t,o)}else n_(t)}function pf(t,e,n){De(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:tt(e)&&(t.setupState=fg(e)),n_(t)}function n_(t,e,n){const s=t.type;t.render||(t.render=s.render||Rn);{const r=Oo(t);Qn();try{Gb(t)}finally{Jn(),r()}}}const DE={get(t,e){return Lt(t,"get",""),t[e]}};function xE(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,DE),slots:t.slots,emit:t.emit,expose:e}}function Rl(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(fg(Xu(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Ji)return Ji[n](t)},has(e,n){return n in e||n in Ji}})):t.proxy}function OE(t,e=!0){return De(t)?t.displayName||t.name:t.name||e&&t.__name}function NE(t){return De(t)&&"__vccOpts"in t}const Q=(t,e)=>Rb(t,e,mo);function ad(t,e,n){const s=arguments.length;return s===2?tt(e)&&!Se(e)?po(e)?te(t,null,[e]):te(t,e):te(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&po(n)&&(n=[n]),te(t,e,n))}const s_="3.5.19";/**
* @vue/runtime-dom v3.5.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let iu;const mf=typeof window<"u"&&window.trustedTypes;if(mf)try{iu=mf.createPolicy("vue",{createHTML:t=>t})}catch{}const r_=iu?t=>iu.createHTML(t):t=>t,ME="http://www.w3.org/2000/svg",$E="http://www.w3.org/1998/Math/MathML",Bn=typeof document<"u"?document:null,gf=Bn&&Bn.createElement("template"),LE={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const r=e==="svg"?Bn.createElementNS(ME,t):e==="mathml"?Bn.createElementNS($E,t):n?Bn.createElement(t,{is:n}):Bn.createElement(t);return t==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:t=>Bn.createTextNode(t),createComment:t=>Bn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Bn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,r,i){const o=n?n.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{gf.innerHTML=r_(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const a=gf.content;if(s==="svg"||s==="mathml"){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},cs="transition",Mi="animation",Gr=Symbol("_vtc"),i_={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},o_=Et({},Ig,i_),FE=t=>(t.displayName="Transition",t.props=o_,t),dt=FE((t,{slots:e})=>ad($b,a_(t),e)),rr=(t,e=[])=>{Se(t)?t.forEach(n=>n(...e)):t&&t(...e)},_f=t=>t?Se(t)?t.some(e=>e.length>1):t.length>1:!1;function a_(t){const e={};for(const E in t)E in i_||(e[E]=t[E]);if(t.css===!1)return e;const{name:n="v",type:s,duration:r,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:c=i,appearActiveClass:d=o,appearToClass:h=a,leaveFromClass:p=`${n}-leave-from`,leaveActiveClass:m=`${n}-leave-active`,leaveToClass:g=`${n}-leave-to`}=t,b=UE(r),T=b&&b[0],P=b&&b[1],{onBeforeEnter:O,onEnter:B,onEnterCancelled:M,onLeave:z,onLeaveCancelled:se,onBeforeAppear:ae=O,onAppear:C=B,onAppearCancelled:w=M}=e,v=(E,I,me,Fe)=>{E._enterCancelled=Fe,fs(E,I?h:a),fs(E,I?d:o),me&&me()},S=(E,I)=>{E._isLeaving=!1,fs(E,p),fs(E,g),fs(E,m),I&&I()},A=E=>(I,me)=>{const Fe=E?C:B,je=()=>v(I,E,me);rr(Fe,[I,je]),vf(()=>{fs(I,E?c:i),An(I,E?h:a),_f(Fe)||yf(I,s,T,je)})};return Et(e,{onBeforeEnter(E){rr(O,[E]),An(E,i),An(E,o)},onBeforeAppear(E){rr(ae,[E]),An(E,c),An(E,d)},onEnter:A(!1),onAppear:A(!0),onLeave(E,I){E._isLeaving=!0;const me=()=>S(E,I);An(E,p),E._enterCancelled?(An(E,m),ou()):(ou(),An(E,m)),vf(()=>{E._isLeaving&&(fs(E,p),An(E,g),_f(z)||yf(E,s,P,me))}),rr(z,[E,me])},onEnterCancelled(E){v(E,!1,void 0,!0),rr(M,[E])},onAppearCancelled(E){v(E,!0,void 0,!0),rr(w,[E])},onLeaveCancelled(E){S(E),rr(se,[E])}})}function UE(t){if(t==null)return null;if(tt(t))return[Rc(t.enter),Rc(t.leave)];{const e=Rc(t);return[e,e]}}function Rc(t){return K1(t)}function An(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Gr]||(t[Gr]=new Set)).add(e)}function fs(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.remove(s));const n=t[Gr];n&&(n.delete(e),n.size||(t[Gr]=void 0))}function vf(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let BE=0;function yf(t,e,n,s){const r=t._endId=++BE,i=()=>{r===t._endId&&s()};if(n!=null)return setTimeout(i,n);const{type:o,timeout:a,propCount:c}=l_(t,e);if(!o)return s();const d=o+"end";let h=0;const p=()=>{t.removeEventListener(d,m),i()},m=g=>{g.target===t&&++h>=c&&p()};setTimeout(()=>{h<c&&p()},a+1),t.addEventListener(d,m)}function l_(t,e){const n=window.getComputedStyle(t),s=b=>(n[b]||"").split(", "),r=s(`${cs}Delay`),i=s(`${cs}Duration`),o=bf(r,i),a=s(`${Mi}Delay`),c=s(`${Mi}Duration`),d=bf(a,c);let h=null,p=0,m=0;e===cs?o>0&&(h=cs,p=o,m=i.length):e===Mi?d>0&&(h=Mi,p=d,m=c.length):(p=Math.max(o,d),h=p>0?o>d?cs:Mi:null,m=h?h===cs?i.length:c.length:0);const g=h===cs&&/\b(transform|all)(,|$)/.test(s(`${cs}Property`).toString());return{type:h,timeout:p,propCount:m,hasTransform:g}}function bf(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,s)=>Ef(n)+Ef(t[s])))}function Ef(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function ou(){return document.body.offsetHeight}function qE(t,e,n){const s=t[Gr];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Ga=Symbol("_vod"),c_=Symbol("_vsh"),lr={beforeMount(t,{value:e},{transition:n}){t[Ga]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):$i(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:s}){!e!=!n&&(s?e?(s.beforeEnter(t),$i(t,!0),s.enter(t)):s.leave(t,()=>{$i(t,!1)}):$i(t,e))},beforeUnmount(t,{value:e}){$i(t,e)}};function $i(t,e){t.style.display=e?t[Ga]:"none",t[c_]=!e}const jE=Symbol(""),HE=/(^|;)\s*display\s*:/;function zE(t,e,n){const s=t.style,r=lt(n);let i=!1;if(n&&!r){if(e)if(lt(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&ka(s,a,"")}else for(const o in e)n[o]==null&&ka(s,o,"");for(const o in n)o==="display"&&(i=!0),ka(s,o,n[o])}else if(r){if(e!==n){const o=s[jE];o&&(n+=";"+o),s.cssText=n,i=HE.test(n)}}else e&&t.removeAttribute("style");Ga in t&&(t[Ga]=i?s.display:"",t[c_]&&(s.display="none"))}const wf=/\s*!important$/;function ka(t,e,n){if(Se(n))n.forEach(s=>ka(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=WE(t,e);wf.test(n)?t.setProperty(js(s),n.replace(wf,""),"important"):t[s]=n}}const Tf=["Webkit","Moz","ms"],Pc={};function WE(t,e){const n=Pc[e];if(n)return n;let s=un(e);if(s!=="filter"&&s in t)return Pc[e]=s;s=El(s);for(let r=0;r<Tf.length;r++){const i=Tf[r]+s;if(i in t)return Pc[e]=i}return e}const If="http://www.w3.org/1999/xlink";function Af(t,e,n,s,r,i=Z1(e)){s&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(If,e.slice(6,e.length)):t.setAttributeNS(If,e,n):n==null||i&&!Hm(n)?t.removeAttribute(e):t.setAttribute(e,i?"":_n(n)?String(n):n)}function Sf(t,e,n,s,r){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?r_(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,c=n==null?t.type==="checkbox"?"on":"":String(n);(a!==c||!("_value"in t))&&(t.value=c),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=Hm(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(r||e)}function ys(t,e,n,s){t.addEventListener(e,n,s)}function KE(t,e,n,s){t.removeEventListener(e,n,s)}const Cf=Symbol("_vei");function GE(t,e,n,s,r=null){const i=t[Cf]||(t[Cf]={}),o=i[e];if(s&&o)o.value=s;else{const[a,c]=QE(e);if(s){const d=i[e]=XE(s,r);ys(t,a,d,c)}else o&&(KE(t,a,o,c),i[e]=void 0)}}const kf=/(?:Once|Passive|Capture)$/;function QE(t){let e;if(kf.test(t)){e={};let s;for(;s=t.match(kf);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):js(t.slice(2)),e]}let Vc=0;const JE=Promise.resolve(),YE=()=>Vc||(JE.then(()=>Vc=0),Vc=Date.now());function XE(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;vn(ZE(s,n.value),e,5,[s])};return n.value=t,n.attached=YE(),n}function ZE(t,e){if(Se(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>r=>!r._stopped&&s&&s(r))}else return e}const Rf=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,ew=(t,e,n,s,r,i)=>{const o=r==="svg";e==="class"?qE(t,s,o):e==="style"?zE(t,n,s):vl(e)?qu(e)||GE(t,e,n,s,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):tw(t,e,s,o))?(Sf(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Af(t,e,s,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!lt(s))?Sf(t,un(e),s,i,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),Af(t,e,s,o))};function tw(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&Rf(e)&&De(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Rf(e)&&lt(n)?!1:e in t}const u_=new WeakMap,d_=new WeakMap,Qa=Symbol("_moveCb"),Pf=Symbol("_enterCb"),nw=t=>(delete t.props.mode,t),sw=nw({name:"TransitionGroup",props:Et({},o_,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=xo(),s=Tg();let r,i;return xg(()=>{if(!r.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!aw(r[0].el,n.vnode.el,o)){r=[];return}r.forEach(rw),r.forEach(iw);const a=r.filter(ow);ou(),a.forEach(c=>{const d=c.el,h=d.style;An(d,o),h.transform=h.webkitTransform=h.transitionDuration="";const p=d[Qa]=m=>{m&&m.target!==d||(!m||/transform$/.test(m.propertyName))&&(d.removeEventListener("transitionend",p),d[Qa]=null,fs(d,o))};d.addEventListener("transitionend",p)}),r=[]}),()=>{const o=We(t),a=a_(o);let c=o.tag||Ee;if(r=[],i)for(let d=0;d<i.length;d++){const h=i[d];h.el&&h.el instanceof Element&&(r.push(h),fr(h,ho(h,a,s,n)),u_.set(h,h.el.getBoundingClientRect()))}i=e.default?ed(e.default()):[];for(let d=0;d<i.length;d++){const h=i[d];h.key!=null&&fr(h,ho(h,a,s,n))}return te(c,null,i)}}}),zs=sw;function rw(t){const e=t.el;e[Qa]&&e[Qa](),e[Pf]&&e[Pf]()}function iw(t){d_.set(t,t.el.getBoundingClientRect())}function ow(t){const e=u_.get(t),n=d_.get(t),s=e.left-n.left,r=e.top-n.top;if(s||r){const i=t.el.style;return i.transform=i.webkitTransform=`translate(${s}px,${r}px)`,i.transitionDuration="0s",t}}function aw(t,e,n){const s=t.cloneNode(),r=t[Gr];r&&r.forEach(a=>{a.split(/\s+/).forEach(c=>c&&s.classList.remove(c))}),n.split(/\s+/).forEach(a=>a&&s.classList.add(a)),s.style.display="none";const i=e.nodeType===1?e:e.parentNode;i.appendChild(s);const{hasTransform:o}=l_(s);return i.removeChild(s),o}const Qr=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Se(e)?n=>Ta(e,n):e};function lw(t){t.target.composing=!0}function Vf(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Gn=Symbol("_assign"),at={created(t,{modifiers:{lazy:e,trim:n,number:s}},r){t[Gn]=Qr(r);const i=s||r.props&&r.props.type==="number";ys(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),i&&(a=Ua(a)),t[Gn](a)}),n&&ys(t,"change",()=>{t.value=t.value.trim()}),e||(ys(t,"compositionstart",lw),ys(t,"compositionend",Vf),ys(t,"change",Vf))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:s,trim:r,number:i}},o){if(t[Gn]=Qr(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?Ua(t.value):t.value,c=e??"";a!==c&&(document.activeElement===t&&t.type!=="range"&&(s&&e===n||r&&t.value.trim()===c)||(t.value=c))}},kr={created(t,{value:e},n){t.checked=Kr(e,n.props.value),t[Gn]=Qr(n),ys(t,"change",()=>{t[Gn](go(t))})},beforeUpdate(t,{value:e,oldValue:n},s){t[Gn]=Qr(s),e!==n&&(t.checked=Kr(e,s.props.value))}},Pl={deep:!0,created(t,{value:e,modifiers:{number:n}},s){const r=yl(e);ys(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?Ua(go(o)):go(o));t[Gn](t.multiple?r?new Set(i):i:i[0]),t._assigning=!0,ci(()=>{t._assigning=!1})}),t[Gn]=Qr(s)},mounted(t,{value:e}){Df(t,e)},beforeUpdate(t,e,n){t[Gn]=Qr(n)},updated(t,{value:e}){t._assigning||Df(t,e)}};function Df(t,e){const n=t.multiple,s=Se(e);if(!(n&&!s&&!yl(e))){for(let r=0,i=t.options.length;r<i;r++){const o=t.options[r],a=go(o);if(n)if(s){const c=typeof a;c==="string"||c==="number"?o.selected=e.some(d=>String(d)===String(a)):o.selected=tb(e,a)>-1}else o.selected=e.has(a);else if(Kr(go(o),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function go(t){return"_value"in t?t._value:t.value}const cw=["ctrl","shift","alt","meta"],uw={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>cw.some(n=>t[`${n}Key`]&&!e.includes(n))},Yt=(t,e)=>{const n=t._withMods||(t._withMods={}),s=e.join(".");return n[s]||(n[s]=(r,...i)=>{for(let o=0;o<e.length;o++){const a=uw[e[o]];if(a&&a(r,e))return}return t(r,...i)})},dw={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Jr=(t,e)=>{const n=t._withKeys||(t._withKeys={}),s=e.join(".");return n[s]||(n[s]=r=>{if(!("key"in r))return;const i=js(r.key);if(e.some(o=>o===i||dw[o]===i))return t(r)})},hw=Et({patchProp:ew},LE);let xf;function fw(){return xf||(xf=lE(hw))}const pw=(...t)=>{const e=fw().createApp(...t),{mount:n}=e;return e.mount=s=>{const r=gw(s);if(!r)return;const i=e._component;!De(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=n(r,!1,mw(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};function mw(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function gw(t){return lt(t)?document.querySelector(t):t}function au(t,e={},n){for(const s in t){const r=t[s],i=n?`${n}:${s}`:s;typeof r=="object"&&r!==null?au(r,e,i):typeof r=="function"&&(e[i]=r)}return e}const _w={run:t=>t()},vw=()=>_w,h_=typeof console.createTask<"u"?console.createTask:vw;function yw(t,e){const n=e.shift(),s=h_(n);return t.reduce((r,i)=>r.then(()=>s.run(()=>i(...e))),Promise.resolve())}function bw(t,e){const n=e.shift(),s=h_(n);return Promise.all(t.map(r=>s.run(()=>r(...e))))}function Dc(t,e){for(const n of[...t])n(e)}class Ew{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(e,n,s={}){if(!e||typeof n!="function")return()=>{};const r=e;let i;for(;this._deprecatedHooks[e];)i=this._deprecatedHooks[e],e=i.to;if(i&&!s.allowDeprecated){let o=i.message;o||(o=`${r} hook has been deprecated`+(i.to?`, please use ${i.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(o)||(console.warn(o),this._deprecatedMessages.add(o))}if(!n.name)try{Object.defineProperty(n,"name",{get:()=>"_"+e.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[e]=this._hooks[e]||[],this._hooks[e].push(n),()=>{n&&(this.removeHook(e,n),n=void 0)}}hookOnce(e,n){let s,r=(...i)=>(typeof s=="function"&&s(),s=void 0,r=void 0,n(...i));return s=this.hook(e,r),s}removeHook(e,n){if(this._hooks[e]){const s=this._hooks[e].indexOf(n);s!==-1&&this._hooks[e].splice(s,1),this._hooks[e].length===0&&delete this._hooks[e]}}deprecateHook(e,n){this._deprecatedHooks[e]=typeof n=="string"?{to:n}:n;const s=this._hooks[e]||[];delete this._hooks[e];for(const r of s)this.hook(e,r)}deprecateHooks(e){Object.assign(this._deprecatedHooks,e);for(const n in e)this.deprecateHook(n,e[n])}addHooks(e){const n=au(e),s=Object.keys(n).map(r=>this.hook(r,n[r]));return()=>{for(const r of s.splice(0,s.length))r()}}removeHooks(e){const n=au(e);for(const s in n)this.removeHook(s,n[s])}removeAllHooks(){for(const e in this._hooks)delete this._hooks[e]}callHook(e,...n){return n.unshift(e),this.callHookWith(yw,e,...n)}callHookParallel(e,...n){return n.unshift(e),this.callHookWith(bw,e,...n)}callHookWith(e,n,...s){const r=this._before||this._after?{name:n,args:s,context:{}}:void 0;this._before&&Dc(this._before,r);const i=e(n in this._hooks?[...this._hooks[n]]:[],s);return i instanceof Promise?i.finally(()=>{this._after&&r&&Dc(this._after,r)}):(this._after&&r&&Dc(this._after,r),i)}beforeEach(e){return this._before=this._before||[],this._before.push(e),()=>{if(this._before!==void 0){const n=this._before.indexOf(e);n!==-1&&this._before.splice(n,1)}}}afterEach(e){return this._after=this._after||[],this._after.push(e),()=>{if(this._after!==void 0){const n=this._after.indexOf(e);n!==-1&&this._after.splice(n,1)}}}}function ww(){return new Ew}/*!
 * pinia v3.0.4
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let f_;const Vl=t=>f_=t,p_=Symbol();function lu(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Xi;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Xi||(Xi={}));function Tw(){const t=Gm(!0),e=t.run(()=>ie({}));let n=[],s=[];const r=Xu({install(i){Vl(r),r._a=i,i.provide(p_,r),i.config.globalProperties.$pinia=r,s.forEach(o=>n.push(o)),s=[]},use(i){return this._a?n.push(i):s.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return r}const m_=()=>{};function Of(t,e,n,s=m_){t.add(e);const r=()=>{t.delete(e)&&s()};return!n&&Qm()&&nb(r),r}function Rr(t,...e){t.forEach(n=>{n(...e)})}const Iw=t=>t(),Nf=Symbol(),xc=Symbol();function cu(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,s)=>t.set(s,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const s=e[n],r=t[n];lu(r)&&lu(s)&&t.hasOwnProperty(n)&&!ft(s)&&!Ss(s)?t[n]=cu(r,s):t[n]=s}return t}const Aw=Symbol();function Sw(t){return!lu(t)||!Object.prototype.hasOwnProperty.call(t,Aw)}const{assign:ps}=Object;function Cw(t){return!!(ft(t)&&t.effect)}function kw(t,e,n,s){const{state:r,actions:i,getters:o}=e,a=n.state.value[t];let c;function d(){a||(n.state.value[t]=r?r():{});const h=Ab(n.state.value[t]);return ps(h,i,Object.keys(o||{}).reduce((p,m)=>(p[m]=Xu(Q(()=>{Vl(n);const g=n._s.get(t);return o[m].call(g,g)})),p),{}))}return c=g_(t,d,e,n,s,!0),c}function g_(t,e,n={},s,r,i){let o;const a=ps({actions:{}},n),c={deep:!0};let d,h,p=new Set,m=new Set,g;const b=s.state.value[t];!i&&!b&&(s.state.value[t]={}),ie({});let T;function P(w){let v;d=h=!1,typeof w=="function"?(w(s.state.value[t]),v={type:Xi.patchFunction,storeId:t,events:g}):(cu(s.state.value[t],w),v={type:Xi.patchObject,payload:w,storeId:t,events:g});const S=T=Symbol();ci().then(()=>{T===S&&(d=!0)}),h=!0,Rr(p,v,s.state.value[t])}const O=i?function(){const{state:v}=n,S=v?v():{};this.$patch(A=>{ps(A,S)})}:m_;function B(){o.stop(),p.clear(),m.clear(),s._s.delete(t)}const M=(w,v="")=>{if(Nf in w)return w[xc]=v,w;const S=function(){Vl(s);const A=Array.from(arguments),E=new Set,I=new Set;function me(Ce){E.add(Ce)}function Fe(Ce){I.add(Ce)}Rr(m,{args:A,name:S[xc],store:se,after:me,onError:Fe});let je;try{je=w.apply(this&&this.$id===t?this:se,A)}catch(Ce){throw Rr(I,Ce),Ce}return je instanceof Promise?je.then(Ce=>(Rr(E,Ce),Ce)).catch(Ce=>(Rr(I,Ce),Promise.reject(Ce))):(Rr(E,je),je)};return S[Nf]=!0,S[xc]=v,S},z={_p:s,$id:t,$onAction:Of.bind(null,m),$patch:P,$reset:O,$subscribe(w,v={}){const S=Of(p,w,v.detached,()=>A()),A=o.run(()=>cn(()=>s.state.value[t],E=>{(v.flush==="sync"?h:d)&&w({storeId:t,type:Xi.direct,events:g},E)},ps({},c,v)));return S},$dispose:B},se=Os(z);s._s.set(t,se);const C=(s._a&&s._a.runWithContext||Iw)(()=>s._e.run(()=>(o=Gm()).run(()=>e({action:M}))));for(const w in C){const v=C[w];if(ft(v)&&!Cw(v)||Ss(v))i||(b&&Sw(v)&&(ft(v)?v.value=b[w]:cu(v,b[w])),s.state.value[t][w]=v);else if(typeof v=="function"){const S=M(v,w);C[w]=S,a.actions[w]=v}}return ps(se,C),ps(We(se),C),Object.defineProperty(se,"$state",{get:()=>s.state.value[t],set:w=>{P(v=>{ps(v,w)})}}),s._p.forEach(w=>{ps(se,o.run(()=>w({store:se,app:s._a,pinia:s,options:a})))}),b&&i&&n.hydrate&&n.hydrate(se.$state,b),d=!0,h=!0,se}/*! #__NO_SIDE_EFFECTS__ */function Dl(t,e,n){let s;const r=typeof e=="function";s=r?n:e;function i(o,a){const c=tE();return o=o||(c?sn(p_,null):null),o&&Vl(o),o=f_,o._s.has(t)||(r?g_(t,e,s,o):kw(t,s,o)),o._s.get(t)}return i.$id=t,i}const Rw=new Set(["title","titleTemplate","script","style","noscript"]),Ra=new Set(["base","meta","link","style","script","noscript"]),Pw=new Set(["title","titleTemplate","templateParams","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),Vw=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),__=new Set(["tagPosition","tagPriority","tagDuplicateStrategy","children","innerHTML","textContent","processTemplateParams"]),Dw=typeof window<"u";function Ja(t){let e=9;for(let n=0;n<t.length;)e=Math.imul(e^t.charCodeAt(n++),9**9);return((e^e>>>9)+65536).toString(16).substring(1,8).toLowerCase()}function uu(t){if(t._h)return t._h;if(t._d)return Ja(t._d);let e=`${t.tag}:${t.textContent||t.innerHTML||""}:`;for(const n in t.props)e+=`${n}:${String(t.props[n])},`;return Ja(e)}function xw(t,e){return t instanceof Promise?t.then(e):e(t)}function du(t,e,n,s){const r=s||y_(typeof e=="object"&&typeof e!="function"&&!(e instanceof Promise)?{...e}:{[t==="script"||t==="noscript"||t==="style"?"innerHTML":"textContent"]:e},t==="templateParams"||t==="titleTemplate");if(r instanceof Promise)return r.then(o=>du(t,e,n,o));const i={tag:t,props:r};for(const o of __){const a=i.props[o]!==void 0?i.props[o]:n[o];a!==void 0&&((!(o==="innerHTML"||o==="textContent"||o==="children")||Rw.has(i.tag))&&(i[o==="children"?"innerHTML":o]=a),delete i.props[o])}return i.props.body&&(i.tagPosition="bodyClose",delete i.props.body),i.tag==="script"&&typeof i.innerHTML=="object"&&(i.innerHTML=JSON.stringify(i.innerHTML),i.props.type=i.props.type||"application/json"),Array.isArray(i.props.content)?i.props.content.map(o=>({...i,props:{...i.props,content:o}})):i}function Ow(t,e){var s;const n=t==="class"?" ":";";return e&&typeof e=="object"&&!Array.isArray(e)&&(e=Object.entries(e).filter(([,r])=>r).map(([r,i])=>t==="style"?`${r}:${i}`:r)),(s=String(Array.isArray(e)?e.join(n):e))==null?void 0:s.split(n).filter(r=>!!r.trim()).join(n)}function v_(t,e,n,s){for(let r=s;r<n.length;r+=1){const i=n[r];if(i==="class"||i==="style"){t[i]=Ow(i,t[i]);continue}if(t[i]instanceof Promise)return t[i].then(o=>(t[i]=o,v_(t,e,n,r)));if(!e&&!__.has(i)){const o=String(t[i]),a=i.startsWith("data-");o==="true"||o===""?t[i]=a?"true":!0:t[i]||(a&&o==="false"?t[i]="false":delete t[i])}}}function y_(t,e=!1){const n=v_(t,e,Object.keys(t),0);return n instanceof Promise?n.then(()=>t):t}const Nw=10;function b_(t,e,n){for(let s=n;s<e.length;s+=1){const r=e[s];if(r instanceof Promise)return r.then(i=>(e[s]=i,b_(t,e,s)));Array.isArray(r)?t.push(...r):t.push(r)}}function Mw(t){const e=[],n=t.resolvedInput;for(const r in n){if(!Object.prototype.hasOwnProperty.call(n,r))continue;const i=n[r];if(!(i===void 0||!Pw.has(r))){if(Array.isArray(i)){for(const o of i)e.push(du(r,o,t));continue}e.push(du(r,i,t))}}if(e.length===0)return[];const s=[];return xw(b_(s,e,0),()=>s.map((r,i)=>(r._e=t._i,t.mode&&(r._m=t.mode),r._p=(t._i<<Nw)+i,r)))}const Mf=new Set(["onload","onerror","onabort","onprogress","onloadstart"]),$f={base:-10,title:10},Lf={critical:-80,high:-10,low:20};function Ya(t){const e=t.tagPriority;if(typeof e=="number")return e;let n=100;return t.tag==="meta"?t.props["http-equiv"]==="content-security-policy"?n=-30:t.props.charset?n=-20:t.props.name==="viewport"&&(n=-15):t.tag==="link"&&t.props.rel==="preconnect"?n=20:t.tag in $f&&(n=$f[t.tag]),e&&e in Lf?n+Lf[e]:n}const $w=[{prefix:"before:",offset:-1},{prefix:"after:",offset:1}],Lw=["name","property","http-equiv"];function E_(t){const{props:e,tag:n}=t;if(Vw.has(n))return n;if(n==="link"&&e.rel==="canonical")return"canonical";if(e.charset)return"charset";if(e.id)return`${n}:id:${e.id}`;for(const s of Lw)if(e[s]!==void 0)return`${n}:${s}:${e[s]}`;return!1}const _s="%separator";function Fw(t,e,n=!1){var r;let s;if(e==="s"||e==="pageTitle")s=t.pageTitle;else if(e.includes(".")){const i=e.indexOf(".");s=(r=t[e.substring(0,i)])==null?void 0:r[e.substring(i+1)]}else s=t[e];if(s!==void 0)return n?(s||"").replace(/"/g,'\\"'):s||""}const Uw=new RegExp(`${_s}(?:\\s*${_s})*`,"g");function ha(t,e,n,s=!1){if(typeof t!="string"||!t.includes("%"))return t;let r=t;try{r=decodeURI(t)}catch{}const i=r.match(/%\w+(?:\.\w+)?/g);if(!i)return t;const o=t.includes(_s);return t=t.replace(/%\w+(?:\.\w+)?/g,a=>{if(a===_s||!i.includes(a))return a;const c=Fw(e,a.slice(1),s);return c!==void 0?c:a}).trim(),o&&(t.endsWith(_s)&&(t=t.slice(0,-_s.length)),t.startsWith(_s)&&(t=t.slice(_s.length)),t=t.replace(Uw,n).trim()),t}function Ff(t,e){return t==null?e||null:typeof t=="function"?t(e):t}async function Bw(t,e={}){const n=e.document||t.resolvedOptions.document;if(!n||!t.dirty)return;const s={shouldRender:!0,tags:[]};if(await t.hooks.callHook("dom:beforeRender",s),!!s.shouldRender)return t._domUpdatePromise||(t._domUpdatePromise=new Promise(async r=>{var p;const i=(await t.resolveTags()).map(m=>({tag:m,id:Ra.has(m.tag)?uu(m):m.tag,shouldRender:!0}));let o=t._dom;if(!o){o={elMap:{htmlAttrs:n.documentElement,bodyAttrs:n.body}};const m=new Set;for(const g of["body","head"]){const b=(p=n[g])==null?void 0:p.children;for(const T of b){const P=T.tagName.toLowerCase();if(!Ra.has(P))continue;const O={tag:P,props:await y_(T.getAttributeNames().reduce((se,ae)=>({...se,[ae]:T.getAttribute(ae)}),{})),innerHTML:T.innerHTML},B=E_(O);let M=B,z=1;for(;M&&m.has(M);)M=`${B}:${z++}`;M&&(O._d=M,m.add(M)),o.elMap[T.getAttribute("data-hid")||uu(O)]=T}}}o.pendingSideEffects={...o.sideEffects},o.sideEffects={};function a(m,g,b){const T=`${m}:${g}`;o.sideEffects[T]=b,delete o.pendingSideEffects[T]}function c({id:m,$el:g,tag:b}){const T=b.tag.endsWith("Attrs");if(o.elMap[m]=g,T||(b.textContent&&b.textContent!==g.textContent&&(g.textContent=b.textContent),b.innerHTML&&b.innerHTML!==g.innerHTML&&(g.innerHTML=b.innerHTML),a(m,"el",()=>{var P;(P=o.elMap[m])==null||P.remove(),delete o.elMap[m]})),b._eventHandlers)for(const P in b._eventHandlers)Object.prototype.hasOwnProperty.call(b._eventHandlers,P)&&g.getAttribute(`data-${P}`)!==""&&((b.tag==="bodyAttrs"?n.defaultView:g).addEventListener(P.substring(2),b._eventHandlers[P].bind(g)),g.setAttribute(`data-${P}`,""));for(const P in b.props){if(!Object.prototype.hasOwnProperty.call(b.props,P))continue;const O=b.props[P],B=`attr:${P}`;if(P==="class"){if(!O)continue;for(const M of O.split(" "))T&&a(m,`${B}:${M}`,()=>g.classList.remove(M)),!g.classList.contains(M)&&g.classList.add(M)}else if(P==="style"){if(!O)continue;for(const M of O.split(";")){const z=M.indexOf(":"),se=M.substring(0,z).trim(),ae=M.substring(z+1).trim();a(m,`${B}:${se}`,()=>{g.style.removeProperty(se)}),g.style.setProperty(se,ae)}}else g.getAttribute(P)!==O&&g.setAttribute(P,O===!0?"":String(O)),T&&a(m,B,()=>g.removeAttribute(P))}}const d=[],h={bodyClose:void 0,bodyOpen:void 0,head:void 0};for(const m of i){const{tag:g,shouldRender:b,id:T}=m;if(b){if(g.tag==="title"){n.title=g.textContent;continue}m.$el=m.$el||o.elMap[T],m.$el?c(m):Ra.has(g.tag)&&d.push(m)}}for(const m of d){const g=m.tag.tagPosition||"head";m.$el=n.createElement(m.tag.tag),c(m),h[g]=h[g]||n.createDocumentFragment(),h[g].appendChild(m.$el)}for(const m of i)await t.hooks.callHook("dom:renderTag",m,n,a);h.head&&n.head.appendChild(h.head),h.bodyOpen&&n.body.insertBefore(h.bodyOpen,n.body.firstChild),h.bodyClose&&n.body.appendChild(h.bodyClose);for(const m in o.pendingSideEffects)o.pendingSideEffects[m]();t._dom=o,await t.hooks.callHook("dom:rendered",{renders:i}),r()}).finally(()=>{t._domUpdatePromise=void 0,t.dirty=!1})),t._domUpdatePromise}function qw(t,e={}){const n=e.delayFn||(s=>setTimeout(s,10));return t._domDebouncedUpdatePromise=t._domDebouncedUpdatePromise||new Promise(s=>n(()=>Bw(t,e).then(()=>{delete t._domDebouncedUpdatePromise,s()})))}function jw(t){return e=>{var s,r;const n=((r=(s=e.resolvedOptions.document)==null?void 0:s.head.querySelector('script[id="unhead:payload"]'))==null?void 0:r.innerHTML)||!1;return n&&e.push(JSON.parse(n)),{mode:"client",hooks:{"entries:updated":i=>{qw(i,t)}}}}}const Hw=new Set(["templateParams","htmlAttrs","bodyAttrs"]),zw={hooks:{"tag:normalise":({tag:t})=>{t.props.hid&&(t.key=t.props.hid,delete t.props.hid),t.props.vmid&&(t.key=t.props.vmid,delete t.props.vmid),t.props.key&&(t.key=t.props.key,delete t.props.key);const e=E_(t);e&&!e.startsWith("meta:og:")&&!e.startsWith("meta:twitter:")&&delete t.key;const n=e||(t.key?`${t.tag}:${t.key}`:!1);n&&(t._d=n)},"tags:resolve":t=>{const e=Object.create(null);for(const s of t.tags){const r=(s.key?`${s.tag}:${s.key}`:s._d)||uu(s),i=e[r];if(i){let a=s==null?void 0:s.tagDuplicateStrategy;if(!a&&Hw.has(s.tag)&&(a="merge"),a==="merge"){const c=i.props;c.style&&s.props.style&&(c.style[c.style.length-1]!==";"&&(c.style+=";"),s.props.style=`${c.style} ${s.props.style}`),c.class&&s.props.class?s.props.class=`${c.class} ${s.props.class}`:c.class&&(s.props.class=c.class),e[r].props={...c,...s.props};continue}else if(s._e===i._e){i._duped=i._duped||[],s._d=`${i._d}:${i._duped.length+1}`,i._duped.push(s);continue}else if(Ya(s)>Ya(i))continue}if(!(s.innerHTML||s.textContent||Object.keys(s.props).length!==0)&&Ra.has(s.tag)){delete e[r];continue}e[r]=s}const n=[];for(const s in e){const r=e[s],i=r._duped;n.push(r),i&&(delete r._duped,n.push(...i))}t.tags=n,t.tags=t.tags.filter(s=>!(s.tag==="meta"&&(s.props.name||s.props.property)&&!s.props.content))}}},Ww=new Set(["script","link","bodyAttrs"]),Kw=t=>({hooks:{"tags:resolve":e=>{for(const n of e.tags){if(!Ww.has(n.tag))continue;const s=n.props;for(const r in s){if(r[0]!=="o"||r[1]!=="n"||!Object.prototype.hasOwnProperty.call(s,r))continue;const i=s[r];typeof i=="function"&&(t.ssr&&Mf.has(r)?s[r]=`this.dataset.${r}fired = true`:delete s[r],n._eventHandlers=n._eventHandlers||{},n._eventHandlers[r]=i)}t.ssr&&n._eventHandlers&&(n.props.src||n.props.href)&&(n.key=n.key||Ja(n.props.src||n.props.href))}},"dom:renderTag":({$el:e,tag:n})=>{var r,i;const s=e==null?void 0:e.dataset;if(s)for(const o in s){if(!o.endsWith("fired"))continue;const a=o.slice(0,-5);Mf.has(a)&&((i=(r=n._eventHandlers)==null?void 0:r[a])==null||i.call(e,new Event(a.substring(2))))}}}}),Gw=new Set(["link","style","script","noscript"]),Qw={hooks:{"tag:normalise":({tag:t})=>{t.key&&Gw.has(t.tag)&&(t.props["data-hid"]=t._h=Ja(t.key))}}},Jw={mode:"server",hooks:{"tags:beforeResolve":t=>{const e={};let n=!1;for(const s of t.tags)s._m!=="server"||s.tag!=="titleTemplate"&&s.tag!=="templateParams"&&s.tag!=="title"||(e[s.tag]=s.tag==="title"||s.tag==="titleTemplate"?s.textContent:s.props,n=!0);n&&t.tags.push({tag:"script",innerHTML:JSON.stringify(e),props:{id:"unhead:payload",type:"application/json"}})}}},Yw={hooks:{"tags:resolve":t=>{var e;for(const n of t.tags)if(typeof n.tagPriority=="string")for(const{prefix:s,offset:r}of $w){if(!n.tagPriority.startsWith(s))continue;const i=n.tagPriority.substring(s.length),o=(e=t.tags.find(a=>a._d===i))==null?void 0:e._p;if(o!==void 0){n._p=o+r;break}}t.tags.sort((n,s)=>{const r=Ya(n),i=Ya(s);return r<i?-1:r>i?1:n._p-s._p})}}},Xw={meta:"content",link:"href",htmlAttrs:"lang"},Zw=["innerHTML","textContent"],eT=t=>({hooks:{"tags:resolve":e=>{var o;const{tags:n}=e;let s;for(let a=0;a<n.length;a+=1)n[a].tag==="templateParams"&&(s=e.tags.splice(a,1)[0].props,a-=1);const r=s||{},i=r.separator||"|";delete r.separator,r.pageTitle=ha(r.pageTitle||((o=n.find(a=>a.tag==="title"))==null?void 0:o.textContent)||"",r,i);for(const a of n){if(a.processTemplateParams===!1)continue;const c=Xw[a.tag];if(c&&typeof a.props[c]=="string")a.props[c]=ha(a.props[c],r,i);else if(a.processTemplateParams||a.tag==="titleTemplate"||a.tag==="title")for(const d of Zw)typeof a[d]=="string"&&(a[d]=ha(a[d],r,i,a.tag==="script"&&a.props.type.endsWith("json")))}t._templateParams=r,t._separator=i},"tags:afterResolve":({tags:e})=>{let n;for(let s=0;s<e.length;s+=1){const r=e[s];r.tag==="title"&&r.processTemplateParams!==!1&&(n=r)}n!=null&&n.textContent&&(n.textContent=ha(n.textContent,t._templateParams,t._separator))}}}),tT={hooks:{"tags:resolve":t=>{const{tags:e}=t;let n,s;for(let r=0;r<e.length;r+=1){const i=e[r];i.tag==="title"?n=i:i.tag==="titleTemplate"&&(s=i)}if(s&&n){const r=Ff(s.textContent,n.textContent);r!==null?n.textContent=r||n.textContent:t.tags.splice(t.tags.indexOf(n),1)}else if(s){const r=Ff(s.textContent);r!==null&&(s.textContent=r,s.tag="title",s=void 0)}s&&t.tags.splice(t.tags.indexOf(s),1)}}},nT={hooks:{"tags:afterResolve":t=>{for(const e of t.tags)typeof e.innerHTML=="string"&&(e.innerHTML&&(e.props.type==="application/ld+json"||e.props.type==="application/json")?e.innerHTML=e.innerHTML.replace(/</g,"\\u003C"):e.innerHTML=e.innerHTML.replace(new RegExp(`</${e.tag}`,"g"),`<\\/${e.tag}`))}}};let w_;function sT(t={}){const e=rT(t);return e.use(jw()),w_=e}function Uf(t,e){return!t||t==="server"&&e||t==="client"&&!e}function rT(t={}){const e=ww();e.addHooks(t.hooks||{}),t.document=t.document||(Dw?document:void 0);const n=!t.document,s=()=>{a.dirty=!0,e.callHook("entries:updated",a)};let r=0,i=[];const o=[],a={plugins:o,dirty:!1,resolvedOptions:t,hooks:e,headEntries(){return i},use(c){const d=typeof c=="function"?c(a):c;(!d.key||!o.some(h=>h.key===d.key))&&(o.push(d),Uf(d.mode,n)&&e.addHooks(d.hooks||{}))},push(c,d){d==null||delete d.head;const h={_i:r++,input:c,...d};return Uf(h.mode,n)&&(i.push(h),s()),{dispose(){i=i.filter(p=>p._i!==h._i),s()},patch(p){for(const m of i)m._i===h._i&&(m.input=h.input=p);s()}}},async resolveTags(){const c={tags:[],entries:[...i]};await e.callHook("entries:resolve",c);for(const d of c.entries){const h=d.resolvedInput||d.input;if(d.resolvedInput=await(d.transform?d.transform(h):h),d.resolvedInput)for(const p of await Mw(d)){const m={tag:p,entry:d,resolvedOptions:a.resolvedOptions};await e.callHook("tag:normalise",m),c.tags.push(m.tag)}}return await e.callHook("tags:beforeResolve",c),await e.callHook("tags:resolve",c),await e.callHook("tags:afterResolve",c),c.tags},ssr:n};return[zw,Jw,Kw,Qw,Yw,eT,tT,nT,...(t==null?void 0:t.plugins)||[]].forEach(c=>a.use(c)),a.hooks.callHook("init",a),a}function iT(){return w_}const oT=s_[0]==="3";function aT(t){return typeof t=="function"?t():Te(t)}function Xa(t){if(t instanceof Promise||t instanceof Date||t instanceof RegExp)return t;const e=aT(t);if(!t||!e)return e;if(Array.isArray(e))return e.map(n=>Xa(n));if(typeof e=="object"){const n={};for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(s==="titleTemplate"||s[0]==="o"&&s[1]==="n"){n[s]=Te(e[s]);continue}n[s]=Xa(e[s])}return n}return e}const lT={hooks:{"entries:resolve":t=>{for(const e of t.entries)e.resolvedInput=Xa(e.input)}}},T_="usehead";function cT(t){return{install(n){oT&&(n.config.globalProperties.$unhead=t,n.config.globalProperties.$head=t,n.provide(T_,t))}}.install}function uT(t={}){t.domDelayFn=t.domDelayFn||(n=>ci(()=>setTimeout(()=>n(),0)));const e=sT(t);return e.use(lT),e.install=cT(e),e}const Bf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},qf="__unhead_injection_handler__";function dT(){return qf in Bf?Bf[qf]():sn(T_)||iT()}function Ln(t,e={}){const n=e.head||dT();if(n)return n.ssr?n.push(t,e):hT(n,t,e)}function hT(t,e,n={}){const s=ie(!1),r=ie({});pE(()=>{r.value=s.value?{}:Xa(e)});const i=t.push(r.value,n);return cn(r,a=>{i.patch(a)}),xo()&&(td(()=>{i.dispose()}),Vg(()=>{s.value=!0}),Pg(()=>{s.value=!1})),i}function fT(t){const e=t;return e.headTags=t.resolveTags,e.addEntry=t.push,e.addHeadObjs=t.push,e.addReactiveEntry=(n,s)=>{const r=Ln(n,s);return r!==void 0?r.dispose:()=>{}},e.removeHeadObjs=()=>{},e.updateDOM=()=>{t.hooks.callHook("entries:updated",t)},e.unhead=t,e}function pT(t,e){const n=uT({});return fT(n)}/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Vr=typeof document<"u";function I_(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function mT(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&I_(t.default)}const Qe=Object.assign;function Oc(t,e){const n={};for(const s in e){const r=e[s];n[s]=yn(r)?r.map(t):t(r)}return n}const Zi=()=>{},yn=Array.isArray,A_=/#/g,gT=/&/g,_T=/\//g,vT=/=/g,yT=/\?/g,S_=/\+/g,bT=/%5B/g,ET=/%5D/g,C_=/%5E/g,wT=/%60/g,k_=/%7B/g,TT=/%7C/g,R_=/%7D/g,IT=/%20/g;function ld(t){return encodeURI(""+t).replace(TT,"|").replace(bT,"[").replace(ET,"]")}function AT(t){return ld(t).replace(k_,"{").replace(R_,"}").replace(C_,"^")}function hu(t){return ld(t).replace(S_,"%2B").replace(IT,"+").replace(A_,"%23").replace(gT,"%26").replace(wT,"`").replace(k_,"{").replace(R_,"}").replace(C_,"^")}function ST(t){return hu(t).replace(vT,"%3D")}function CT(t){return ld(t).replace(A_,"%23").replace(yT,"%3F")}function kT(t){return t==null?"":CT(t).replace(_T,"%2F")}function _o(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const RT=/\/$/,PT=t=>t.replace(RT,"");function Nc(t,e,n="/"){let s,r={},i="",o="";const a=e.indexOf("#");let c=e.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(s=e.slice(0,c),i=e.slice(c+1,a>-1?a:e.length),r=t(i)),a>-1&&(s=s||e.slice(0,a),o=e.slice(a,e.length)),s=OT(s??e,n),{fullPath:s+(i&&"?")+i+o,path:s,query:r,hash:_o(o)}}function VT(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function jf(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function DT(t,e,n){const s=e.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&Yr(e.matched[s],n.matched[r])&&P_(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Yr(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function P_(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!xT(t[n],e[n]))return!1;return!0}function xT(t,e){return yn(t)?Hf(t,e):yn(e)?Hf(e,t):t===e}function Hf(t,e){return yn(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function OT(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),r=s[s.length-1];(r===".."||r===".")&&s.push("");let i=n.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+s.slice(o).join("/")}const us={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var vo;(function(t){t.pop="pop",t.push="push"})(vo||(vo={}));var eo;(function(t){t.back="back",t.forward="forward",t.unknown=""})(eo||(eo={}));function NT(t){if(!t)if(Vr){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),PT(t)}const MT=/^[^#]+#/;function $T(t,e){return t.replace(MT,"#")+e}function LT(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const xl=()=>({left:window.scrollX,top:window.scrollY});function FT(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=LT(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function zf(t,e){return(history.state?history.state.position-e:-1)+t}const fu=new Map;function UT(t,e){fu.set(t,e)}function BT(t){const e=fu.get(t);return fu.delete(t),e}let qT=()=>location.protocol+"//"+location.host;function V_(t,e){const{pathname:n,search:s,hash:r}=e,i=t.indexOf("#");if(i>-1){let a=r.includes(t.slice(i))?t.slice(i).length:1,c=r.slice(a);return c[0]!=="/"&&(c="/"+c),jf(c,"")}return jf(n,t)+s+r}function jT(t,e,n,s){let r=[],i=[],o=null;const a=({state:m})=>{const g=V_(t,location),b=n.value,T=e.value;let P=0;if(m){if(n.value=g,e.value=m,o&&o===b){o=null;return}P=T?m.position-T.position:0}else s(g);r.forEach(O=>{O(n.value,b,{delta:P,type:vo.pop,direction:P?P>0?eo.forward:eo.back:eo.unknown})})};function c(){o=n.value}function d(m){r.push(m);const g=()=>{const b=r.indexOf(m);b>-1&&r.splice(b,1)};return i.push(g),g}function h(){const{history:m}=window;m.state&&m.replaceState(Qe({},m.state,{scroll:xl()}),"")}function p(){for(const m of i)m();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",h,{passive:!0}),{pauseListeners:c,listen:d,destroy:p}}function Wf(t,e,n,s=!1,r=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:r?xl():null}}function HT(t){const{history:e,location:n}=window,s={value:V_(t,n)},r={value:e.state};r.value||i(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(c,d,h){const p=t.indexOf("#"),m=p>-1?(n.host&&document.querySelector("base")?t:t.slice(p))+c:qT()+t+c;try{e[h?"replaceState":"pushState"](d,"",m),r.value=d}catch(g){console.error(g),n[h?"replace":"assign"](m)}}function o(c,d){const h=Qe({},e.state,Wf(r.value.back,c,r.value.forward,!0),d,{position:r.value.position});i(c,h,!0),s.value=c}function a(c,d){const h=Qe({},r.value,e.state,{forward:c,scroll:xl()});i(h.current,h,!0);const p=Qe({},Wf(s.value,c,null),{position:h.position+1},d);i(c,p,!1),s.value=c}return{location:s,state:r,push:a,replace:o}}function zT(t){t=NT(t);const e=HT(t),n=jT(t,e.state,e.location,e.replace);function s(i,o=!0){o||n.pauseListeners(),history.go(i)}const r=Qe({location:"",base:t,go:s,createHref:$T.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function WT(t){return typeof t=="string"||t&&typeof t=="object"}function D_(t){return typeof t=="string"||typeof t=="symbol"}const x_=Symbol("");var Kf;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Kf||(Kf={}));function Xr(t,e){return Qe(new Error,{type:t,[x_]:!0},e)}function Un(t,e){return t instanceof Error&&x_ in t&&(e==null||!!(t.type&e))}const Gf="[^/]+?",KT={sensitive:!1,strict:!1,start:!0,end:!0},GT=/[.+*?^${}()[\]/\\]/g;function QT(t,e){const n=Qe({},KT,e),s=[];let r=n.start?"^":"";const i=[];for(const d of t){const h=d.length?[]:[90];n.strict&&!d.length&&(r+="/");for(let p=0;p<d.length;p++){const m=d[p];let g=40+(n.sensitive?.25:0);if(m.type===0)p||(r+="/"),r+=m.value.replace(GT,"\\$&"),g+=40;else if(m.type===1){const{value:b,repeatable:T,optional:P,regexp:O}=m;i.push({name:b,repeatable:T,optional:P});const B=O||Gf;if(B!==Gf){g+=10;try{new RegExp(`(${B})`)}catch(z){throw new Error(`Invalid custom RegExp for param "${b}" (${B}): `+z.message)}}let M=T?`((?:${B})(?:/(?:${B}))*)`:`(${B})`;p||(M=P&&d.length<2?`(?:/${M})`:"/"+M),P&&(M+="?"),r+=M,g+=20,P&&(g+=-8),T&&(g+=-20),B===".*"&&(g+=-50)}h.push(g)}s.push(h)}if(n.strict&&n.end){const d=s.length-1;s[d][s[d].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function a(d){const h=d.match(o),p={};if(!h)return null;for(let m=1;m<h.length;m++){const g=h[m]||"",b=i[m-1];p[b.name]=g&&b.repeatable?g.split("/"):g}return p}function c(d){let h="",p=!1;for(const m of t){(!p||!h.endsWith("/"))&&(h+="/"),p=!1;for(const g of m)if(g.type===0)h+=g.value;else if(g.type===1){const{value:b,repeatable:T,optional:P}=g,O=b in d?d[b]:"";if(yn(O)&&!T)throw new Error(`Provided param "${b}" is an array but it is not repeatable (* or + modifiers)`);const B=yn(O)?O.join("/"):O;if(!B)if(P)m.length<2&&(h.endsWith("/")?h=h.slice(0,-1):p=!0);else throw new Error(`Missing required param "${b}"`);h+=B}}return h||"/"}return{re:o,score:s,keys:i,parse:a,stringify:c}}function JT(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function O_(t,e){let n=0;const s=t.score,r=e.score;for(;n<s.length&&n<r.length;){const i=JT(s[n],r[n]);if(i)return i;n++}if(Math.abs(r.length-s.length)===1){if(Qf(s))return 1;if(Qf(r))return-1}return r.length-s.length}function Qf(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const YT={type:0,value:""},XT=/[a-zA-Z0-9_]/;function ZT(t){if(!t)return[[]];if(t==="/")return[[YT]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(g){throw new Error(`ERR (${n})/"${d}": ${g}`)}let n=0,s=n;const r=[];let i;function o(){i&&r.push(i),i=[]}let a=0,c,d="",h="";function p(){d&&(n===0?i.push({type:0,value:d}):n===1||n===2||n===3?(i.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:d,regexp:h,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),d="")}function m(){d+=c}for(;a<t.length;){if(c=t[a++],c==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:c==="/"?(d&&p(),o()):c===":"?(p(),n=1):m();break;case 4:m(),n=s;break;case 1:c==="("?n=2:XT.test(c)?m():(p(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+c:n=3:h+=c;break;case 3:p(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,h="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${d}"`),p(),o(),r}function e0(t,e,n){const s=QT(ZT(t.path),n),r=Qe(s,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function t0(t,e){const n=[],s=new Map;e=Zf({strict:!1,end:!0,sensitive:!1},e);function r(p){return s.get(p)}function i(p,m,g){const b=!g,T=Yf(p);T.aliasOf=g&&g.record;const P=Zf(e,p),O=[T];if("alias"in p){const z=typeof p.alias=="string"?[p.alias]:p.alias;for(const se of z)O.push(Yf(Qe({},T,{components:g?g.record.components:T.components,path:se,aliasOf:g?g.record:T})))}let B,M;for(const z of O){const{path:se}=z;if(m&&se[0]!=="/"){const ae=m.record.path,C=ae[ae.length-1]==="/"?"":"/";z.path=m.record.path+(se&&C+se)}if(B=e0(z,m,P),g?g.alias.push(B):(M=M||B,M!==B&&M.alias.push(B),b&&p.name&&!Xf(B)&&o(p.name)),N_(B)&&c(B),T.children){const ae=T.children;for(let C=0;C<ae.length;C++)i(ae[C],B,g&&g.children[C])}g=g||B}return M?()=>{o(M)}:Zi}function o(p){if(D_(p)){const m=s.get(p);m&&(s.delete(p),n.splice(n.indexOf(m),1),m.children.forEach(o),m.alias.forEach(o))}else{const m=n.indexOf(p);m>-1&&(n.splice(m,1),p.record.name&&s.delete(p.record.name),p.children.forEach(o),p.alias.forEach(o))}}function a(){return n}function c(p){const m=r0(p,n);n.splice(m,0,p),p.record.name&&!Xf(p)&&s.set(p.record.name,p)}function d(p,m){let g,b={},T,P;if("name"in p&&p.name){if(g=s.get(p.name),!g)throw Xr(1,{location:p});P=g.record.name,b=Qe(Jf(m.params,g.keys.filter(M=>!M.optional).concat(g.parent?g.parent.keys.filter(M=>M.optional):[]).map(M=>M.name)),p.params&&Jf(p.params,g.keys.map(M=>M.name))),T=g.stringify(b)}else if(p.path!=null)T=p.path,g=n.find(M=>M.re.test(T)),g&&(b=g.parse(T),P=g.record.name);else{if(g=m.name?s.get(m.name):n.find(M=>M.re.test(m.path)),!g)throw Xr(1,{location:p,currentLocation:m});P=g.record.name,b=Qe({},m.params,p.params),T=g.stringify(b)}const O=[];let B=g;for(;B;)O.unshift(B.record),B=B.parent;return{name:P,path:T,params:b,matched:O,meta:s0(O)}}t.forEach(p=>i(p));function h(){n.length=0,s.clear()}return{addRoute:i,resolve:d,removeRoute:o,clearRoutes:h,getRoutes:a,getRecordMatcher:r}}function Jf(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function Yf(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:n0(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function n0(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="object"?n[s]:n;return e}function Xf(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function s0(t){return t.reduce((e,n)=>Qe(e,n.meta),{})}function Zf(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function r0(t,e){let n=0,s=e.length;for(;n!==s;){const i=n+s>>1;O_(t,e[i])<0?s=i:n=i+1}const r=i0(t);return r&&(s=e.lastIndexOf(r,s-1)),s}function i0(t){let e=t;for(;e=e.parent;)if(N_(e)&&O_(t,e)===0)return e}function N_({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function o0(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<s.length;++r){const i=s[r].replace(S_," "),o=i.indexOf("="),a=_o(o<0?i:i.slice(0,o)),c=o<0?null:_o(i.slice(o+1));if(a in e){let d=e[a];yn(d)||(d=e[a]=[d]),d.push(c)}else e[a]=c}return e}function ep(t){let e="";for(let n in t){const s=t[n];if(n=ST(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(yn(s)?s.map(i=>i&&hu(i)):[s&&hu(s)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function a0(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=yn(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return e}const l0=Symbol(""),tp=Symbol(""),Ol=Symbol(""),cd=Symbol(""),pu=Symbol("");function Li(){let t=[];function e(s){return t.push(s),()=>{const r=t.indexOf(s);r>-1&&t.splice(r,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function vs(t,e,n,s,r,i=o=>o()){const o=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((a,c)=>{const d=m=>{m===!1?c(Xr(4,{from:n,to:e})):m instanceof Error?c(m):WT(m)?c(Xr(2,{from:e,to:m})):(o&&s.enterCallbacks[r]===o&&typeof m=="function"&&o.push(m),a())},h=i(()=>t.call(s&&s.instances[r],e,n,d));let p=Promise.resolve(h);t.length<3&&(p=p.then(d)),p.catch(m=>c(m))})}function Mc(t,e,n,s,r=i=>i()){const i=[];for(const o of t)for(const a in o.components){let c=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(I_(c)){const h=(c.__vccOpts||c)[e];h&&i.push(vs(h,n,s,o,a,r))}else{let d=c();i.push(()=>d.then(h=>{if(!h)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const p=mT(h)?h.default:h;o.mods[a]=h,o.components[a]=p;const g=(p.__vccOpts||p)[e];return g&&vs(g,n,s,o,a,r)()}))}}return i}function np(t){const e=sn(Ol),n=sn(cd),s=Q(()=>{const c=Te(t.to);return e.resolve(c)}),r=Q(()=>{const{matched:c}=s.value,{length:d}=c,h=c[d-1],p=n.matched;if(!h||!p.length)return-1;const m=p.findIndex(Yr.bind(null,h));if(m>-1)return m;const g=sp(c[d-2]);return d>1&&sp(h)===g&&p[p.length-1].path!==g?p.findIndex(Yr.bind(null,c[d-2])):m}),i=Q(()=>r.value>-1&&f0(n.params,s.value.params)),o=Q(()=>r.value>-1&&r.value===n.matched.length-1&&P_(n.params,s.value.params));function a(c={}){if(h0(c)){const d=e[Te(t.replace)?"replace":"push"](Te(t.to)).catch(Zi);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>d),d}return Promise.resolve()}return{route:s,href:Q(()=>s.value.href),isActive:i,isExactActive:o,navigate:a}}function c0(t){return t.length===1?t[0]:t}const u0=kg({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:np,setup(t,{slots:e}){const n=Os(np(t)),{options:s}=sn(Ol),r=Q(()=>({[rp(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[rp(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&c0(e.default(n));return t.custom?i:ad("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},i)}}}),d0=u0;function h0(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function f0(t,e){for(const n in e){const s=e[n],r=t[n];if(typeof s=="string"){if(s!==r)return!1}else if(!yn(r)||r.length!==s.length||s.some((i,o)=>i!==r[o]))return!1}return!0}function sp(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const rp=(t,e,n)=>t??e??n,p0=kg({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=sn(pu),r=Q(()=>t.route||s.value),i=sn(tp,0),o=Q(()=>{let d=Te(i);const{matched:h}=r.value;let p;for(;(p=h[d])&&!p.components;)d++;return d}),a=Q(()=>r.value.matched[o.value]);Aa(tp,Q(()=>o.value+1)),Aa(l0,a),Aa(pu,r);const c=ie();return cn(()=>[c.value,a.value,t.name],([d,h,p],[m,g,b])=>{h&&(h.instances[p]=d,g&&g!==h&&d&&d===m&&(h.leaveGuards.size||(h.leaveGuards=g.leaveGuards),h.updateGuards.size||(h.updateGuards=g.updateGuards))),d&&h&&(!g||!Yr(h,g)||!m)&&(h.enterCallbacks[p]||[]).forEach(T=>T(d))},{flush:"post"}),()=>{const d=r.value,h=t.name,p=a.value,m=p&&p.components[h];if(!m)return ip(n.default,{Component:m,route:d});const g=p.props[h],b=g?g===!0?d.params:typeof g=="function"?g(d):g:null,P=ad(m,Qe({},b,e,{onVnodeUnmounted:O=>{O.component.isUnmounted&&(p.instances[h]=null)},ref:c}));return ip(n.default,{Component:P,route:d})||P}}});function ip(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const m0=p0;function g0(t){const e=t0(t.routes,t),n=t.parseQuery||o0,s=t.stringifyQuery||ep,r=t.history,i=Li(),o=Li(),a=Li(),c=wb(us);let d=us;Vr&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=Oc.bind(null,U=>""+U),p=Oc.bind(null,kT),m=Oc.bind(null,_o);function g(U,oe){let ce,ye;return D_(U)?(ce=e.getRecordMatcher(U),ye=oe):ye=U,e.addRoute(ye,ce)}function b(U){const oe=e.getRecordMatcher(U);oe&&e.removeRoute(oe)}function T(){return e.getRoutes().map(U=>U.record)}function P(U){return!!e.getRecordMatcher(U)}function O(U,oe){if(oe=Qe({},oe||c.value),typeof U=="string"){const N=Nc(n,U,oe.path),K=e.resolve({path:N.path},oe),Y=r.createHref(N.fullPath);return Qe(N,K,{params:m(K.params),hash:_o(N.hash),redirectedFrom:void 0,href:Y})}let ce;if(U.path!=null)ce=Qe({},U,{path:Nc(n,U.path,oe.path).path});else{const N=Qe({},U.params);for(const K in N)N[K]==null&&delete N[K];ce=Qe({},U,{params:p(N)}),oe.params=p(oe.params)}const ye=e.resolve(ce,oe),He=U.hash||"";ye.params=h(m(ye.params));const k=VT(s,Qe({},U,{hash:AT(He),path:ye.path})),V=r.createHref(k);return Qe({fullPath:k,hash:He,query:s===ep?a0(U.query):U.query||{}},ye,{redirectedFrom:void 0,href:V})}function B(U){return typeof U=="string"?Nc(n,U,c.value.path):Qe({},U)}function M(U,oe){if(d!==U)return Xr(8,{from:oe,to:U})}function z(U){return C(U)}function se(U){return z(Qe(B(U),{replace:!0}))}function ae(U){const oe=U.matched[U.matched.length-1];if(oe&&oe.redirect){const{redirect:ce}=oe;let ye=typeof ce=="function"?ce(U):ce;return typeof ye=="string"&&(ye=ye.includes("?")||ye.includes("#")?ye=B(ye):{path:ye},ye.params={}),Qe({query:U.query,hash:U.hash,params:ye.path!=null?{}:U.params},ye)}}function C(U,oe){const ce=d=O(U),ye=c.value,He=U.state,k=U.force,V=U.replace===!0,N=ae(ce);if(N)return C(Qe(B(N),{state:typeof N=="object"?Qe({},He,N.state):He,force:k,replace:V}),oe||ce);const K=ce;K.redirectedFrom=oe;let Y;return!k&&DT(s,ye,ce)&&(Y=Xr(16,{to:K,from:ye}),$(ye,ye,!0,!1)),(Y?Promise.resolve(Y):S(K,ye)).catch(j=>Un(j)?Un(j,2)?j:Ne(j):Oe(j,K,ye)).then(j=>{if(j){if(Un(j,2))return C(Qe({replace:V},B(j.to),{state:typeof j.to=="object"?Qe({},He,j.to.state):He,force:k}),oe||K)}else j=E(K,ye,!0,V,He);return A(K,ye,j),j})}function w(U,oe){const ce=M(U,oe);return ce?Promise.reject(ce):Promise.resolve()}function v(U){const oe=H.values().next().value;return oe&&typeof oe.runWithContext=="function"?oe.runWithContext(U):U()}function S(U,oe){let ce;const[ye,He,k]=_0(U,oe);ce=Mc(ye.reverse(),"beforeRouteLeave",U,oe);for(const N of ye)N.leaveGuards.forEach(K=>{ce.push(vs(K,U,oe))});const V=w.bind(null,U,oe);return ce.push(V),ee(ce).then(()=>{ce=[];for(const N of i.list())ce.push(vs(N,U,oe));return ce.push(V),ee(ce)}).then(()=>{ce=Mc(He,"beforeRouteUpdate",U,oe);for(const N of He)N.updateGuards.forEach(K=>{ce.push(vs(K,U,oe))});return ce.push(V),ee(ce)}).then(()=>{ce=[];for(const N of k)if(N.beforeEnter)if(yn(N.beforeEnter))for(const K of N.beforeEnter)ce.push(vs(K,U,oe));else ce.push(vs(N.beforeEnter,U,oe));return ce.push(V),ee(ce)}).then(()=>(U.matched.forEach(N=>N.enterCallbacks={}),ce=Mc(k,"beforeRouteEnter",U,oe,v),ce.push(V),ee(ce))).then(()=>{ce=[];for(const N of o.list())ce.push(vs(N,U,oe));return ce.push(V),ee(ce)}).catch(N=>Un(N,8)?N:Promise.reject(N))}function A(U,oe,ce){a.list().forEach(ye=>v(()=>ye(U,oe,ce)))}function E(U,oe,ce,ye,He){const k=M(U,oe);if(k)return k;const V=oe===us,N=Vr?history.state:{};ce&&(ye||V?r.replace(U.fullPath,Qe({scroll:V&&N&&N.scroll},He)):r.push(U.fullPath,He)),c.value=U,$(U,oe,ce,V),Ne()}let I;function me(){I||(I=r.listen((U,oe,ce)=>{if(!W.listening)return;const ye=O(U),He=ae(ye);if(He){C(Qe(He,{replace:!0,force:!0}),ye).catch(Zi);return}d=ye;const k=c.value;Vr&&UT(zf(k.fullPath,ce.delta),xl()),S(ye,k).catch(V=>Un(V,12)?V:Un(V,2)?(C(Qe(B(V.to),{force:!0}),ye).then(N=>{Un(N,20)&&!ce.delta&&ce.type===vo.pop&&r.go(-1,!1)}).catch(Zi),Promise.reject()):(ce.delta&&r.go(-ce.delta,!1),Oe(V,ye,k))).then(V=>{V=V||E(ye,k,!1),V&&(ce.delta&&!Un(V,8)?r.go(-ce.delta,!1):ce.type===vo.pop&&Un(V,20)&&r.go(-1,!1)),A(ye,k,V)}).catch(Zi)}))}let Fe=Li(),je=Li(),Ce;function Oe(U,oe,ce){Ne(U);const ye=je.list();return ye.length?ye.forEach(He=>He(U,oe,ce)):console.error(U),Promise.reject(U)}function pt(){return Ce&&c.value!==us?Promise.resolve():new Promise((U,oe)=>{Fe.add([U,oe])})}function Ne(U){return Ce||(Ce=!U,me(),Fe.list().forEach(([oe,ce])=>U?ce(U):oe()),Fe.reset()),U}function $(U,oe,ce,ye){const{scrollBehavior:He}=t;if(!Vr||!He)return Promise.resolve();const k=!ce&&BT(zf(U.fullPath,0))||(ye||!ce)&&history.state&&history.state.scroll||null;return ci().then(()=>He(U,oe,k)).then(V=>V&&FT(V)).catch(V=>Oe(V,U,oe))}const rt=U=>r.go(U);let ue;const H=new Set,W={currentRoute:c,listening:!0,addRoute:g,removeRoute:b,clearRoutes:e.clearRoutes,hasRoute:P,getRoutes:T,resolve:O,options:t,push:z,replace:se,go:rt,back:()=>rt(-1),forward:()=>rt(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:je.add,isReady:pt,install(U){const oe=this;U.component("RouterLink",d0),U.component("RouterView",m0),U.config.globalProperties.$router=oe,Object.defineProperty(U.config.globalProperties,"$route",{enumerable:!0,get:()=>Te(c)}),Vr&&!ue&&c.value===us&&(ue=!0,z(r.location).catch(He=>{}));const ce={};for(const He in us)Object.defineProperty(ce,He,{get:()=>c.value[He],enumerable:!0});U.provide(Ol,oe),U.provide(cd,ug(ce)),U.provide(pu,c);const ye=U.unmount;H.add(U),U.unmount=function(){H.delete(U),H.size<1&&(d=us,I&&I(),I=null,c.value=us,ue=!1,Ce=!1),ye()}}};function ee(U){return U.reduce((oe,ce)=>oe.then(()=>v(ce)),Promise.resolve())}return W}function _0(t,e){const n=[],s=[],r=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(d=>Yr(d,a))?s.push(a):n.push(a));const c=t.matched[o];c&&(e.matched.find(d=>Yr(d,c))||r.push(c))}return[n,s,r]}function M_(){return sn(Ol)}function $_(t){return sn(cd)}const Ws=Dl("ui",()=>{const t=ie(!1),e=ie(!1),n=ie(!1),s=ie(null),r=ie([]),i=ie(!1),o=ie(!1);function a(){t.value=!t.value,t.value&&(e.value=!1)}function c(){t.value=!0,e.value=!1}function d(){t.value=!1}function h(){e.value=!e.value,e.value&&(t.value=!1)}function p(){e.value=!0,t.value=!1}function m(){e.value=!1}function g(S){s.value=S,n.value=!0}function b(){n.value=!1,s.value=null}function T(S){const A=Date.now(),E={id:A,type:S.type||"info",message:S.message,duration:S.duration||4e3};return r.value.push(E),E.duration>0&&setTimeout(()=>{P(A)},E.duration),A}function P(S){const A=r.value.findIndex(E=>E.id===S);A>-1&&r.value.splice(A,1)}function O(){r.value=[]}function B(S,A=4e3){return T({type:"success",message:S,duration:A})}function M(S,A=5e3){return T({type:"error",message:S,duration:A})}function z(S,A=4e3){return T({type:"warning",message:S,duration:A})}function se(S,A=4e3){return T({type:"info",message:S,duration:A})}function ae(){i.value=!i.value}function C(S){i.value=S}function w(S){o.value=S}function v(){t.value=!1,e.value=!1,n.value=!1}return{isMobileMenuOpen:t,isCartDrawerOpen:e,isModalOpen:n,modalContent:s,notifications:r,isDarkMode:i,isGlobalLoading:o,toggleMobileMenu:a,openMobileMenu:c,closeMobileMenu:d,toggleCartDrawer:h,openCartDrawer:p,closeCartDrawer:m,openModal:g,closeModal:b,addNotification:T,removeNotification:P,clearAllNotifications:O,showSuccess:B,showError:M,showWarning:z,showInfo:se,toggleDarkMode:ae,setDarkMode:C,setGlobalLoading:w,closeAll:v}}),ds=ie(!1);function L_(){const t=()=>{ds.value=!ds.value,n()},e=r=>{ds.value=r,n()},n=()=>{ds.value?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},s=()=>{const r=localStorage.getItem("theme");r?ds.value=r==="dark":ds.value=window.matchMedia("(prefers-color-scheme: dark)").matches,n()};return Hs(()=>{s(),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",r=>{localStorage.getItem("theme")||(ds.value=r.matches,n())})}),{isDark:ds,toggleDarkMode:t,setDarkMode:e}}const Ge=(t,e)=>{const n=t.__vccOpts||t;for(const[s,r]of e)n[s]=r;return n},v0=["onClick"],y0={class:"toast-icon"},b0={class:"toast-message"},E0=["onClick"],w0={__name:"NotificationToast",setup(t){const e=Ws(),n=Q(()=>e.notifications),s=i=>e.removeNotification(i),r={success:"",error:"",warning:"",info:""};return(i,o)=>(R(),Xe(hr,{to:"body"},[te(zs,{name:"toast",tag:"div",class:"toast-container"},{default:pe(()=>[(R(!0),D(Ee,null,Le(n.value,a=>(R(),D("div",{key:a.id,class:Ae(["toast",`toast-${a.type}`]),onClick:c=>s(a.id)},[u("span",y0,x(r[a.type]),1),u("span",b0,x(a.message),1),u("button",{class:"toast-close",onClick:Yt(c=>s(a.id),["stop"])},"",8,E0),u("div",{class:"toast-progress",style:rn({animationDuration:`${a.duration}ms`})},null,4)],10,v0))),128))]),_:1})]))}},F_=Ge(w0,[["__scopeId","data-v-695fa0bd"]]),T0=["aria-label"],I0={__name:"DarkModeToggle",setup(t){const{isDark:e,toggleDarkMode:n}=L_();return(s,r)=>(R(),D("button",{class:"dark-mode-toggle",onClick:r[0]||(r[0]=(...i)=>Te(n)&&Te(n)(...i)),"aria-label":Te(e)?" ":" "},[u("span",{class:Ae(["toggle-track",{dark:Te(e)}])},[r[1]||(r[1]=u("span",{class:"toggle-icon sun"},"",-1)),r[2]||(r[2]=u("span",{class:"toggle-icon moon"},"",-1)),u("span",{class:Ae(["toggle-thumb",{dark:Te(e)}])},null,2)],2)],8,T0))}},op=Ge(I0,[["__scopeId","data-v-5315c5ee"]]),A0={class:"footer"},S0={class:"footer-content"},C0={class:"container"},k0={class:"footer-grid"},R0={class:"footer-section"},P0={class:"footer-nav"},V0={class:"newsletter-section"},D0={class:"newsletter-content"},x0=["disabled"],O0={class:"footer-bottom"},N0={class:"copyright"},M0={__name:"AppFooter",setup(t){const e=Ws(),n=ie(""),s=ie(!1),r=Q(()=>new Date().getFullYear()),i=async()=>{n.value&&(s.value=!0,await new Promise(o=>setTimeout(o,1e3)),e.showSuccess("!    "),n.value="",s.value=!1)};return(o,a)=>{const c=Gt("router-link");return R(),D("footer",A0,[a[13]||(a[13]=u("div",{class:"footer-wave"},[u("svg",{viewBox:"0 0 1200 120",preserveAspectRatio:"none"},[u("path",{d:"M0,60 C300,120 900,0 1200,60 L1200,120 L0,120 Z"})])],-1)),u("div",S0,[u("div",C0,[u("div",k0,[a[9]||(a[9]=Bt('<div class="footer-section brand-section" data-v-67f91c58><div class="brand" data-v-67f91c58><span class="brand-logo" data-v-67f91c58></span><span class="brand-name" data-v-67f91c58></span></div><p class="brand-description" data-v-67f91c58>     .        .</p><div class="social-links" data-v-67f91c58><a href="https://www.facebook.com/Margalitut/" target="_blank" class="social-link facebook" aria-label="" data-v-67f91c58><span class="social-icon" data-v-67f91c58></span></a><a href="https://wa.me/972528460331" target="_blank" class="social-link whatsapp" aria-label="" data-v-67f91c58><span class="social-icon" data-v-67f91c58></span></a></div></div>',1)),u("div",R0,[a[8]||(a[8]=u("h4",null," ",-1)),u("nav",P0,[te(c,{to:"/"},{default:pe(()=>[...a[1]||(a[1]=[le(" ",-1)])]),_:1}),te(c,{to:"/menu"},{default:pe(()=>[...a[2]||(a[2]=[le("",-1)])]),_:1}),te(c,{to:"/gallery"},{default:pe(()=>[...a[3]||(a[3]=[le("",-1)])]),_:1}),te(c,{to:"/about"},{default:pe(()=>[...a[4]||(a[4]=[le("",-1)])]),_:1}),te(c,{to:"/my-orders"},{default:pe(()=>[...a[5]||(a[5]=[le(" ",-1)])]),_:1}),te(c,{to:"/quote"},{default:pe(()=>[...a[6]||(a[6]=[le(" ",-1)])]),_:1}),te(c,{to:"/faq"},{default:pe(()=>[...a[7]||(a[7]=[le(" ",-1)])]),_:1})])]),a[10]||(a[10]=Bt('<div class="footer-section" data-v-67f91c58><h4 class="section-title" data-v-67f91c58> </h4><div class="contact-list" data-v-67f91c58><a href="tel:0528460331" class="contact-item" data-v-67f91c58><span class="contact-icon" data-v-67f91c58></span><span data-v-67f91c58>052-846-0331</span></a><a href="mailto:margalitot@email.com" class="contact-item" data-v-67f91c58><span class="contact-icon" data-v-67f91c58></span><span data-v-67f91c58>margalitot@email.com</span></a><div class="contact-item" data-v-67f91c58><span class="contact-icon" data-v-67f91c58></span><span data-v-67f91c58> , </span></div></div></div><div class="footer-section" data-v-67f91c58><h4 class="section-title" data-v-67f91c58> </h4><div class="hours-list" data-v-67f91c58><div class="hours-item" data-v-67f91c58><span class="day" data-v-67f91c58> - </span><span class="time" data-v-67f91c58>09:00 - 19:00</span></div><div class="hours-item" data-v-67f91c58><span class="day" data-v-67f91c58></span><span class="time" data-v-67f91c58>09:00 - 14:00</span></div><div class="hours-item closed" data-v-67f91c58><span class="day" data-v-67f91c58></span><span class="time" data-v-67f91c58></span></div></div><div class="kosher-badge" data-v-67f91c58><span class="badge-icon" data-v-67f91c58></span><span class="badge-text" data-v-67f91c58>   </span></div></div>',2))]),u("div",V0,[u("div",D0,[a[11]||(a[11]=u("div",{class:"newsletter-text"},[u("h4",null," !"),u("p",null,"      ")],-1)),u("form",{class:"newsletter-form",onSubmit:Yt(i,["prevent"])},[$e(u("input",{type:"email","onUpdate:modelValue":a[0]||(a[0]=d=>n.value=d),placeholder:" ",class:"newsletter-input",required:""},null,512),[[at,n.value]]),u("button",{type:"submit",class:"newsletter-btn",disabled:s.value},x(s.value?"...":""),9,x0)],32)])]),u("div",O0,[u("div",N0," "+x(r.value)+" .   .",1),a[12]||(a[12]=Bt('<div class="bottom-links" data-v-67f91c58><a href="#" class="bottom-link" data-v-67f91c58> </a><span class="separator" data-v-67f91c58></span><a href="#" class="bottom-link" data-v-67f91c58> </a><span class="separator" data-v-67f91c58></span><a href="#" class="bottom-link" data-v-67f91c58></a></div><div class="made-with" data-v-67f91c58>   </div>',2))])])])])}}},$0=Ge(M0,[["__scopeId","data-v-67f91c58"]]),ui=Dl("menu",()=>{const t=ie([{id:"yeast-cakes",name:" ",icon:"",description:"   ",color:"#F4A460",tips:[{icon:"",title:" ",text:"        "},{icon:"",title:" ",text:"         "},{icon:"",title:" ",text:"        "},{icon:"",title:"",text:"     3 .    "}]},{id:"mixed-cakes",name:" ",icon:"",description:"   ",color:"#DDA0DD",tips:[{icon:"",title:"  ",text:"        "},{icon:"",title:"   ",text:"     -     "},{icon:"",title:" ",text:"          "},{icon:"",title:"",text:"   10    "}]},{id:"cookies",name:"",icon:"",description:"  ",color:"#D2691E",tips:[{icon:"",title:" ",text:"   30    -    "},{icon:"",title:" ",text:"        "},{icon:"",title:" ",text:"         "},{icon:"",title:" ",text:"      -     "}]},{id:"breads",name:"",icon:"",description:"  ",color:"#DEB887",tips:[{icon:"",title:"",text:"        "},{icon:"",title:" ",text:"    20    "},{icon:"",title:" ",text:"       "},{icon:"",title:"",text:"  15      "}]},{id:"sugar-free",name:" ",icon:"",description:"   ",color:"#90EE90",tips:[{icon:"",title:"  ",text:" ,      "},{icon:"",title:"",text:"   200  -    "},{icon:"",title:" ",text:"      "},{icon:"",title:" ",text:"       -    "}]},{id:"gluten-free",name:" ",icon:"",description:"  ",color:"#F0E68C",tips:[{icon:"",title:" ",text:"         "},{icon:"",title:" ",text:"    -     "},{icon:"",title:" ",text:"   30    -   "},{icon:"",title:"",text:"       "}]},{id:"vegan",name:"",icon:"",description:"     ",color:"#98FB98",tips:[{icon:"",title:" ",text:" ,         "},{icon:"",title:" ",text:" ,      "},{icon:"",title:"",text:"      "},{icon:"",title:"",text:"     -    "}]},{id:"ice-cream",name:"",icon:"",description:"   ",color:"#FFB6C1",tips:[{icon:"",title:" ",text:"    10      "},{icon:"",title:" ",text:"        "},{icon:"",title:"  ",text:"        "},{icon:"",title:"",text:"         "}]},{id:"dairy-meals",name:" ",icon:"",description:"   ",color:"#FFA07A",hasSubcategories:!0,tips:[{icon:"",title:"",text:"        "},{icon:"",title:"",text:"    -     "},{icon:"",title:"",text:"         "},{icon:"",title:" ",text:"        "}]},{id:"baking-workshops",name:" ",icon:"",color:"#d34a6e",description:"    ",isExternal:!1}]),e=ie([{id:"pizzas",name:"",icon:""},{id:"quiches",name:"",icon:""},{id:"salads",name:"",icon:""},{id:"pastas",name:"",icon:""},{id:"soups",name:"",icon:""}]),n=ie([{id:1,name:"  ",category:"yeast-cakes",price:50,image:"",description:"     ",popular:!0},{id:2,name:"  ",category:"yeast-cakes",price:50,image:"",description:"     "},{id:3,name:"   ",category:"yeast-cakes",price:55,image:"",description:"    ",popular:!0},{id:4,name:"   ",category:"yeast-cakes",price:55,image:"",description:"     "},{id:5,name:"  ",category:"yeast-cakes",price:55,image:"",description:"     "},{id:6,name:"   ",category:"yeast-cakes",price:55,image:"",description:"     "},{id:7,name:"   ",category:"yeast-cakes",price:55,image:"",description:"     "},{id:8,name:"   ",category:"yeast-cakes",price:60,image:"",description:"   "},{id:9,name:"  ",category:"yeast-cakes",price:50,image:"",description:"    "},{id:10,name:"   ",category:"yeast-cakes",price:55,image:"",description:"     "},{id:11,name:" /",category:"yeast-cakes",price:55,image:"",description:" /"},{id:12,name:" /",category:"yeast-cakes",price:55,image:"",description:" /"},{id:12,name:"  ",category:"yeast-cakes",price:55,image:"",description:"  "},{id:13,name:"  ",category:"mixed-cakes",price:45,image:"",description:"    ",popular:!0},{id:14,name:" ",category:"mixed-cakes",price:45,image:"",description:" ",popular:!0},{id:15,name:" ",category:"mixed-cakes",price:45,image:"",description:" "},{id:16,name:" ",category:"mixed-cakes",price:45,image:"",description:" "},{id:17,name:" ",category:"mixed-cakes",price:45,image:"",description:" "},{id:18,name:" ",category:"mixed-cakes",price:45,image:"",description:" "},{id:19,name:" ",category:"mixed-cakes",price:45,image:"",description:" "},{id:20,name:" ",category:"mixed-cakes",price:45,image:"",description:" "},{id:21,name:"  ",category:"mixed-cakes",price:45,image:"",description:"  "},{id:22,name:"  ",category:"mixed-cakes",price:60,image:"",description:"     "},{id:23,name:"  ",category:"mixed-cakes",price:45,image:"",description:"  "},{id:24,name:"   ",category:"mixed-cakes",price:50,image:"",description:"     "},{id:25,name:"  '",category:"cookies",price:45,image:"",description:"   '",popular:!0},{id:26,name:"  ' ",category:"cookies",price:55,image:"",description:"   ' ",popular:!0},{id:27,name:"  ' ",category:"cookies",price:45,image:"",description:"   ' ",popular:!0},{id:28,name:"  ' ",category:"cookies",price:55,image:"",description:"   ' ",popular:!0},{id:29,name:"  '  ",category:"cookies",price:45,image:"",description:"   '  ",popular:!0},{id:30,name:" ",category:"cookies",price:40,image:"",description:"   "},{id:31,name:" ",category:"cookies",price:50,image:"",description:"  "},{id:32,name:" ",category:"cookies",price:45,image:"",description:" "},{id:33,name:"  ",category:"cookies",price:50,image:"",description:"  ",popular:!0},{id:34,name:"   ",category:"cookies",price:50,image:"",description:"     "},{id:35,name:"",category:"cookies",price:12,image:"",description:""},{id:36,name:"  ",category:"cookies",price:50,image:"",description:"  "},{id:37,name:" ",category:"cookies",price:50,image:"",description:"  "},{id:38,name:"  ",category:"cookies",price:50,image:"",description:"  "},{id:39,name:" ",category:"cookies",price:50,image:"",description:" "},{id:40,name:"",category:"cookies",price:50,image:"",description:""},{id:41,name:"",category:"cookies",price:50,image:"",description:""},{id:42,name:"  ",category:"cookies",price:50,image:"",description:"      "},{id:43,name:" ",category:"cookies",price:50,image:"",description:" "},{id:44,name:" ",category:"cookies",price:50,image:"",description:" "},{id:45,name:" ",category:"cookies",price:50,image:"",description:" "},{id:46,name:" ",category:"cookies",price:50,image:"",description:" "},{id:47,name:"  ",category:"cookies",price:50,image:"",description:"  "},{id:55,name:"   ",category:"breads",price:25,image:"",description:"   (5 )",popular:!0},{id:56,name:"",category:"breads",price:20,image:"",description:" "},{id:57,name:"    80%",category:"breads",price:35,image:"",description:"  80% (5 )"},{id:58,name:"  80%",category:"breads",price:35,image:"",description:"  80%"},{id:59,name:"   80%",category:"breads",price:9,image:"",description:"   80% (6 ')"},{id:60,name:"  ",category:"breads",price:12,image:"",description:"  "},{id:61,name:" ",category:"breads",price:7,image:"",description:" "},{id:70,name:"   ",category:"sugar-free",price:90,image:"",description:"   ",popular:!0},{id:71,name:"    ",category:"sugar-free",price:50,image:"",description:"   "},{id:72,name:"   ",category:"sugar-free",price:55,image:"",description:"   "},{id:73,name:"   ",category:"sugar-free",price:100,image:"",description:"   "},{id:80,name:"   ",category:"gluten-free",price:100,image:"",description:"    ",popular:!0},{id:81,name:"   ",category:"gluten-free",price:55,image:"",description:"   "},{id:82,name:"   ",category:"gluten-free",price:110,image:"",description:"   "},{id:88,name:"  ",category:"vegan",price:95,image:"",description:"    ",popular:!0},{id:89,name:" ",category:"vegan",price:50,image:"",description:"  ' "},{id:90,name:" ",category:"vegan",price:55,image:"",description:"  "},{id:91,name:" ",category:"vegan",price:35,image:"",description:"    "},{id:95,name:" ",category:"ice-cream",price:130,image:"",description:"    ",popular:!0},{id:96,name:"  ",category:"ice-cream",price:130,image:"",description:"   "},{id:97,name:"  ",category:"ice-cream",price:130,image:"",description:"     "},{id:98,name:" ",category:"ice-cream",price:130,image:"",description:"   "},{id:99,name:" ",category:"ice-cream",price:130,image:"",description:"   "},{id:100,name:" ",category:"ice-cream",price:130,image:"",description:"   "},{id:106,name:" ",category:"dairy-meals",subcategory:"pizzas",price:70,image:"",description:"     2 ",popular:!0},{id:110,name:"  ",category:"dairy-meals",subcategory:"quiches",price:180,image:"",description:"    3 ",popular:!0},{id:111,name:"  ",category:"dairy-meals",subcategory:"quiches",price:120,image:"",description:"  "},{id:112,name:"  ",category:"dairy-meals",subcategory:"quiches",price:180,image:"",description:"  "},{id:113,name:"  ",category:"dairy-meals",subcategory:"quiches",price:120,image:"",description:"  "},{id:114,name:"  ",category:"dairy-meals",subcategory:"quiches",price:180,image:"",description:"    3 ",popular:!0},{id:115,name:"  ",category:"dairy-meals",subcategory:"quiches",price:120,image:"",description:"  "},{id:116,name:"  ",category:"dairy-meals",subcategory:"quiches",price:180,image:"",description:"  "},{id:117,name:"  ",category:"dairy-meals",subcategory:"quiches",price:120,image:"",description:"  "},{id:118,name:"  ",category:"dairy-meals",subcategory:"quiches",price:180,image:"",description:"  "},{id:119,name:"  ",category:"dairy-meals",subcategory:"quiches",price:120,image:"",description:"  "},{id:120,name:"  ",category:"dairy-meals",subcategory:"borax",price:10,image:"",description:"  "},{id:121,name:" ",category:"dairy-meals",subcategory:"borax",price:10,image:"",description:" "},{id:122,name:"  ",category:"dairy-meals",subcategory:"borax",price:170,image:"",description:"  "},{id:140,name:" ",category:"dairy-meals",subcategory:"pastas",price:120,image:"",description:"   ",popular:!0},{id:141,name:" ",category:"dairy-meals",subcategory:"pastas",price:120,image:"",description:"   "},{id:142,name:" ",category:"dairy-meals",subcategory:"pastas",price:120,image:"",description:"   "},{id:155,name:"  ",category:"events",subcategory:"events",price:210,image:"",description:"   30 "},{id:156,name:" ",category:"events",subcategory:"events",price:280,image:"",description:"  40 "},{id:157,name:"",category:"events",subcategory:"events",price:240,image:"",description:"         30 "},{id:158,name:"   ",category:"events",subcategory:"events",price:200,image:"",description:"    20 "},{id:159,name:"   ",category:"events",subcategory:"events",price:210,image:"",description:"    30 "},{id:160,name:"   ",category:"events",subcategory:"events",price:210,image:"",description:"    30 "},{id:161,name:"   ",category:"events",subcategory:"events",price:210,image:"",description:"    30 "},{id:162,name:"",category:"events",subcategory:"events",price:180,image:"",description:"  32 "}]),s=Q(()=>p=>n.value.filter(m=>m.category===p)),r=Q(()=>p=>n.value.filter(m=>m.subcategory===p)),i=Q(()=>(p,m=4)=>{const g=n.value.filter(P=>P.category===p),b=g.filter(P=>P.popular),T=g.filter(P=>!P.popular);return[...b,...T].slice(0,m)}),o=Q(()=>n.value.filter(p=>p.popular)),a=Q(()=>t.value.map(p=>({...p,products:i.value(p.id,5)})));function c(p){if(!p||p.trim()==="")return[];const m=p.trim().toLowerCase();return n.value.filter(g=>g.category==="baking-workshops"?!1:g.name.toLowerCase().includes(m)||g.description&&g.description.toLowerCase().includes(m)).map(g=>{const b=t.value.find(T=>T.id===g.category);return{...g,categoryId:g.category,categoryName:(b==null?void 0:b.name)||""}})}function d(p){return t.value.find(m=>m.id===p)}function h(p){const m=n.value.find(g=>g.id===p);return m?{...m,categoryId:m.category}:null}return{categories:t,products:n,dairySubcategories:e,getProductsByCategory:s,getProductsBySubcategory:r,getPopularByCategory:i,popularProducts:o,getCategoryPreview:a,searchProducts:c,getCategoryById:d,getProductById:h}}),L0={class:"search-container"},F0={class:"search-box"},U0={key:0,class:"search-results"},B0={class:"results-header"},q0={class:"results-list"},j0={class:"result-image"},H0={class:"result-info"},z0={class:"result-name"},W0={class:"result-category"},K0={class:"result-price"},G0={key:0,class:"search-results no-results"},Q0={__name:"SearchBar",setup(t){const e=ui(),n=ie(!1),s=ie(""),r=ie(null),i=Q(()=>s.value.trim()?e.searchProducts(s.value):[]);function o(m){const g=e.getCategoryById(m);return(g==null?void 0:g.name)||""}async function a(){var m;n.value=!0,await ci(),(m=r.value)==null||m.focus()}function c(){n.value=!1,s.value=""}function d(){var m;s.value="",(m=r.value)==null||m.focus()}function h(){}function p(){i.value.length>0&&(i.value[0],c())}return(m,g)=>{const b=Gt("router-link");return R(),D("div",{class:Ae(["search-wrapper",{expanded:n.value}])},[u("div",L0,[n.value?ge("",!0):(R(),D("button",{key:0,class:"search-toggle",onClick:a},[...g[1]||(g[1]=[u("span",{class:"search-icon"},"",-1)])])),$e(u("div",F0,[g[2]||(g[2]=u("span",{class:"search-icon"},"",-1)),$e(u("input",{ref_key:"searchInput",ref:r,type:"text","onUpdate:modelValue":g[0]||(g[0]=T=>s.value=T),placeholder:" ...",class:"search-input",onInput:h,onKeyup:[Jr(c,["escape"]),Jr(p,["enter"])]},null,544),[[at,s.value]]),s.value?(R(),D("button",{key:0,class:"clear-btn",onClick:d},"")):ge("",!0),u("button",{class:"close-btn",onClick:c},"")],512),[[lr,n.value]])]),te(dt,{name:"dropdown"},{default:pe(()=>[n.value&&s.value&&i.value.length>0?(R(),D("div",U0,[u("div",B0,[u("span",null,x(i.value.length)+" ",1)]),u("div",q0,[(R(!0),D(Ee,null,Le(i.value.slice(0,8),T=>(R(),Xe(b,{key:T.id,to:`/menu/${T.categoryId}?highlight=${T.id}`,class:"result-item",onClick:c},{default:pe(()=>[u("span",j0,x(T.image),1),u("div",H0,[u("span",z0,x(T.name),1),u("span",W0,x(o(T.categoryId)),1)]),u("span",K0,""+x(T.price),1)]),_:2},1032,["to"]))),128))]),i.value.length>8?(R(),Xe(b,{key:0,to:"/menu",class:"view-all-btn",onClick:c},{default:pe(()=>[le("   "+x(i.value.length)+"  ",1)]),_:1})):ge("",!0)])):ge("",!0)]),_:1}),te(dt,{name:"dropdown"},{default:pe(()=>[n.value&&s.value&&i.value.length===0?(R(),D("div",G0,[g[4]||(g[4]=u("span",{class:"no-results-icon"},"",-1)),u("p",null,'    "'+x(s.value)+'"',1),te(b,{to:"/menu",class:"browse-link",onClick:c},{default:pe(()=>[...g[3]||(g[3]=[le("    ",-1)])]),_:1})])):ge("",!0)]),_:1}),te(dt,{name:"fade"},{default:pe(()=>[n.value?(R(),D("div",{key:0,class:"search-overlay",onClick:c})):ge("",!0)]),_:1})],2)}}},J0=Ge(Q0,[["__scopeId","data-v-110e9bcf"]]),zn=Dl("toast",()=>{const t=ie([]);let e=0;function n(c,d="success",h=3e3){const p=e++;return t.value.push({id:p,message:c,type:d,duration:h}),h>0&&setTimeout(()=>{s(p)},h),p}function s(c){const d=t.value.findIndex(h=>h.id===c);d>-1&&t.value.splice(d,1)}function r(c,d=3e3){return n(c,"success",d)}function i(c,d=4e3){return n(c,"error",d)}function o(c,d=3500){return n(c,"warning",d)}function a(c,d=3e3){return n(c,"info",d)}return{toasts:t,addToast:n,removeToast:s,success:r,error:i,warning:o,info:a}}),Y0={class:"toast-container"},X0=["onClick"],Z0={class:"toast-icon"},eI={class:"toast-message"},tI=["onClick"],nI={__name:"ToastContainer",setup(t){const e=zn();return(n,s)=>(R(),Xe(hr,{to:"body"},[u("div",Y0,[te(zs,{name:"toast"},{default:pe(()=>[(R(!0),D(Ee,null,Le(Te(e).toasts,r=>(R(),D("div",{key:r.id,class:Ae(["toast",r.type]),onClick:i=>Te(e).removeToast(r.id)},[u("span",Z0,[r.type==="success"?(R(),D(Ee,{key:0},[le("")],64)):r.type==="error"?(R(),D(Ee,{key:1},[le("")],64)):r.type==="warning"?(R(),D(Ee,{key:2},[le("")],64)):(R(),D(Ee,{key:3},[le("")],64))]),u("span",eI,x(r.message),1),u("button",{class:"toast-close",onClick:Yt(i=>Te(e).removeToast(r.id),["stop"])},"",8,tI),u("div",{class:"toast-progress",style:rn({animationDuration:r.duration+"ms"})},null,4)],10,X0))),128))]),_:1})])]))}},sI=Ge(nI,[["__scopeId","data-v-6711645a"]]),rI=()=>{};var ap={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},iI=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const r=t[n++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const i=t[n++];e[s++]=String.fromCharCode((r&31)<<6|i&63)}else if(r>239&&r<365){const i=t[n++],o=t[n++],a=t[n++],c=((r&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[s++]=String.fromCharCode(55296+(c>>10)),e[s++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[s++]=String.fromCharCode((r&15)<<12|(i&63)<<6|o&63)}}return e.join("")},B_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<t.length;r+=3){const i=t[r],o=r+1<t.length,a=o?t[r+1]:0,c=r+2<t.length,d=c?t[r+2]:0,h=i>>2,p=(i&3)<<4|a>>4;let m=(a&15)<<2|d>>6,g=d&63;c||(g=64,o||(m=64)),s.push(n[h],n[p],n[m],n[g])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(U_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):iI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<t.length;){const i=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const d=r<t.length?n[t.charAt(r)]:64;++r;const p=r<t.length?n[t.charAt(r)]:64;if(++r,i==null||a==null||d==null||p==null)throw new oI;const m=i<<2|a>>4;if(s.push(m),d!==64){const g=a<<4&240|d>>2;if(s.push(g),p!==64){const b=d<<6&192|p;s.push(b)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class oI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aI=function(t){const e=U_(t);return B_.encodeByteArray(e,!0)},Za=function(t){return aI(t).replace(/\./g,"")},q_=function(t){try{return B_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI=()=>lI().__FIREBASE_DEFAULTS__,uI=()=>{if(typeof process>"u"||typeof ap>"u")return;const t=ap.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},dI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&q_(t[1]);return e&&JSON.parse(e)},Nl=()=>{try{return rI()||cI()||uI()||dI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},j_=t=>{var e,n;return(n=(e=Nl())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},hI=t=>{const e=j_(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},H_=()=>{var t;return(t=Nl())==null?void 0:t.config},z_=t=>{var e;return(e=Nl())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function W_(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${s}`,aud:s,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Za(JSON.stringify(n)),Za(JSON.stringify(o)),""].join(".")}const to={};function mI(){const t={prod:[],emulator:[]};for(const e of Object.keys(to))to[e]?t.emulator.push(e):t.prod.push(e);return t}function gI(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let lp=!1;function K_(t,e){if(typeof window>"u"||typeof document>"u"||!di(window.location.host)||to[t]===e||to[t]||lp)return;to[t]=e;function n(m){return`__firebase__banner__${m}`}const s="__firebase__banner",i=mI().prod.length>0;function o(){const m=document.getElementById(s);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,g){m.setAttribute("width","24"),m.setAttribute("id",g),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function d(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{lp=!0,o()},m}function h(m,g){m.setAttribute("id",g),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){const m=gI(s),g=n("text"),b=document.getElementById(g)||document.createElement("span"),T=n("learnmore"),P=document.getElementById(T)||document.createElement("a"),O=n("preprendIcon"),B=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const M=m.element;a(M),h(P,T);const z=d();c(B,O),M.append(B,b,P,z),document.body.appendChild(M)}i?(b.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _I(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jt())}function vI(){var e;const t=(e=Nl())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function EI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wI(){const t=jt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function TI(){return!vI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function II(){try{return typeof indexedDB=="object"}catch{return!1}}function AI(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var i;e(((i=r.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI="FirebaseError";class ns extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=SI,Object.setPrototypeOf(this,ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,No.prototype.create)}}class No{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?CI(i,s):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new ns(r,a,s)}}function CI(t,e){return t.replace(kI,(n,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const kI=/\{\$([^}]+)}/g;function RI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function pr(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const r of n){if(!s.includes(r))return!1;const i=t[r],o=e[r];if(cp(i)&&cp(o)){if(!pr(i,o))return!1}else if(i!==o)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function cp(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mo(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ui(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[r,i]=s.split("=");e[decodeURIComponent(r)]=decodeURIComponent(i)}}),e}function Bi(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function PI(t,e){const n=new VI(t,e);return n.subscribe.bind(n)}class VI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let r;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");DI(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:s},r.next===void 0&&(r.next=$c),r.error===void 0&&(r.error=$c),r.complete===void 0&&(r.complete=$c);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function DI(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function $c(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(t){return t&&t._delegate?t._delegate:t}class mr{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new fI;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(NI(e))try{this.getOrInitializeService({instanceIdentifier:or})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:r});s.resolve(i)}catch{}}}}clearInstance(e=or){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=or){return this.instances.has(e)}getOptions(e=or){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);s===a&&o.resolve(r)}return r}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(s)??new Set;r.add(e),this.onInitCallbacks.set(s,r);const i=this.instances.get(s);return i&&e(i,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const r of s)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:OI(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=or){return this.component?this.component.multipleInstances?e:or:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function OI(t){return t===or?void 0:t}function NI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new xI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ue||(Ue={}));const $I={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},LI=Ue.INFO,FI={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},UI=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),r=FI[e];if(r)console[r](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ud{constructor(e){this.name=e,this._logLevel=LI,this._logHandler=UI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$I[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const BI=(t,e)=>e.some(n=>t instanceof n);let up,dp;function qI(){return up||(up=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jI(){return dp||(dp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const G_=new WeakMap,mu=new WeakMap,Q_=new WeakMap,Lc=new WeakMap,dd=new WeakMap;function HI(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Cs(t.result)),r()},o=()=>{s(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&G_.set(n,t)}).catch(()=>{}),dd.set(e,t),e}function zI(t){if(mu.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),r()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});mu.set(t,e)}let gu={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return mu.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Q_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Cs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function WI(t){gu=t(gu)}function KI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Fc(this),e,...n);return Q_.set(s,e.sort?e.sort():[e]),Cs(s)}:jI().includes(t)?function(...e){return t.apply(Fc(this),e),Cs(G_.get(this))}:function(...e){return Cs(t.apply(Fc(this),e))}}function GI(t){return typeof t=="function"?KI(t):(t instanceof IDBTransaction&&zI(t),BI(t,qI())?new Proxy(t,gu):t)}function Cs(t){if(t instanceof IDBRequest)return HI(t);if(Lc.has(t))return Lc.get(t);const e=GI(t);return e!==t&&(Lc.set(t,e),dd.set(e,t)),e}const Fc=t=>dd.get(t);function QI(t,e,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const o=indexedDB.open(t,e),a=Cs(o);return s&&o.addEventListener("upgradeneeded",c=>{s(Cs(o.result),c.oldVersion,c.newVersion,Cs(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),r&&c.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}const JI=["get","getKey","getAll","getAllKeys","count"],YI=["put","add","delete","clear"],Uc=new Map;function hp(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Uc.get(e))return Uc.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=YI.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||JI.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,r?"readwrite":"readonly");let d=c.store;return s&&(d=d.index(a.shift())),(await Promise.all([d[n](...a),r&&c.done]))[0]};return Uc.set(e,i),i}WI(t=>({...t,get:(e,n,s)=>hp(e,n)||t.get(e,n,s),has:(e,n)=>!!hp(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ZI(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function ZI(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _u="@firebase/app",fp="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yn=new ud("@firebase/app"),eA="@firebase/app-compat",tA="@firebase/analytics-compat",nA="@firebase/analytics",sA="@firebase/app-check-compat",rA="@firebase/app-check",iA="@firebase/auth",oA="@firebase/auth-compat",aA="@firebase/database",lA="@firebase/data-connect",cA="@firebase/database-compat",uA="@firebase/functions",dA="@firebase/functions-compat",hA="@firebase/installations",fA="@firebase/installations-compat",pA="@firebase/messaging",mA="@firebase/messaging-compat",gA="@firebase/performance",_A="@firebase/performance-compat",vA="@firebase/remote-config",yA="@firebase/remote-config-compat",bA="@firebase/storage",EA="@firebase/storage-compat",wA="@firebase/firestore",TA="@firebase/ai",IA="@firebase/firestore-compat",AA="firebase",SA="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu="[DEFAULT]",CA={[_u]:"fire-core",[eA]:"fire-core-compat",[nA]:"fire-analytics",[tA]:"fire-analytics-compat",[rA]:"fire-app-check",[sA]:"fire-app-check-compat",[iA]:"fire-auth",[oA]:"fire-auth-compat",[aA]:"fire-rtdb",[lA]:"fire-data-connect",[cA]:"fire-rtdb-compat",[uA]:"fire-fn",[dA]:"fire-fn-compat",[hA]:"fire-iid",[fA]:"fire-iid-compat",[pA]:"fire-fcm",[mA]:"fire-fcm-compat",[gA]:"fire-perf",[_A]:"fire-perf-compat",[vA]:"fire-rc",[yA]:"fire-rc-compat",[bA]:"fire-gcs",[EA]:"fire-gcs-compat",[wA]:"fire-fst",[IA]:"fire-fst-compat",[TA]:"fire-vertex","fire-js":"fire-js",[AA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el=new Map,kA=new Map,yu=new Map;function pp(t,e){try{t.container.addComponent(e)}catch(n){Yn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Zr(t){const e=t.name;if(yu.has(e))return Yn.debug(`There were multiple attempts to register component ${e}.`),!1;yu.set(e,t);for(const n of el.values())pp(n,t);for(const n of kA.values())pp(n,t);return!0}function hd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function pn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ks=new No("app","Firebase",RA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new mr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ks.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi=SA;function J_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:vu,automaticDataCollectionEnabled:!0,...e},r=s.name;if(typeof r!="string"||!r)throw ks.create("bad-app-name",{appName:String(r)});if(n||(n=H_()),!n)throw ks.create("no-options");const i=el.get(r);if(i){if(pr(n,i.options)&&pr(s,i.config))return i;throw ks.create("duplicate-app",{appName:r})}const o=new MI(r);for(const c of yu.values())o.addComponent(c);const a=new PA(n,s,o);return el.set(r,a),a}function Y_(t=vu){const e=el.get(t);if(!e&&t===vu&&H_())return J_();if(!e)throw ks.create("no-app",{appName:t});return e}function Rs(t,e,n){let s=CA[t]??t;n&&(s+=`-${n}`);const r=s.match(/\s|\//),i=e.match(/\s|\//);if(r||i){const o=[`Unable to register library "${s}" with version "${e}":`];r&&o.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yn.warn(o.join(" "));return}Zr(new mr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA="firebase-heartbeat-database",DA=1,yo="firebase-heartbeat-store";let Bc=null;function X_(){return Bc||(Bc=QI(VA,DA,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(yo)}catch(n){console.warn(n)}}}}).catch(t=>{throw ks.create("idb-open",{originalErrorMessage:t.message})})),Bc}async function xA(t){try{const n=(await X_()).transaction(yo),s=await n.objectStore(yo).get(Z_(t));return await n.done,s}catch(e){if(e instanceof ns)Yn.warn(e.message);else{const n=ks.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Yn.warn(n.message)}}}async function mp(t,e){try{const s=(await X_()).transaction(yo,"readwrite");await s.objectStore(yo).put(e,Z_(t)),await s.done}catch(n){if(n instanceof ns)Yn.warn(n.message);else{const s=ks.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Yn.warn(s.message)}}}function Z_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA=1024,NA=30;class MA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new LA(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=gp();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats.length>NA){const o=FA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Yn.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=gp(),{heartbeatsToSend:s,unsentEntries:r}=$A(this._heartbeatsCache.heartbeats),i=Za(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Yn.warn(n),""}}}function gp(){return new Date().toISOString().substring(0,10)}function $A(t,e=OA){const n=[];let s=t.slice();for(const r of t){const i=n.find(o=>o.agent===r.agent);if(i){if(i.dates.push(r.date),_p(n)>e){i.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),_p(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class LA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return II()?AI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await xA(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return mp(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return mp(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function _p(t){return Za(JSON.stringify({version:2,heartbeats:t})).length}function FA(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(t){Zr(new mr("platform-logger",e=>new XI(e),"PRIVATE")),Zr(new mr("heartbeat",e=>new MA(e),"PRIVATE")),Rs(_u,fp,t),Rs(_u,fp,"esm2020"),Rs("fire-js","")}UA("");var vp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ps,ev;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,w){function v(){}v.prototype=w.prototype,C.F=w.prototype,C.prototype=new v,C.prototype.constructor=C,C.D=function(S,A,E){for(var I=Array(arguments.length-2),me=2;me<arguments.length;me++)I[me-2]=arguments[me];return w.prototype[A].apply(S,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(C,w,v){v||(v=0);const S=Array(16);if(typeof w=="string")for(var A=0;A<16;++A)S[A]=w.charCodeAt(v++)|w.charCodeAt(v++)<<8|w.charCodeAt(v++)<<16|w.charCodeAt(v++)<<24;else for(A=0;A<16;++A)S[A]=w[v++]|w[v++]<<8|w[v++]<<16|w[v++]<<24;w=C.g[0],v=C.g[1],A=C.g[2];let E=C.g[3],I;I=w+(E^v&(A^E))+S[0]+3614090360&4294967295,w=v+(I<<7&4294967295|I>>>25),I=E+(A^w&(v^A))+S[1]+3905402710&4294967295,E=w+(I<<12&4294967295|I>>>20),I=A+(v^E&(w^v))+S[2]+606105819&4294967295,A=E+(I<<17&4294967295|I>>>15),I=v+(w^A&(E^w))+S[3]+3250441966&4294967295,v=A+(I<<22&4294967295|I>>>10),I=w+(E^v&(A^E))+S[4]+4118548399&4294967295,w=v+(I<<7&4294967295|I>>>25),I=E+(A^w&(v^A))+S[5]+1200080426&4294967295,E=w+(I<<12&4294967295|I>>>20),I=A+(v^E&(w^v))+S[6]+2821735955&4294967295,A=E+(I<<17&4294967295|I>>>15),I=v+(w^A&(E^w))+S[7]+4249261313&4294967295,v=A+(I<<22&4294967295|I>>>10),I=w+(E^v&(A^E))+S[8]+1770035416&4294967295,w=v+(I<<7&4294967295|I>>>25),I=E+(A^w&(v^A))+S[9]+2336552879&4294967295,E=w+(I<<12&4294967295|I>>>20),I=A+(v^E&(w^v))+S[10]+4294925233&4294967295,A=E+(I<<17&4294967295|I>>>15),I=v+(w^A&(E^w))+S[11]+2304563134&4294967295,v=A+(I<<22&4294967295|I>>>10),I=w+(E^v&(A^E))+S[12]+1804603682&4294967295,w=v+(I<<7&4294967295|I>>>25),I=E+(A^w&(v^A))+S[13]+4254626195&4294967295,E=w+(I<<12&4294967295|I>>>20),I=A+(v^E&(w^v))+S[14]+2792965006&4294967295,A=E+(I<<17&4294967295|I>>>15),I=v+(w^A&(E^w))+S[15]+1236535329&4294967295,v=A+(I<<22&4294967295|I>>>10),I=w+(A^E&(v^A))+S[1]+4129170786&4294967295,w=v+(I<<5&4294967295|I>>>27),I=E+(v^A&(w^v))+S[6]+3225465664&4294967295,E=w+(I<<9&4294967295|I>>>23),I=A+(w^v&(E^w))+S[11]+643717713&4294967295,A=E+(I<<14&4294967295|I>>>18),I=v+(E^w&(A^E))+S[0]+3921069994&4294967295,v=A+(I<<20&4294967295|I>>>12),I=w+(A^E&(v^A))+S[5]+3593408605&4294967295,w=v+(I<<5&4294967295|I>>>27),I=E+(v^A&(w^v))+S[10]+38016083&4294967295,E=w+(I<<9&4294967295|I>>>23),I=A+(w^v&(E^w))+S[15]+3634488961&4294967295,A=E+(I<<14&4294967295|I>>>18),I=v+(E^w&(A^E))+S[4]+3889429448&4294967295,v=A+(I<<20&4294967295|I>>>12),I=w+(A^E&(v^A))+S[9]+568446438&4294967295,w=v+(I<<5&4294967295|I>>>27),I=E+(v^A&(w^v))+S[14]+3275163606&4294967295,E=w+(I<<9&4294967295|I>>>23),I=A+(w^v&(E^w))+S[3]+4107603335&4294967295,A=E+(I<<14&4294967295|I>>>18),I=v+(E^w&(A^E))+S[8]+1163531501&4294967295,v=A+(I<<20&4294967295|I>>>12),I=w+(A^E&(v^A))+S[13]+2850285829&4294967295,w=v+(I<<5&4294967295|I>>>27),I=E+(v^A&(w^v))+S[2]+4243563512&4294967295,E=w+(I<<9&4294967295|I>>>23),I=A+(w^v&(E^w))+S[7]+1735328473&4294967295,A=E+(I<<14&4294967295|I>>>18),I=v+(E^w&(A^E))+S[12]+2368359562&4294967295,v=A+(I<<20&4294967295|I>>>12),I=w+(v^A^E)+S[5]+4294588738&4294967295,w=v+(I<<4&4294967295|I>>>28),I=E+(w^v^A)+S[8]+2272392833&4294967295,E=w+(I<<11&4294967295|I>>>21),I=A+(E^w^v)+S[11]+1839030562&4294967295,A=E+(I<<16&4294967295|I>>>16),I=v+(A^E^w)+S[14]+4259657740&4294967295,v=A+(I<<23&4294967295|I>>>9),I=w+(v^A^E)+S[1]+2763975236&4294967295,w=v+(I<<4&4294967295|I>>>28),I=E+(w^v^A)+S[4]+1272893353&4294967295,E=w+(I<<11&4294967295|I>>>21),I=A+(E^w^v)+S[7]+4139469664&4294967295,A=E+(I<<16&4294967295|I>>>16),I=v+(A^E^w)+S[10]+3200236656&4294967295,v=A+(I<<23&4294967295|I>>>9),I=w+(v^A^E)+S[13]+681279174&4294967295,w=v+(I<<4&4294967295|I>>>28),I=E+(w^v^A)+S[0]+3936430074&4294967295,E=w+(I<<11&4294967295|I>>>21),I=A+(E^w^v)+S[3]+3572445317&4294967295,A=E+(I<<16&4294967295|I>>>16),I=v+(A^E^w)+S[6]+76029189&4294967295,v=A+(I<<23&4294967295|I>>>9),I=w+(v^A^E)+S[9]+3654602809&4294967295,w=v+(I<<4&4294967295|I>>>28),I=E+(w^v^A)+S[12]+3873151461&4294967295,E=w+(I<<11&4294967295|I>>>21),I=A+(E^w^v)+S[15]+530742520&4294967295,A=E+(I<<16&4294967295|I>>>16),I=v+(A^E^w)+S[2]+3299628645&4294967295,v=A+(I<<23&4294967295|I>>>9),I=w+(A^(v|~E))+S[0]+4096336452&4294967295,w=v+(I<<6&4294967295|I>>>26),I=E+(v^(w|~A))+S[7]+1126891415&4294967295,E=w+(I<<10&4294967295|I>>>22),I=A+(w^(E|~v))+S[14]+2878612391&4294967295,A=E+(I<<15&4294967295|I>>>17),I=v+(E^(A|~w))+S[5]+4237533241&4294967295,v=A+(I<<21&4294967295|I>>>11),I=w+(A^(v|~E))+S[12]+1700485571&4294967295,w=v+(I<<6&4294967295|I>>>26),I=E+(v^(w|~A))+S[3]+2399980690&4294967295,E=w+(I<<10&4294967295|I>>>22),I=A+(w^(E|~v))+S[10]+4293915773&4294967295,A=E+(I<<15&4294967295|I>>>17),I=v+(E^(A|~w))+S[1]+2240044497&4294967295,v=A+(I<<21&4294967295|I>>>11),I=w+(A^(v|~E))+S[8]+1873313359&4294967295,w=v+(I<<6&4294967295|I>>>26),I=E+(v^(w|~A))+S[15]+4264355552&4294967295,E=w+(I<<10&4294967295|I>>>22),I=A+(w^(E|~v))+S[6]+2734768916&4294967295,A=E+(I<<15&4294967295|I>>>17),I=v+(E^(A|~w))+S[13]+1309151649&4294967295,v=A+(I<<21&4294967295|I>>>11),I=w+(A^(v|~E))+S[4]+4149444226&4294967295,w=v+(I<<6&4294967295|I>>>26),I=E+(v^(w|~A))+S[11]+3174756917&4294967295,E=w+(I<<10&4294967295|I>>>22),I=A+(w^(E|~v))+S[2]+718787259&4294967295,A=E+(I<<15&4294967295|I>>>17),I=v+(E^(A|~w))+S[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(A+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+A&4294967295,C.g[3]=C.g[3]+E&4294967295}s.prototype.v=function(C,w){w===void 0&&(w=C.length);const v=w-this.blockSize,S=this.C;let A=this.h,E=0;for(;E<w;){if(A==0)for(;E<=v;)r(this,C,E),E+=this.blockSize;if(typeof C=="string"){for(;E<w;)if(S[A++]=C.charCodeAt(E++),A==this.blockSize){r(this,S),A=0;break}}else for(;E<w;)if(S[A++]=C[E++],A==this.blockSize){r(this,S),A=0;break}}this.h=A,this.o+=w},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;w=this.o*8;for(var v=C.length-8;v<C.length;++v)C[v]=w&255,w/=256;for(this.v(C),C=Array(16),w=0,v=0;v<4;++v)for(let S=0;S<32;S+=8)C[w++]=this.g[v]>>>S&255;return C};function i(C,w){var v=a;return Object.prototype.hasOwnProperty.call(v,C)?v[C]:v[C]=w(C)}function o(C,w){this.h=w;const v=[];let S=!0;for(let A=C.length-1;A>=0;A--){const E=C[A]|0;S&&E==w||(v[A]=E,S=!1)}this.g=v}var a={};function c(C){return-128<=C&&C<128?i(C,function(w){return new o([w|0],w<0?-1:0)}):new o([C|0],C<0?-1:0)}function d(C){if(isNaN(C)||!isFinite(C))return p;if(C<0)return P(d(-C));const w=[];let v=1;for(let S=0;C>=v;S++)w[S]=C/v|0,v*=4294967296;return new o(w,0)}function h(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return P(h(C.substring(1),w));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const v=d(Math.pow(w,8));let S=p;for(let E=0;E<C.length;E+=8){var A=Math.min(8,C.length-E);const I=parseInt(C.substring(E,E+A),w);A<8?(A=d(Math.pow(w,A)),S=S.j(A).add(d(I))):(S=S.j(v),S=S.add(d(I)))}return S}var p=c(0),m=c(1),g=c(16777216);t=o.prototype,t.m=function(){if(T(this))return-P(this).m();let C=0,w=1;for(let v=0;v<this.g.length;v++){const S=this.i(v);C+=(S>=0?S:4294967296+S)*w,w*=4294967296}return C},t.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(b(this))return"0";if(T(this))return"-"+P(this).toString(C);const w=d(Math.pow(C,6));var v=this;let S="";for(;;){const A=z(v,w).g;v=O(v,A.j(w));let E=((v.g.length>0?v.g[0]:v.h)>>>0).toString(C);if(v=A,b(v))return E+S;for(;E.length<6;)E="0"+E;S=E+S}},t.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function b(C){if(C.h!=0)return!1;for(let w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function T(C){return C.h==-1}t.l=function(C){return C=O(this,C),T(C)?-1:b(C)?0:1};function P(C){const w=C.g.length,v=[];for(let S=0;S<w;S++)v[S]=~C.g[S];return new o(v,~C.h).add(m)}t.abs=function(){return T(this)?P(this):this},t.add=function(C){const w=Math.max(this.g.length,C.g.length),v=[];let S=0;for(let A=0;A<=w;A++){let E=S+(this.i(A)&65535)+(C.i(A)&65535),I=(E>>>16)+(this.i(A)>>>16)+(C.i(A)>>>16);S=I>>>16,E&=65535,I&=65535,v[A]=I<<16|E}return new o(v,v[v.length-1]&-2147483648?-1:0)};function O(C,w){return C.add(P(w))}t.j=function(C){if(b(this)||b(C))return p;if(T(this))return T(C)?P(this).j(P(C)):P(P(this).j(C));if(T(C))return P(this.j(P(C)));if(this.l(g)<0&&C.l(g)<0)return d(this.m()*C.m());const w=this.g.length+C.g.length,v=[];for(var S=0;S<2*w;S++)v[S]=0;for(S=0;S<this.g.length;S++)for(let A=0;A<C.g.length;A++){const E=this.i(S)>>>16,I=this.i(S)&65535,me=C.i(A)>>>16,Fe=C.i(A)&65535;v[2*S+2*A]+=I*Fe,B(v,2*S+2*A),v[2*S+2*A+1]+=E*Fe,B(v,2*S+2*A+1),v[2*S+2*A+1]+=I*me,B(v,2*S+2*A+1),v[2*S+2*A+2]+=E*me,B(v,2*S+2*A+2)}for(C=0;C<w;C++)v[C]=v[2*C+1]<<16|v[2*C];for(C=w;C<2*w;C++)v[C]=0;return new o(v,0)};function B(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function M(C,w){this.g=C,this.h=w}function z(C,w){if(b(w))throw Error("division by zero");if(b(C))return new M(p,p);if(T(C))return w=z(P(C),w),new M(P(w.g),P(w.h));if(T(w))return w=z(C,P(w)),new M(P(w.g),w.h);if(C.g.length>30){if(T(C)||T(w))throw Error("slowDivide_ only works with positive integers.");for(var v=m,S=w;S.l(C)<=0;)v=se(v),S=se(S);var A=ae(v,1),E=ae(S,1);for(S=ae(S,2),v=ae(v,2);!b(S);){var I=E.add(S);I.l(C)<=0&&(A=A.add(v),E=I),S=ae(S,1),v=ae(v,1)}return w=O(C,A.j(w)),new M(A,w)}for(A=p;C.l(w)>=0;){for(v=Math.max(1,Math.floor(C.m()/w.m())),S=Math.ceil(Math.log(v)/Math.LN2),S=S<=48?1:Math.pow(2,S-48),E=d(v),I=E.j(w);T(I)||I.l(C)>0;)v-=S,E=d(v),I=E.j(w);b(E)&&(E=m),A=A.add(E),C=O(C,I)}return new M(A,C)}t.B=function(C){return z(this,C).h},t.and=function(C){const w=Math.max(this.g.length,C.g.length),v=[];for(let S=0;S<w;S++)v[S]=this.i(S)&C.i(S);return new o(v,this.h&C.h)},t.or=function(C){const w=Math.max(this.g.length,C.g.length),v=[];for(let S=0;S<w;S++)v[S]=this.i(S)|C.i(S);return new o(v,this.h|C.h)},t.xor=function(C){const w=Math.max(this.g.length,C.g.length),v=[];for(let S=0;S<w;S++)v[S]=this.i(S)^C.i(S);return new o(v,this.h^C.h)};function se(C){const w=C.g.length+1,v=[];for(let S=0;S<w;S++)v[S]=C.i(S)<<1|C.i(S-1)>>>31;return new o(v,C.h)}function ae(C,w){const v=w>>5;w%=32;const S=C.g.length-v,A=[];for(let E=0;E<S;E++)A[E]=w>0?C.i(E+v)>>>w|C.i(E+v+1)<<32-w:C.i(E+v);return new o(A,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,ev=s,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,Ps=o}).apply(typeof vp<"u"?vp:typeof self<"u"?self:typeof window<"u"?window:{});var fa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tv,qi,nv,Pa,bu,sv,rv,iv;(function(){var t,e=Object.defineProperty;function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof fa=="object"&&fa];for(var f=0;f<l.length;++f){var _=l[f];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function r(l,f){if(f)e:{var _=s;l=l.split(".");for(var y=0;y<l.length-1;y++){var L=l[y];if(!(L in _))break e;_=_[L]}l=l[l.length-1],y=_[l],f=f(y),f!=y&&f!=null&&e(_,l,{configurable:!0,writable:!0,value:f})}}r("Symbol.dispose",function(l){return l||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(l){return l||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(l){return l||function(f){var _=[],y;for(y in f)Object.prototype.hasOwnProperty.call(f,y)&&_.push([y,f[y]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function a(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function c(l,f,_){return l.call.apply(l.bind,arguments)}function d(l,f,_){return d=c,d.apply(null,arguments)}function h(l,f){var _=Array.prototype.slice.call(arguments,1);return function(){var y=_.slice();return y.push.apply(y,arguments),l.apply(this,y)}}function p(l,f){function _(){}_.prototype=f.prototype,l.Z=f.prototype,l.prototype=new _,l.prototype.constructor=l,l.Ob=function(y,L,q){for(var he=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)he[Me-2]=arguments[Me];return f.prototype[L].apply(y,he)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?l=>l&&AsyncContext.Snapshot.wrap(l):l=>l;function g(l){const f=l.length;if(f>0){const _=Array(f);for(let y=0;y<f;y++)_[y]=l[y];return _}return[]}function b(l,f){for(let y=1;y<arguments.length;y++){const L=arguments[y];var _=typeof L;if(_=_!="object"?_:L?Array.isArray(L)?"array":_:"null",_=="array"||_=="object"&&typeof L.length=="number"){_=l.length||0;const q=L.length||0;l.length=_+q;for(let he=0;he<q;he++)l[_+he]=L[he]}else l.push(L)}}class T{constructor(f,_){this.i=f,this.j=_,this.h=0,this.g=null}get(){let f;return this.h>0?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function P(l){o.setTimeout(()=>{throw l},0)}function O(){var l=C;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class B{constructor(){this.h=this.g=null}add(f,_){const y=M.get();y.set(f,_),this.h?this.h.next=y:this.g=y,this.h=y}}var M=new T(()=>new z,l=>l.reset());class z{constructor(){this.next=this.g=this.h=null}set(f,_){this.h=f,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let se,ae=!1,C=new B,w=()=>{const l=Promise.resolve(void 0);se=()=>{l.then(v)}};function v(){for(var l;l=O();){try{l.h.call(l.g)}catch(_){P(_)}var f=M;f.j(l),f.h<100&&(f.h++,l.next=f.g,f.g=l)}ae=!1}function S(){this.u=this.u,this.C=this.C}S.prototype.u=!1,S.prototype.dispose=function(){this.u||(this.u=!0,this.N())},S.prototype[Symbol.dispose]=function(){this.dispose()},S.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function A(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}A.prototype.h=function(){this.defaultPrevented=!0};var E=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const _=()=>{};o.addEventListener("test",_,f),o.removeEventListener("test",_,f)}catch{}return l}();function I(l){return/^[\s\xa0]*$/.test(l)}function me(l,f){A.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l&&this.init(l,f)}p(me,A),me.prototype.init=function(l,f){const _=this.type=l.type,y=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget,f||(_=="mouseover"?f=l.fromElement:_=="mouseout"&&(f=l.toElement)),this.relatedTarget=f,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=l.pointerType,this.state=l.state,this.i=l,l.defaultPrevented&&me.Z.h.call(this)},me.prototype.h=function(){me.Z.h.call(this);const l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Fe="closure_listenable_"+(Math.random()*1e6|0),je=0;function Ce(l,f,_,y,L){this.listener=l,this.proxy=null,this.src=f,this.type=_,this.capture=!!y,this.ha=L,this.key=++je,this.da=this.fa=!1}function Oe(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function pt(l,f,_){for(const y in l)f.call(_,l[y],y,l)}function Ne(l,f){for(const _ in l)f.call(void 0,l[_],_,l)}function $(l){const f={};for(const _ in l)f[_]=l[_];return f}const rt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(l,f){let _,y;for(let L=1;L<arguments.length;L++){y=arguments[L];for(_ in y)l[_]=y[_];for(let q=0;q<rt.length;q++)_=rt[q],Object.prototype.hasOwnProperty.call(y,_)&&(l[_]=y[_])}}function H(l){this.src=l,this.g={},this.h=0}H.prototype.add=function(l,f,_,y,L){const q=l.toString();l=this.g[q],l||(l=this.g[q]=[],this.h++);const he=ee(l,f,y,L);return he>-1?(f=l[he],_||(f.fa=!1)):(f=new Ce(f,this.src,q,!!y,L),f.fa=_,l.push(f)),f};function W(l,f){const _=f.type;if(_ in l.g){var y=l.g[_],L=Array.prototype.indexOf.call(y,f,void 0),q;(q=L>=0)&&Array.prototype.splice.call(y,L,1),q&&(Oe(f),l.g[_].length==0&&(delete l.g[_],l.h--))}}function ee(l,f,_,y){for(let L=0;L<l.length;++L){const q=l[L];if(!q.da&&q.listener==f&&q.capture==!!_&&q.ha==y)return L}return-1}var U="closure_lm_"+(Math.random()*1e6|0),oe={};function ce(l,f,_,y,L){if(Array.isArray(f)){for(let q=0;q<f.length;q++)ce(l,f[q],_,y,L);return null}return _=de(_),l&&l[Fe]?l.J(f,_,a(y)?!!y.capture:!1,L):ye(l,f,_,!1,y,L)}function ye(l,f,_,y,L,q){if(!f)throw Error("Invalid event type");const he=a(L)?!!L.capture:!!L;let Me=Y(l);if(Me||(l[U]=Me=new H(l)),_=Me.add(f,_,y,he,q),_.proxy)return _;if(y=He(),_.proxy=y,y.src=l,y.listener=_,l.addEventListener)E||(L=he),L===void 0&&(L=!1),l.addEventListener(f.toString(),y,L);else if(l.attachEvent)l.attachEvent(N(f.toString()),y);else if(l.addListener&&l.removeListener)l.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return _}function He(){function l(_){return f.call(l.src,l.listener,_)}const f=K;return l}function k(l,f,_,y,L){if(Array.isArray(f))for(var q=0;q<f.length;q++)k(l,f[q],_,y,L);else y=a(y)?!!y.capture:!!y,_=de(_),l&&l[Fe]?(l=l.i,q=String(f).toString(),q in l.g&&(f=l.g[q],_=ee(f,_,y,L),_>-1&&(Oe(f[_]),Array.prototype.splice.call(f,_,1),f.length==0&&(delete l.g[q],l.h--)))):l&&(l=Y(l))&&(f=l.g[f.toString()],l=-1,f&&(l=ee(f,_,y,L)),(_=l>-1?f[l]:null)&&V(_))}function V(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[Fe])W(f.i,l);else{var _=l.type,y=l.proxy;f.removeEventListener?f.removeEventListener(_,y,l.capture):f.detachEvent?f.detachEvent(N(_),y):f.addListener&&f.removeListener&&f.removeListener(y),(_=Y(f))?(W(_,l),_.h==0&&(_.src=null,f[U]=null)):Oe(l)}}}function N(l){return l in oe?oe[l]:oe[l]="on"+l}function K(l,f){if(l.da)l=!0;else{f=new me(f,this);const _=l.listener,y=l.ha||l.src;l.fa&&V(l),l=_.call(y,f)}return l}function Y(l){return l=l[U],l instanceof H?l:null}var j="__closure_events_fn_"+(Math.random()*1e9>>>0);function de(l){return typeof l=="function"?l:(l[j]||(l[j]=function(f){return l.handleEvent(f)}),l[j])}function ne(){S.call(this),this.i=new H(this),this.M=this,this.G=null}p(ne,S),ne.prototype[Fe]=!0,ne.prototype.removeEventListener=function(l,f,_,y){k(this,l,f,_,y)};function Z(l,f){var _,y=l.G;if(y)for(_=[];y;y=y.G)_.push(y);if(l=l.M,y=f.type||f,typeof f=="string")f=new A(f,l);else if(f instanceof A)f.target=f.target||l;else{var L=f;f=new A(y,l),ue(f,L)}L=!0;let q,he;if(_)for(he=_.length-1;he>=0;he--)q=f.g=_[he],L=re(q,y,!0,f)&&L;if(q=f.g=l,L=re(q,y,!0,f)&&L,L=re(q,y,!1,f)&&L,_)for(he=0;he<_.length;he++)q=f.g=_[he],L=re(q,y,!1,f)&&L}ne.prototype.N=function(){if(ne.Z.N.call(this),this.i){var l=this.i;for(const f in l.g){const _=l.g[f];for(let y=0;y<_.length;y++)Oe(_[y]);delete l.g[f],l.h--}}this.G=null},ne.prototype.J=function(l,f,_,y){return this.i.add(String(l),f,!1,_,y)},ne.prototype.K=function(l,f,_,y){return this.i.add(String(l),f,!0,_,y)};function re(l,f,_,y){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();let L=!0;for(let q=0;q<f.length;++q){const he=f[q];if(he&&!he.da&&he.capture==_){const Me=he.listener,vt=he.ha||he.src;he.fa&&W(l.i,he),L=Me.call(vt,y)!==!1&&L}}return L&&!y.defaultPrevented}function we(l,f){if(typeof l!="function")if(l&&typeof l.handleEvent=="function")l=d(l.handleEvent,l);else throw Error("Invalid listener argument");return Number(f)>2147483647?-1:o.setTimeout(l,f||0)}function F(l){l.g=we(()=>{l.g=null,l.i&&(l.i=!1,F(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}class G extends S{constructor(f,_){super(),this.m=f,this.l=_,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:F(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fe(l){S.call(this),this.h=l,this.g={}}p(fe,S);var be=[];function Pe(l){pt(l.g,function(f,_){this.g.hasOwnProperty(_)&&V(f)},l),l.g={}}fe.prototype.N=function(){fe.Z.N.call(this),Pe(this)},fe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ke=o.JSON.stringify,xt=o.JSON.parse,Ot=class{stringify(l){return o.JSON.stringify(l,void 0)}parse(l){return o.JSON.parse(l,void 0)}};function Xt(){}function Zt(){}var fn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Tr(){A.call(this,"d")}p(Tr,A);function St(){A.call(this,"c")}p(St,A);var wt={},bi=null;function Ys(){return bi=bi||new ne}wt.Ia="serverreachability";function ih(l){A.call(this,wt.Ia,l)}p(ih,A);function Ei(l){const f=Ys();Z(f,new ih(f))}wt.STAT_EVENT="statevent";function oh(l,f){A.call(this,wt.STAT_EVENT,l),this.stat=f}p(oh,A);function Ht(l){const f=Ys();Z(f,new oh(f,l))}wt.Ja="timingevent";function ah(l,f){A.call(this,wt.Ja,l),this.size=f}p(ah,A);function wi(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){l()},f)}function Ti(){this.g=!0}Ti.prototype.ua=function(){this.g=!1};function E1(l,f,_,y,L,q){l.info(function(){if(l.g)if(q){var he="",Me=q.split("&");for(let Ze=0;Ze<Me.length;Ze++){var vt=Me[Ze].split("=");if(vt.length>1){const Tt=vt[0];vt=vt[1];const Tn=Tt.split("_");he=Tn.length>=2&&Tn[1]=="type"?he+(Tt+"="+vt+"&"):he+(Tt+"=redacted&")}}}else he=null;else he=q;return"XMLHTTP REQ ("+y+") [attempt "+L+"]: "+f+`
`+_+`
`+he})}function w1(l,f,_,y,L,q,he){l.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+L+"]: "+f+`
`+_+`
`+q+" "+he})}function Ir(l,f,_,y){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+I1(l,_)+(y?" "+y:"")})}function T1(l,f){l.info(function(){return"TIMEOUT: "+f})}Ti.prototype.info=function(){};function I1(l,f){if(!l.g)return f;if(!f)return null;try{const q=JSON.parse(f);if(q){for(l=0;l<q.length;l++)if(Array.isArray(q[l])){var _=q[l];if(!(_.length<2)){var y=_[1];if(Array.isArray(y)&&!(y.length<1)){var L=y[0];if(L!="noop"&&L!="stop"&&L!="close")for(let he=1;he<y.length;he++)y[he]=""}}}}return Ke(q)}catch{return f}}var Yo={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},lh={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ch;function ac(){}p(ac,Xt),ac.prototype.g=function(){return new XMLHttpRequest},ch=new ac;function Ii(l){return encodeURIComponent(String(l))}function A1(l){var f=1;l=l.split(":");const _=[];for(;f>0&&l.length;)_.push(l.shift()),f--;return l.length&&_.push(l.join(":")),_}function ss(l,f,_,y){this.j=l,this.i=f,this.l=_,this.S=y||1,this.V=new fe(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new uh}function uh(){this.i=null,this.g="",this.h=!1}var dh={},lc={};function cc(l,f,_){l.M=1,l.A=Zo(wn(f)),l.u=_,l.R=!0,hh(l,null)}function hh(l,f){l.F=Date.now(),Xo(l),l.B=wn(l.A);var _=l.B,y=l.S;Array.isArray(y)||(y=[String(y)]),Ah(_.i,"t",y),l.C=0,_=l.j.L,l.h=new uh,l.g=jh(l.j,_?f:null,!l.u),l.P>0&&(l.O=new G(d(l.Y,l,l.g),l.P)),f=l.V,_=l.g,y=l.ba;var L="readystatechange";Array.isArray(L)||(L&&(be[0]=L.toString()),L=be);for(let q=0;q<L.length;q++){const he=ce(_,L[q],y||f.handleEvent,!1,f.h||f);if(!he)break;f.g[he.key]=he}f=l.J?$(l.J):{},l.u?(l.v||(l.v="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.B,l.v,l.u,f)):(l.v="GET",l.g.ea(l.B,l.v,null,f)),Ei(),E1(l.i,l.v,l.B,l.l,l.S,l.u)}ss.prototype.ba=function(l){l=l.target;const f=this.O;f&&os(l)==3?f.j():this.Y(l)},ss.prototype.Y=function(l){try{if(l==this.g)e:{const Me=os(this.g),vt=this.g.ya(),Ze=this.g.ca();if(!(Me<3)&&(Me!=3||this.g&&(this.h.h||this.g.la()||Dh(this.g)))){this.K||Me!=4||vt==7||(vt==8||Ze<=0?Ei(3):Ei(2)),uc(this);var f=this.g.ca();this.X=f;var _=S1(this);if(this.o=f==200,w1(this.i,this.v,this.B,this.l,this.S,Me,f),this.o){if(this.U&&!this.L){t:{if(this.g){var y,L=this.g;if((y=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(y)){var q=y;break t}}q=null}if(l=q)Ir(this.i,this.l,l,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,dc(this,l);else{this.o=!1,this.m=3,Ht(12),Xs(this),Ai(this);break e}}if(this.R){l=!0;let Tt;for(;!this.K&&this.C<_.length;)if(Tt=C1(this,_),Tt==lc){Me==4&&(this.m=4,Ht(14),l=!1),Ir(this.i,this.l,null,"[Incomplete Response]");break}else if(Tt==dh){this.m=4,Ht(15),Ir(this.i,this.l,_,"[Invalid Chunk]"),l=!1;break}else Ir(this.i,this.l,Tt,null),dc(this,Tt);if(fh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Me!=4||_.length!=0||this.h.h||(this.m=1,Ht(16),l=!1),this.o=this.o&&l,!l)Ir(this.i,this.l,_,"[Invalid Chunked Response]"),Xs(this),Ai(this);else if(_.length>0&&!this.W){this.W=!0;var he=this.j;he.g==this&&he.aa&&!he.P&&(he.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),yc(he),he.P=!0,Ht(11))}}else Ir(this.i,this.l,_,null),dc(this,_);Me==4&&Xs(this),this.o&&!this.K&&(Me==4?Fh(this.j,this):(this.o=!1,Xo(this)))}else B1(this.g),f==400&&_.indexOf("Unknown SID")>0?(this.m=3,Ht(12)):(this.m=0,Ht(13)),Xs(this),Ai(this)}}}catch{}finally{}};function S1(l){if(!fh(l))return l.g.la();const f=Dh(l.g);if(f==="")return"";let _="";const y=f.length,L=os(l.g)==4;if(!l.h.i){if(typeof TextDecoder>"u")return Xs(l),Ai(l),"";l.h.i=new o.TextDecoder}for(let q=0;q<y;q++)l.h.h=!0,_+=l.h.i.decode(f[q],{stream:!(L&&q==y-1)});return f.length=0,l.h.g+=_,l.C=0,l.h.g}function fh(l){return l.g?l.v=="GET"&&l.M!=2&&l.j.Aa:!1}function C1(l,f){var _=l.C,y=f.indexOf(`
`,_);return y==-1?lc:(_=Number(f.substring(_,y)),isNaN(_)?dh:(y+=1,y+_>f.length?lc:(f=f.slice(y,y+_),l.C=y+_,f)))}ss.prototype.cancel=function(){this.K=!0,Xs(this)};function Xo(l){l.T=Date.now()+l.H,ph(l,l.H)}function ph(l,f){if(l.D!=null)throw Error("WatchDog timer not null");l.D=wi(d(l.aa,l),f)}function uc(l){l.D&&(o.clearTimeout(l.D),l.D=null)}ss.prototype.aa=function(){this.D=null;const l=Date.now();l-this.T>=0?(T1(this.i,this.B),this.M!=2&&(Ei(),Ht(17)),Xs(this),this.m=2,Ai(this)):ph(this,this.T-l)};function Ai(l){l.j.I==0||l.K||Fh(l.j,l)}function Xs(l){uc(l);var f=l.O;f&&typeof f.dispose=="function"&&f.dispose(),l.O=null,Pe(l.V),l.g&&(f=l.g,l.g=null,f.abort(),f.dispose())}function dc(l,f){try{var _=l.j;if(_.I!=0&&(_.g==l||hc(_.h,l))){if(!l.L&&hc(_.h,l)&&_.I==3){try{var y=_.Ba.g.parse(f)}catch{y=null}if(Array.isArray(y)&&y.length==3){var L=y;if(L[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<l.F)ra(_),na(_);else break e;vc(_),Ht(18)}}else _.xa=L[1],0<_.xa-_.K&&L[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=wi(d(_.Va,_),6e3));_h(_.h)<=1&&_.ta&&(_.ta=void 0)}else er(_,11)}else if((l.L||_.g==l)&&ra(_),!I(f))for(L=_.Ba.g.parse(f),f=0;f<L.length;f++){let Ze=L[f];const Tt=Ze[0];if(!(Tt<=_.K))if(_.K=Tt,Ze=Ze[1],_.I==2)if(Ze[0]=="c"){_.M=Ze[1],_.ba=Ze[2];const Tn=Ze[3];Tn!=null&&(_.ka=Tn,_.j.info("VER="+_.ka));const tr=Ze[4];tr!=null&&(_.za=tr,_.j.info("SVER="+_.za));const as=Ze[5];as!=null&&typeof as=="number"&&as>0&&(y=1.5*as,_.O=y,_.j.info("backChannelRequestTimeoutMs_="+y)),y=_;const ls=l.g;if(ls){const oa=ls.g?ls.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oa){var q=y.h;q.g||oa.indexOf("spdy")==-1&&oa.indexOf("quic")==-1&&oa.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(fc(q,q.h),q.h=null))}if(y.G){const bc=ls.g?ls.g.getResponseHeader("X-HTTP-Session-Id"):null;bc&&(y.wa=bc,it(y.J,y.G,bc))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-l.F,_.j.info("Handshake RTT: "+_.T+"ms")),y=_;var he=l;if(y.na=qh(y,y.L?y.ba:null,y.W),he.L){vh(y.h,he);var Me=he,vt=y.O;vt&&(Me.H=vt),Me.D&&(uc(Me),Xo(Me)),y.g=he}else $h(y);_.i.length>0&&sa(_)}else Ze[0]!="stop"&&Ze[0]!="close"||er(_,7);else _.I==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?er(_,7):_c(_):Ze[0]!="noop"&&_.l&&_.l.qa(Ze),_.A=0)}}Ei(4)}catch{}}var k1=class{constructor(l,f){this.g=l,this.map=f}};function mh(l){this.l=l||10,o.PerformanceNavigationTiming?(l=o.performance.getEntriesByType("navigation"),l=l.length>0&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function gh(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function _h(l){return l.h?1:l.g?l.g.size:0}function hc(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function fc(l,f){l.g?l.g.add(f):l.h=f}function vh(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}mh.prototype.cancel=function(){if(this.i=yh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function yh(l){if(l.h!=null)return l.i.concat(l.h.G);if(l.g!=null&&l.g.size!==0){let f=l.i;for(const _ of l.g.values())f=f.concat(_.G);return f}return g(l.i)}var bh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function R1(l,f){if(l){l=l.split("&");for(let _=0;_<l.length;_++){const y=l[_].indexOf("=");let L,q=null;y>=0?(L=l[_].substring(0,y),q=l[_].substring(y+1)):L=l[_],f(L,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function rs(l){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let f;l instanceof rs?(this.l=l.l,Si(this,l.j),this.o=l.o,this.g=l.g,Ci(this,l.u),this.h=l.h,pc(this,Sh(l.i)),this.m=l.m):l&&(f=String(l).match(bh))?(this.l=!1,Si(this,f[1]||"",!0),this.o=ki(f[2]||""),this.g=ki(f[3]||"",!0),Ci(this,f[4]),this.h=ki(f[5]||"",!0),pc(this,f[6]||"",!0),this.m=ki(f[7]||"")):(this.l=!1,this.i=new Pi(null,this.l))}rs.prototype.toString=function(){const l=[];var f=this.j;f&&l.push(Ri(f,Eh,!0),":");var _=this.g;return(_||f=="file")&&(l.push("//"),(f=this.o)&&l.push(Ri(f,Eh,!0),"@"),l.push(Ii(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&l.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&l.push("/"),l.push(Ri(_,_.charAt(0)=="/"?D1:V1,!0))),(_=this.i.toString())&&l.push("?",_),(_=this.m)&&l.push("#",Ri(_,O1)),l.join("")},rs.prototype.resolve=function(l){const f=wn(this);let _=!!l.j;_?Si(f,l.j):_=!!l.o,_?f.o=l.o:_=!!l.g,_?f.g=l.g:_=l.u!=null;var y=l.h;if(_)Ci(f,l.u);else if(_=!!l.h){if(y.charAt(0)!="/")if(this.g&&!this.h)y="/"+y;else{var L=f.h.lastIndexOf("/");L!=-1&&(y=f.h.slice(0,L+1)+y)}if(L=y,L==".."||L==".")y="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){y=L.lastIndexOf("/",0)==0,L=L.split("/");const q=[];for(let he=0;he<L.length;){const Me=L[he++];Me=="."?y&&he==L.length&&q.push(""):Me==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),y&&he==L.length&&q.push("")):(q.push(Me),y=!0)}y=q.join("/")}else y=L}return _?f.h=y:_=l.i.toString()!=="",_?pc(f,Sh(l.i)):_=!!l.m,_&&(f.m=l.m),f};function wn(l){return new rs(l)}function Si(l,f,_){l.j=_?ki(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function Ci(l,f){if(f){if(f=Number(f),isNaN(f)||f<0)throw Error("Bad port number "+f);l.u=f}else l.u=null}function pc(l,f,_){f instanceof Pi?(l.i=f,N1(l.i,l.l)):(_||(f=Ri(f,x1)),l.i=new Pi(f,l.l))}function it(l,f,_){l.i.set(f,_)}function Zo(l){return it(l,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),l}function ki(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Ri(l,f,_){return typeof l=="string"?(l=encodeURI(l).replace(f,P1),_&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function P1(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Eh=/[#\/\?@]/g,V1=/[#\?:]/g,D1=/[#\?]/g,x1=/[#\?@]/g,O1=/#/g;function Pi(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function Zs(l){l.g||(l.g=new Map,l.h=0,l.i&&R1(l.i,function(f,_){l.add(decodeURIComponent(f.replace(/\+/g," ")),_)}))}t=Pi.prototype,t.add=function(l,f){Zs(this),this.i=null,l=Ar(this,l);let _=this.g.get(l);return _||this.g.set(l,_=[]),_.push(f),this.h+=1,this};function wh(l,f){Zs(l),f=Ar(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function Th(l,f){return Zs(l),f=Ar(l,f),l.g.has(f)}t.forEach=function(l,f){Zs(this),this.g.forEach(function(_,y){_.forEach(function(L){l.call(f,L,y,this)},this)},this)};function Ih(l,f){Zs(l);let _=[];if(typeof f=="string")Th(l,f)&&(_=_.concat(l.g.get(Ar(l,f))));else for(l=Array.from(l.g.values()),f=0;f<l.length;f++)_=_.concat(l[f]);return _}t.set=function(l,f){return Zs(this),this.i=null,l=Ar(this,l),Th(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},t.get=function(l,f){return l?(l=Ih(this,l),l.length>0?String(l[0]):f):f};function Ah(l,f,_){wh(l,f),_.length>0&&(l.i=null,l.g.set(Ar(l,f),g(_)),l.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(let y=0;y<f.length;y++){var _=f[y];const L=Ii(_);_=Ih(this,_);for(let q=0;q<_.length;q++){let he=L;_[q]!==""&&(he+="="+Ii(_[q])),l.push(he)}}return this.i=l.join("&")};function Sh(l){const f=new Pi;return f.i=l.i,l.g&&(f.g=new Map(l.g),f.h=l.h),f}function Ar(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function N1(l,f){f&&!l.j&&(Zs(l),l.i=null,l.g.forEach(function(_,y){const L=y.toLowerCase();y!=L&&(wh(this,y),Ah(this,L,_))},l)),l.j=f}function M1(l,f){const _=new Ti;if(o.Image){const y=new Image;y.onload=h(is,_,"TestLoadImage: loaded",!0,f,y),y.onerror=h(is,_,"TestLoadImage: error",!1,f,y),y.onabort=h(is,_,"TestLoadImage: abort",!1,f,y),y.ontimeout=h(is,_,"TestLoadImage: timeout",!1,f,y),o.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=l}else f(!1)}function $1(l,f){const _=new Ti,y=new AbortController,L=setTimeout(()=>{y.abort(),is(_,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:y.signal}).then(q=>{clearTimeout(L),q.ok?is(_,"TestPingServer: ok",!0,f):is(_,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(L),is(_,"TestPingServer: error",!1,f)})}function is(l,f,_,y,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),y(_)}catch{}}function L1(){this.g=new Ot}function mc(l){this.i=l.Sb||null,this.h=l.ab||!1}p(mc,Xt),mc.prototype.g=function(){return new ea(this.i,this.h)};function ea(l,f){ne.call(this),this.H=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(ea,ne),t=ea.prototype,t.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=l,this.D=f,this.readyState=1,Di(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const f={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};l&&(f.body=l),(this.H||o).fetch(new Request(this.D,f)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Vi(this)),this.readyState=0},t.Pa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Di(this)),this.g&&(this.readyState=3,Di(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ch(this)}else l.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ch(l){l.j.read().then(l.Ma.bind(l)).catch(l.ga.bind(l))}t.Ma=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.B.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?Vi(this):Di(this),this.readyState==3&&Ch(this)}},t.Oa=function(l){this.g&&(this.response=this.responseText=l,Vi(this))},t.Na=function(l){this.g&&(this.response=l,Vi(this))},t.ga=function(){this.g&&Vi(this)};function Vi(l){l.readyState=4,l.l=null,l.j=null,l.B=null,Di(l)}t.setRequestHeader=function(l,f){this.A.append(l,f)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var _=f.next();!_.done;)_=_.value,l.push(_[0]+": "+_[1]),_=f.next();return l.join(`\r
`)};function Di(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(ea.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function kh(l){let f="";return pt(l,function(_,y){f+=y,f+=":",f+=_,f+=`\r
`}),f}function gc(l,f,_){e:{for(y in _){var y=!1;break e}y=!0}y||(_=kh(_),typeof l=="string"?_!=null&&Ii(_):it(l,f,_))}function ut(l){ne.call(this),this.headers=new Map,this.L=l||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(ut,ne);var F1=/^https?$/i,U1=["POST","PUT"];t=ut.prototype,t.Fa=function(l){this.H=l},t.ea=function(l,f,_,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ch.g(),this.g.onreadystatechange=m(d(this.Ca,this));try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(q){Rh(this,q);return}if(l=_||"",_=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var L in y)_.set(L,y[L]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(const q of y.keys())_.set(q,y.get(q));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(_.keys()).find(q=>q.toLowerCase()=="content-type"),L=o.FormData&&l instanceof o.FormData,!(Array.prototype.indexOf.call(U1,f,void 0)>=0)||y||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,he]of _)this.g.setRequestHeader(q,he);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(l),this.v=!1}catch(q){Rh(this,q)}};function Rh(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.o=5,Ph(l),ta(l)}function Ph(l){l.A||(l.A=!0,Z(l,"complete"),Z(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=l||7,Z(this,"complete"),Z(this,"abort"),ta(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ta(this,!0)),ut.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Vh(this):this.Xa())},t.Xa=function(){Vh(this)};function Vh(l){if(l.h&&typeof i<"u"){if(l.v&&os(l)==4)setTimeout(l.Ca.bind(l),0);else if(Z(l,"readystatechange"),os(l)==4){l.h=!1;try{const q=l.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var _;if(!(_=f)){var y;if(y=q===0){let he=String(l.D).match(bh)[1]||null;!he&&o.self&&o.self.location&&(he=o.self.location.protocol.slice(0,-1)),y=!F1.test(he?he.toLowerCase():"")}_=y}if(_)Z(l,"complete"),Z(l,"success");else{l.o=6;try{var L=os(l)>2?l.g.statusText:""}catch{L=""}l.l=L+" ["+l.ca()+"]",Ph(l)}}finally{ta(l)}}}}function ta(l,f){if(l.g){l.m&&(clearTimeout(l.m),l.m=null);const _=l.g;l.g=null,f||Z(l,"ready");try{_.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function os(l){return l.g?l.g.readyState:0}t.ca=function(){try{return os(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),xt(f)}};function Dh(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.F){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function B1(l){const f={};l=(l.g&&os(l)>=2&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<l.length;y++){if(I(l[y]))continue;var _=A1(l[y]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const q=f[L]||[];f[L]=q,q.push(_)}Ne(f,function(y){return y.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function xi(l,f,_){return _&&_.internalChannelParams&&_.internalChannelParams[l]||f}function xh(l){this.za=0,this.i=[],this.j=new Ti,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=xi("failFast",!1,l),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=xi("baseRetryDelayMs",5e3,l),this.Za=xi("retryDelaySeedMs",1e4,l),this.Ta=xi("forwardChannelMaxRetries",2,l),this.va=xi("forwardChannelRequestTimeoutMs",2e4,l),this.ma=l&&l.xmlHttpFactory||void 0,this.Ua=l&&l.Rb||void 0,this.Aa=l&&l.useFetchStreams||!1,this.O=void 0,this.L=l&&l.supportsCrossDomainXhr||!1,this.M="",this.h=new mh(l&&l.concurrentRequestLimit),this.Ba=new L1,this.S=l&&l.fastHandshake||!1,this.R=l&&l.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=l&&l.Pb||!1,l&&l.ua&&this.j.ua(),l&&l.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&l&&l.detectBufferingProxy||!1,this.ia=void 0,l&&l.longPollingTimeout&&l.longPollingTimeout>0&&(this.ia=l.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=xh.prototype,t.ka=8,t.I=1,t.connect=function(l,f,_,y){Ht(0),this.W=l,this.H=f||{},_&&y!==void 0&&(this.H.OSID=_,this.H.OAID=y),this.F=this.X,this.J=qh(this,null,this.W),sa(this)};function _c(l){if(Oh(l),l.I==3){var f=l.V++,_=wn(l.J);if(it(_,"SID",l.M),it(_,"RID",f),it(_,"TYPE","terminate"),Oi(l,_),f=new ss(l,l.j,f),f.M=2,f.A=Zo(wn(_)),_=!1,o.navigator&&o.navigator.sendBeacon)try{_=o.navigator.sendBeacon(f.A.toString(),"")}catch{}!_&&o.Image&&(new Image().src=f.A,_=!0),_||(f.g=jh(f.j,null),f.g.ea(f.A)),f.F=Date.now(),Xo(f)}Bh(l)}function na(l){l.g&&(yc(l),l.g.cancel(),l.g=null)}function Oh(l){na(l),l.v&&(o.clearTimeout(l.v),l.v=null),ra(l),l.h.cancel(),l.m&&(typeof l.m=="number"&&o.clearTimeout(l.m),l.m=null)}function sa(l){if(!gh(l.h)&&!l.m){l.m=!0;var f=l.Ea;se||w(),ae||(se(),ae=!0),C.add(f,l),l.D=0}}function q1(l,f){return _h(l.h)>=l.h.j-(l.m?1:0)?!1:l.m?(l.i=f.G.concat(l.i),!0):l.I==1||l.I==2||l.D>=(l.Sa?0:l.Ta)?!1:(l.m=wi(d(l.Ea,l,f),Uh(l,l.D)),l.D++,!0)}t.Ea=function(l){if(this.m)if(this.m=null,this.I==1){if(!l){this.V=Math.floor(Math.random()*1e5),l=this.V++;const L=new ss(this,this.j,l);let q=this.o;if(this.U&&(q?(q=$(q),ue(q,this.U)):q=this.U),this.u!==null||this.R||(L.J=q,q=null),this.S)e:{for(var f=0,_=0;_<this.i.length;_++){t:{var y=this.i[_];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(f+=y,f>4096){f=_;break e}if(f===4096||_===this.i.length-1){f=_+1;break e}}f=1e3}else f=1e3;f=Mh(this,L,f),_=wn(this.J),it(_,"RID",l),it(_,"CVER",22),this.G&&it(_,"X-HTTP-Session-Id",this.G),Oi(this,_),q&&(this.R?f="headers="+Ii(kh(q))+"&"+f:this.u&&gc(_,this.u,q)),fc(this.h,L),this.Ra&&it(_,"TYPE","init"),this.S?(it(_,"$req",f),it(_,"SID","null"),L.U=!0,cc(L,_,null)):cc(L,_,f),this.I=2}}else this.I==3&&(l?Nh(this,l):this.i.length==0||gh(this.h)||Nh(this))};function Nh(l,f){var _;f?_=f.l:_=l.V++;const y=wn(l.J);it(y,"SID",l.M),it(y,"RID",_),it(y,"AID",l.K),Oi(l,y),l.u&&l.o&&gc(y,l.u,l.o),_=new ss(l,l.j,_,l.D+1),l.u===null&&(_.J=l.o),f&&(l.i=f.G.concat(l.i)),f=Mh(l,_,1e3),_.H=Math.round(l.va*.5)+Math.round(l.va*.5*Math.random()),fc(l.h,_),cc(_,y,f)}function Oi(l,f){l.H&&pt(l.H,function(_,y){it(f,y,_)}),l.l&&pt({},function(_,y){it(f,y,_)})}function Mh(l,f,_){_=Math.min(l.i.length,_);const y=l.l?d(l.l.Ka,l.l,l):null;e:{var L=l.i;let Me=-1;for(;;){const vt=["count="+_];Me==-1?_>0?(Me=L[0].g,vt.push("ofs="+Me)):Me=0:vt.push("ofs="+Me);let Ze=!0;for(let Tt=0;Tt<_;Tt++){var q=L[Tt].g;const Tn=L[Tt].map;if(q-=Me,q<0)Me=Math.max(0,L[Tt].g-100),Ze=!1;else try{q="req"+q+"_"||"";try{var he=Tn instanceof Map?Tn:Object.entries(Tn);for(const[tr,as]of he){let ls=as;a(as)&&(ls=Ke(as)),vt.push(q+tr+"="+encodeURIComponent(ls))}}catch(tr){throw vt.push(q+"type="+encodeURIComponent("_badmap")),tr}}catch{y&&y(Tn)}}if(Ze){he=vt.join("&");break e}}he=void 0}return l=l.i.splice(0,_),f.G=l,he}function $h(l){if(!l.g&&!l.v){l.Y=1;var f=l.Da;se||w(),ae||(se(),ae=!0),C.add(f,l),l.A=0}}function vc(l){return l.g||l.v||l.A>=3?!1:(l.Y++,l.v=wi(d(l.Da,l),Uh(l,l.A)),l.A++,!0)}t.Da=function(){if(this.v=null,Lh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var l=4*this.T;this.j.info("BP detection timer enabled: "+l),this.B=wi(d(this.Wa,this),l)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ht(10),na(this),Lh(this))};function yc(l){l.B!=null&&(o.clearTimeout(l.B),l.B=null)}function Lh(l){l.g=new ss(l,l.j,"rpc",l.Y),l.u===null&&(l.g.J=l.o),l.g.P=0;var f=wn(l.na);it(f,"RID","rpc"),it(f,"SID",l.M),it(f,"AID",l.K),it(f,"CI",l.F?"0":"1"),!l.F&&l.ia&&it(f,"TO",l.ia),it(f,"TYPE","xmlhttp"),Oi(l,f),l.u&&l.o&&gc(f,l.u,l.o),l.O&&(l.g.H=l.O);var _=l.g;l=l.ba,_.M=1,_.A=Zo(wn(f)),_.u=null,_.R=!0,hh(_,l)}t.Va=function(){this.C!=null&&(this.C=null,na(this),vc(this),Ht(19))};function ra(l){l.C!=null&&(o.clearTimeout(l.C),l.C=null)}function Fh(l,f){var _=null;if(l.g==f){ra(l),yc(l),l.g=null;var y=2}else if(hc(l.h,f))_=f.G,vh(l.h,f),y=1;else return;if(l.I!=0){if(f.o)if(y==1){_=f.u?f.u.length:0,f=Date.now()-f.F;var L=l.D;y=Ys(),Z(y,new ah(y,_)),sa(l)}else $h(l);else if(L=f.m,L==3||L==0&&f.X>0||!(y==1&&q1(l,f)||y==2&&vc(l)))switch(_&&_.length>0&&(f=l.h,f.i=f.i.concat(_)),L){case 1:er(l,5);break;case 4:er(l,10);break;case 3:er(l,6);break;default:er(l,2)}}}function Uh(l,f){let _=l.Qa+Math.floor(Math.random()*l.Za);return l.isActive()||(_*=2),_*f}function er(l,f){if(l.j.info("Error code "+f),f==2){var _=d(l.bb,l),y=l.Ua;const L=!y;y=new rs(y||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Si(y,"https"),Zo(y),L?M1(y.toString(),_):$1(y.toString(),_)}else Ht(2);l.I=0,l.l&&l.l.pa(f),Bh(l),Oh(l)}t.bb=function(l){l?(this.j.info("Successfully pinged google.com"),Ht(2)):(this.j.info("Failed to ping google.com"),Ht(1))};function Bh(l){if(l.I=0,l.ja=[],l.l){const f=yh(l.h);(f.length!=0||l.i.length!=0)&&(b(l.ja,f),b(l.ja,l.i),l.h.i.length=0,g(l.i),l.i.length=0),l.l.oa()}}function qh(l,f,_){var y=_ instanceof rs?wn(_):new rs(_);if(y.g!="")f&&(y.g=f+"."+y.g),Ci(y,y.u);else{var L=o.location;y=L.protocol,f=f?f+"."+L.hostname:L.hostname,L=+L.port;const q=new rs(null);y&&Si(q,y),f&&(q.g=f),L&&Ci(q,L),_&&(q.h=_),y=q}return _=l.G,f=l.wa,_&&f&&it(y,_,f),it(y,"VER",l.ka),Oi(l,y),y}function jh(l,f,_){if(f&&!l.L)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Aa&&!l.ma?new ut(new mc({ab:_})):new ut(l.ma),f.Fa(l.L),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Hh(){}t=Hh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ia(){}ia.prototype.g=function(l,f){return new en(l,f)};function en(l,f){ne.call(this),this.g=new xh(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.sa&&(l?l["X-WebChannel-Client-Profile"]=f.sa:l={"X-WebChannel-Client-Profile":f.sa}),this.g.U=l,(l=f&&f.Qb)&&!I(l)&&(this.g.u=l),this.A=f&&f.supportsCrossDomainXhr||!1,this.v=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!I(f)&&(this.g.G=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new Sr(this)}p(en,ne),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){_c(this.g)},en.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var _={};_.__data__=l,l=_}else this.v&&(_={},_.__data__=Ke(l),l=_);f.i.push(new k1(f.Ya++,l)),f.I==3&&sa(f)},en.prototype.N=function(){this.g.l=null,delete this.j,_c(this.g),delete this.g,en.Z.N.call(this)};function zh(l){Tr.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const _ in f){l=_;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}p(zh,Tr);function Wh(){St.call(this),this.status=1}p(Wh,St);function Sr(l){this.g=l}p(Sr,Hh),Sr.prototype.ra=function(){Z(this.g,"a")},Sr.prototype.qa=function(l){Z(this.g,new zh(l))},Sr.prototype.pa=function(l){Z(this.g,new Wh)},Sr.prototype.oa=function(){Z(this.g,"b")},ia.prototype.createWebChannel=ia.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,iv=function(){return new ia},rv=function(){return Ys()},sv=wt,bu={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Yo.NO_ERROR=0,Yo.TIMEOUT=8,Yo.HTTP_ERROR=6,Pa=Yo,lh.COMPLETE="complete",nv=lh,Zt.EventType=fn,fn.OPEN="a",fn.CLOSE="b",fn.ERROR="c",fn.MESSAGE="d",ne.prototype.listen=ne.prototype.J,qi=Zt,ut.prototype.listenOnce=ut.prototype.K,ut.prototype.getLastError=ut.prototype.Ha,ut.prototype.getLastErrorCode=ut.prototype.ya,ut.prototype.getStatus=ut.prototype.ca,ut.prototype.getResponseJson=ut.prototype.La,ut.prototype.getResponseText=ut.prototype.la,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Fa,tv=ut}).apply(typeof fa<"u"?fa:typeof self<"u"?self:typeof window<"u"?window:{});const yp="@firebase/firestore",bp="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fi="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr=new ud("@firebase/firestore");function Dr(){return gr.logLevel}function ve(t,...e){if(gr.logLevel<=Ue.DEBUG){const n=e.map(fd);gr.debug(`Firestore (${fi}): ${t}`,...n)}}function Xn(t,...e){if(gr.logLevel<=Ue.ERROR){const n=e.map(fd);gr.error(`Firestore (${fi}): ${t}`,...n)}}function ei(t,...e){if(gr.logLevel<=Ue.WARN){const n=e.map(fd);gr.warn(`Firestore (${fi}): ${t}`,...n)}}function fd(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,ov(t,s,n)}function ov(t,e,n){let s=`FIRESTORE (${fi}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Xn(s),new Error(s)}function Ye(t,e,n,s){let r="Unexpected state";typeof n=="string"?r=n:s=n,t||ov(e,r,s)}function xe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends ns{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class BA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($t.UNAUTHENTICATED))}shutdown(){}}class qA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class jA{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0,42304);let s=this.i;const r=c=>this.i!==s?(s=this.i,n(c)):Promise.resolve();let i=new Vs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Vs,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await r(this.currentUser)})},a=c=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Vs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ye(typeof s.accessToken=="string",31837,{l:s}),new av(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new $t(e)}}class HA{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class zA{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new HA(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n($t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ep{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WA{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ye(this.o===void 0,3512);const s=i=>{i.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,ve("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>s(i))};const r=i=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?r(i):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ep(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ye(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Ep(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const r=KA(40);for(let i=0;i<r.length;++i)s.length<20&&r[i]<n&&(s+=e.charAt(r[i]%62))}return s}}function Be(t,e){return t<e?-1:t>e?1:0}function Eu(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const r=t.charAt(s),i=e.charAt(s);if(r!==i)return qc(r)===qc(i)?Be(r,i):qc(r)?1:-1}return Be(t.length,e.length)}const GA=55296,QA=57343;function qc(t){const e=t.charCodeAt(0);return e>=GA&&e<=QA}function ti(t,e,n){return t.length===e.length&&t.every((s,r)=>n(s,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp="__name__";class Cn{constructor(e,n,s){n===void 0?n=0:n>e.length&&Re(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Re(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Cn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Cn?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let r=0;r<s;r++){const i=Cn.compareSegments(e.get(r),n.get(r));if(i!==0)return i}return Be(e.length,n.length)}static compareSegments(e,n){const s=Cn.isNumericId(e),r=Cn.isNumericId(n);return s&&!r?-1:!s&&r?1:s&&r?Cn.extractNumericId(e).compare(Cn.extractNumericId(n)):Eu(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ps.fromString(e.substring(4,e.length-2))}}class st extends Cn{construct(e,n,s){return new st(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new _e(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(r=>r.length>0))}return new st(n)}static emptyPath(){return new st([])}}const JA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pt extends Cn{construct(e,n,s){return new Pt(e,n,s)}static isValidIdentifier(e){return JA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===wp}static keyField(){return new Pt([wp])}static fromServerFormat(e){const n=[];let s="",r=0;const i=()=>{if(s.length===0)throw new _e(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let o=!1;for(;r<e.length;){const a=e[r];if(a==="\\"){if(r+1===e.length)throw new _e(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new _e(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=c,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(s+=a,r++):(i(),r++)}if(i(),o)throw new _e(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pt(n)}static emptyPath(){return new Pt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(st.fromString(e))}static fromName(e){return new Ie(st.fromString(e).popFirst(5))}static empty(){return new Ie(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return st.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new st(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(t,e,n){if(!n)throw new _e(J.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function YA(t,e,n,s){if(e===!0&&s===!0)throw new _e(J.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Tp(t){if(!Ie.isDocumentKey(t))throw new _e(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Ip(t){if(Ie.isDocumentKey(t))throw new _e(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function cv(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Ml(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Re(12329,{type:typeof t})}function ni(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new _e(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ml(t);throw new _e(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(t,e){const n={typeString:t};return e&&(n.value=e),n}function $o(t,e){if(!cv(t))throw new _e(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const r=e[s].typeString,i="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const o=t[s];if(r&&typeof o!==r){n=`JSON field '${s}' must be a ${r}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${s}' field to equal '${i.value}'`;break}}if(n)throw new _e(J.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap=-62135596800,Sp=1e6;class ot{static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Sp);return new ot(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _e(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _e(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Ap)throw new _e(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Sp}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if($o(e,ot._jsonSchema))return new ot(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ap;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ot._jsonSchemaVersion="firestore/timestamp/1.0",ot._jsonSchema={type:_t("string",ot._jsonSchemaVersion),seconds:_t("number"),nanoseconds:_t("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new ot(0,0))}static max(){return new Ve(new ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo=-1;function XA(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,r=Ve.fromTimestamp(s===1e9?new ot(n+1,0):new ot(n,s));return new $s(r,Ie.empty(),e)}function ZA(t){return new $s(t.readTime,t.key,bo)}class $s{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new $s(Ve.min(),Ie.empty(),bo)}static max(){return new $s(Ve.max(),Ie.empty(),bo)}}function eS(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ie.comparator(t.documentKey,e.documentKey),n!==0?n:Be(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pi(t){if(t.code!==J.FAILED_PRECONDITION||t.message!==tS)throw t;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new X((s,r)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(s,r)},this.catchCallback=i=>{this.wrapFailure(n,i).next(s,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof X?n:X.resolve(n)}catch(n){return X.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):X.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):X.reject(n)}static resolve(e){return new X((n,s)=>{n(e)})}static reject(e){return new X((n,s)=>{s(e)})}static waitFor(e){return new X((n,s)=>{let r=0,i=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++i,o&&i===r&&n()},c=>s(c))}),o=!0,i===r&&n()})}static or(e){let n=X.resolve(!1);for(const s of e)n=n.next(r=>r?X.resolve(r):s());return n}static forEach(e,n){const s=[];return e.forEach((r,i)=>{s.push(n.call(this,r,i))}),this.waitFor(s)}static mapArray(e,n){return new X((s,r)=>{const i=e.length,o=new Array(i);let a=0;for(let c=0;c<i;c++){const d=c;n(e[d]).next(h=>{o[d]=h,++a,a===i&&s(o)},h=>r(h))}})}static doWhile(e,n){return new X((s,r)=>{const i=()=>{e()===!0?n().next(()=>{i()},r):s()};i()})}}function sS(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function mi(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}$l.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const md=-1;function Ll(t){return t==null}function tl(t){return t===0&&1/t==-1/0}function rS(t){return typeof t=="number"&&Number.isInteger(t)&&!tl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv="";function iS(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Cp(e)),e=oS(t.get(n),e);return Cp(e)}function oS(t,e){let n=e;const s=t.length;for(let r=0;r<s;r++){const i=t.charAt(r);switch(i){case"\0":n+="";break;case uv:n+="";break;default:n+=i}}return n}function Cp(t){return t+uv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ks(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function dv(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,n){this.comparator=e,this.root=n||Ct.EMPTY}insert(e,n){return new ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ct.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ct.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return n+s.left.size;r<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pa(this.root,e,this.comparator,!1)}getReverseIterator(){return new pa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pa(this.root,e,this.comparator,!0)}}class pa{constructor(e,n,s,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?s(e.key,n):1,n&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ct{constructor(e,n,s,r,i){this.key=e,this.value=n,this.color=s??Ct.RED,this.left=r??Ct.EMPTY,this.right=i??Ct.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,r,i){return new Ct(e??this.key,n??this.value,s??this.color,r??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let r=this;const i=s(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,n,s),null):i===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ct.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return Ct.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Re(27949);return e+(this.isRed()?0:1)}}Ct.EMPTY=null,Ct.RED=!0,Ct.BLACK=!1;Ct.EMPTY=new class{constructor(){this.size=0}get key(){throw Re(57766)}get value(){throw Re(16141)}get color(){throw Re(16727)}get left(){throw Re(29726)}get right(){throw Re(36894)}copy(e,n,s,r,i){return this}insert(e,n,s){return new Ct(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Rp(this.data.getIterator())}getIteratorFrom(e){return new Rp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof bt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(this.comparator(r,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new bt(this.comparator);return n.data=e,n}}class Rp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.fields=e,e.sort(Pt.comparator)}static empty(){return new nn([])}unionWith(e){let n=new bt(Pt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new nn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ti(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new hv("Invalid base64 string: "+i):i}}(e);return new Dt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new Dt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let r=0;r<n.length;r++)s[r]=n.charCodeAt(r);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dt.EMPTY_BYTE_STRING=new Dt("");const aS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ls(t){if(Ye(!!t,39018),typeof t=="string"){let e=0;const n=aS.exec(t);if(Ye(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ht(t.seconds),nanos:ht(t.nanos)}}function ht(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Fs(t){return typeof t=="string"?Dt.fromBase64String(t):Dt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv="server_timestamp",pv="__type__",mv="__previous_value__",gv="__local_write_time__";function gd(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[pv])==null?void 0:s.stringValue)===fv}function Fl(t){const e=t.mapValue.fields[mv];return gd(e)?Fl(e):e}function Eo(t){const e=Ls(t.mapValue.fields[gv].timestampValue);return new ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e,n,s,r,i,o,a,c,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=h}}const nl="(default)";class wo{constructor(e,n){this.projectId=e,this.database=n||nl}static empty(){return new wo("","")}get isDefaultDatabase(){return this.database===nl}isEqual(e){return e instanceof wo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v="__type__",cS="__max__",ma={mapValue:{}},vv="__vector__",sl="value";function Us(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?gd(t)?4:dS(t)?9007199254740991:uS(t)?10:11:Re(28295,{value:t})}function $n(t,e){if(t===e)return!0;const n=Us(t);if(n!==Us(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Eo(t).isEqual(Eo(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=Ls(r.timestampValue),a=Ls(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Fs(r.bytesValue).isEqual(Fs(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return ht(r.geoPointValue.latitude)===ht(i.geoPointValue.latitude)&&ht(r.geoPointValue.longitude)===ht(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ht(r.integerValue)===ht(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=ht(r.doubleValue),a=ht(i.doubleValue);return o===a?tl(o)===tl(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ti(t.arrayValue.values||[],e.arrayValue.values||[],$n);case 10:case 11:return function(r,i){const o=r.mapValue.fields||{},a=i.mapValue.fields||{};if(kp(o)!==kp(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!$n(o[c],a[c])))return!1;return!0}(t,e);default:return Re(52216,{left:t})}}function To(t,e){return(t.values||[]).find(n=>$n(n,e))!==void 0}function si(t,e){if(t===e)return 0;const n=Us(t),s=Us(e);if(n!==s)return Be(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Be(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=ht(i.integerValue||i.doubleValue),c=ht(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return Pp(t.timestampValue,e.timestampValue);case 4:return Pp(Eo(t),Eo(e));case 5:return Eu(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Fs(i),c=Fs(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),c=o.split("/");for(let d=0;d<a.length&&d<c.length;d++){const h=Be(a[d],c[d]);if(h!==0)return h}return Be(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Be(ht(i.latitude),ht(o.latitude));return a!==0?a:Be(ht(i.longitude),ht(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Vp(t.arrayValue,e.arrayValue);case 10:return function(i,o){var m,g,b,T;const a=i.fields||{},c=o.fields||{},d=(m=a[sl])==null?void 0:m.arrayValue,h=(g=c[sl])==null?void 0:g.arrayValue,p=Be(((b=d==null?void 0:d.values)==null?void 0:b.length)||0,((T=h==null?void 0:h.values)==null?void 0:T.length)||0);return p!==0?p:Vp(d,h)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===ma.mapValue&&o===ma.mapValue)return 0;if(i===ma.mapValue)return 1;if(o===ma.mapValue)return-1;const a=i.fields||{},c=Object.keys(a),d=o.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){const m=Eu(c[p],h[p]);if(m!==0)return m;const g=si(a[c[p]],d[h[p]]);if(g!==0)return g}return Be(c.length,h.length)}(t.mapValue,e.mapValue);default:throw Re(23264,{he:n})}}function Pp(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Be(t,e);const n=Ls(t),s=Ls(e),r=Be(n.seconds,s.seconds);return r!==0?r:Be(n.nanos,s.nanos)}function Vp(t,e){const n=t.values||[],s=e.values||[];for(let r=0;r<n.length&&r<s.length;++r){const i=si(n[r],s[r]);if(i)return i}return Be(n.length,s.length)}function ri(t){return wu(t)}function wu(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const s=Ls(n);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Fs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let s="[",r=!0;for(const i of n.values||[])r?r=!1:s+=",",s+=wu(i);return s+"]"}(t.arrayValue):"mapValue"in t?function(n){const s=Object.keys(n.fields||{}).sort();let r="{",i=!0;for(const o of s)i?i=!1:r+=",",r+=`${o}:${wu(n.fields[o])}`;return r+"}"}(t.mapValue):Re(61005,{value:t})}function Va(t){switch(Us(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Fl(t);return e?16+Va(e):16;case 5:return 2*t.stringValue.length;case 6:return Fs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((r,i)=>r+Va(i),0)}(t.arrayValue);case 10:case 11:return function(s){let r=0;return Ks(s.fields,(i,o)=>{r+=i.length+Va(o)}),r}(t.mapValue);default:throw Re(13486,{value:t})}}function Dp(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Tu(t){return!!t&&"integerValue"in t}function _d(t){return!!t&&"arrayValue"in t}function xp(t){return!!t&&"nullValue"in t}function Op(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Da(t){return!!t&&"mapValue"in t}function uS(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[_v])==null?void 0:s.stringValue)===vv}function no(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ks(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=no(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=no(t.arrayValue.values[n]);return e}return{...t}}function dS(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===cS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.value=e}static empty(){return new Jt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Da(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=no(n)}setAll(e){let n=Pt.emptyPath(),s={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,s,r),s={},r=[],n=a.popLast()}o?s[a.lastSegment()]=no(o):r.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,s,r)}delete(e){const n=this.field(e.popLast());Da(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return $n(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let r=n.mapValue.fields[e.get(s)];Da(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,s){Ks(n,(r,i)=>e[r]=i);for(const r of s)delete e[r]}clone(){return new Jt(no(this.value))}}function yv(t){const e=[];return Ks(t.fields,(n,s)=>{const r=new Pt([n]);if(Da(s)){const i=yv(s.mapValue).fields;if(i.length===0)e.push(r);else for(const o of i)e.push(r.child(o))}else e.push(r)}),new nn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n,s,r,i,o,a){this.key=e,this.documentType=n,this.version=s,this.readTime=r,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ft(e,0,Ve.min(),Ve.min(),Ve.min(),Jt.empty(),0)}static newFoundDocument(e,n,s,r){return new Ft(e,1,n,Ve.min(),s,r,0)}static newNoDocument(e,n){return new Ft(e,2,n,Ve.min(),Ve.min(),Jt.empty(),0)}static newUnknownDocument(e,n){return new Ft(e,3,n,Ve.min(),Ve.min(),Jt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,n){this.position=e,this.inclusive=n}}function Np(t,e,n){let s=0;for(let r=0;r<t.position.length;r++){const i=e[r],o=t.position[r];if(i.field.isKeyField()?s=Ie.comparator(Ie.fromName(o.referenceValue),n.key):s=si(o,n.data.field(i.field)),i.dir==="desc"&&(s*=-1),s!==0)break}return s}function Mp(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!$n(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e,n="asc"){this.field=e,this.dir=n}}function hS(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{}class gt extends bv{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new pS(e,n,s):n==="array-contains"?new _S(e,s):n==="in"?new vS(e,s):n==="not-in"?new yS(e,s):n==="array-contains-any"?new bS(e,s):new gt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new mS(e,s):new gS(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(si(n,this.value)):n!==null&&Us(this.value)===Us(n)&&this.matchesComparison(si(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bn extends bv{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new bn(e,n)}matches(e){return Ev(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Ev(t){return t.op==="and"}function wv(t){return fS(t)&&Ev(t)}function fS(t){for(const e of t.filters)if(e instanceof bn)return!1;return!0}function Iu(t){if(t instanceof gt)return t.field.canonicalString()+t.op.toString()+ri(t.value);if(wv(t))return t.filters.map(e=>Iu(e)).join(",");{const e=t.filters.map(n=>Iu(n)).join(",");return`${t.op}(${e})`}}function Tv(t,e){return t instanceof gt?function(s,r){return r instanceof gt&&s.op===r.op&&s.field.isEqual(r.field)&&$n(s.value,r.value)}(t,e):t instanceof bn?function(s,r){return r instanceof bn&&s.op===r.op&&s.filters.length===r.filters.length?s.filters.reduce((i,o,a)=>i&&Tv(o,r.filters[a]),!0):!1}(t,e):void Re(19439)}function Iv(t){return t instanceof gt?function(n){return`${n.field.canonicalString()} ${n.op} ${ri(n.value)}`}(t):t instanceof bn?function(n){return n.op.toString()+" {"+n.getFilters().map(Iv).join(" ,")+"}"}(t):"Filter"}class pS extends gt{constructor(e,n,s){super(e,n,s),this.key=Ie.fromName(s.referenceValue)}matches(e){const n=Ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class mS extends gt{constructor(e,n){super(e,"in",n),this.keys=Av("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class gS extends gt{constructor(e,n){super(e,"not-in",n),this.keys=Av("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Av(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(s=>Ie.fromName(s.referenceValue))}class _S extends gt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return _d(n)&&To(n.arrayValue,this.value)}}class vS extends gt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&To(this.value.arrayValue,n)}}class yS extends gt{constructor(e,n){super(e,"not-in",n)}matches(e){if(To(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!To(this.value.arrayValue,n)}}class bS extends gt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!_d(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>To(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,n=null,s=[],r=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function $p(t,e=null,n=[],s=[],r=null,i=null,o=null){return new ES(t,e,n,s,r,i,o)}function vd(t){const e=xe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Iu(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(i){return i.field.canonicalString()+i.dir}(s)).join(","),Ll(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>ri(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>ri(s)).join(",")),e.Te=n}return e.Te}function yd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!hS(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Tv(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Mp(t.startAt,e.startAt)&&Mp(t.endAt,e.endAt)}function Au(t){return Ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,n=null,s=[],r=[],i=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function wS(t,e,n,s,r,i,o,a){return new gi(t,e,n,s,r,i,o,a)}function Sv(t){return new gi(t)}function Lp(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Cv(t){return t.collectionGroup!==null}function so(t){const e=xe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new bt(Pt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Io(i,s))}),n.has(Pt.keyField().canonicalString())||e.Ie.push(new Io(Pt.keyField(),s))}return e.Ie}function Pn(t){const e=xe(t);return e.Ee||(e.Ee=TS(e,so(t))),e.Ee}function TS(t,e){if(t.limitType==="F")return $p(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const i=r.dir==="desc"?"asc":"desc";return new Io(r.field,i)});const n=t.endAt?new rl(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new rl(t.startAt.position,t.startAt.inclusive):null;return $p(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function Su(t,e){const n=t.filters.concat([e]);return new gi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Cu(t,e,n){return new gi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ul(t,e){return yd(Pn(t),Pn(e))&&t.limitType===e.limitType}function kv(t){return`${vd(Pn(t))}|lt:${t.limitType}`}function xr(t){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(r=>Iv(r)).join(", ")}]`),Ll(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(r=>ri(r)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(r=>ri(r)).join(",")),`Target(${s})`}(Pn(t))}; limitType=${t.limitType})`}function Bl(t,e){return e.isFoundDocument()&&function(s,r){const i=r.key.path;return s.collectionGroup!==null?r.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(i):Ie.isDocumentKey(s.path)?s.path.isEqual(i):s.path.isImmediateParentOf(i)}(t,e)&&function(s,r){for(const i of so(s))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(s,r){for(const i of s.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(s,r){return!(s.startAt&&!function(o,a,c){const d=Np(o,a,c);return o.inclusive?d<=0:d<0}(s.startAt,so(s),r)||s.endAt&&!function(o,a,c){const d=Np(o,a,c);return o.inclusive?d>=0:d>0}(s.endAt,so(s),r))}(t,e)}function IS(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Rv(t){return(e,n)=>{let s=!1;for(const r of so(t)){const i=AS(r,e,n);if(i!==0)return i;s=s||r.field.isKeyField()}return 0}}function AS(t,e,n){const s=t.field.isKeyField()?Ie.comparator(e.key,n.key):function(i,o,a){const c=o.data.field(i),d=a.data.field(i);return c!==null&&d!==null?si(c,d):Re(42886)}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Re(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[r,i]of s)if(this.equalsFn(r,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return s.length===1?delete this.inner[n]:s.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ks(this.inner,(n,s)=>{for(const[r,i]of s)e(r,i)})}isEmpty(){return dv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS=new ct(Ie.comparator);function Zn(){return SS}const Pv=new ct(Ie.comparator);function ji(...t){let e=Pv;for(const n of t)e=e.insert(n.key,n);return e}function Vv(t){let e=Pv;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function cr(){return ro()}function Dv(){return ro()}function ro(){return new yr(t=>t.toString(),(t,e)=>t.isEqual(e))}const CS=new ct(Ie.comparator),kS=new bt(Ie.comparator);function qe(...t){let e=kS;for(const n of t)e=e.add(n);return e}const RS=new bt(Be);function PS(){return RS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bd(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tl(e)?"-0":e}}function xv(t){return{integerValue:""+t}}function VS(t,e){return rS(e)?xv(e):bd(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(){this._=void 0}}function DS(t,e,n){return t instanceof Ao?function(r,i){const o={fields:{[pv]:{stringValue:fv},[gv]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&gd(i)&&(i=Fl(i)),i&&(o.fields[mv]=i),{mapValue:o}}(n,e):t instanceof So?Nv(t,e):t instanceof Co?Mv(t,e):function(r,i){const o=Ov(r,i),a=Fp(o)+Fp(r.Ae);return Tu(o)&&Tu(r.Ae)?xv(a):bd(r.serializer,a)}(t,e)}function xS(t,e,n){return t instanceof So?Nv(t,e):t instanceof Co?Mv(t,e):n}function Ov(t,e){return t instanceof il?function(s){return Tu(s)||function(i){return!!i&&"doubleValue"in i}(s)}(e)?e:{integerValue:0}:null}class Ao extends ql{}class So extends ql{constructor(e){super(),this.elements=e}}function Nv(t,e){const n=$v(e);for(const s of t.elements)n.some(r=>$n(r,s))||n.push(s);return{arrayValue:{values:n}}}class Co extends ql{constructor(e){super(),this.elements=e}}function Mv(t,e){let n=$v(e);for(const s of t.elements)n=n.filter(r=>!$n(r,s));return{arrayValue:{values:n}}}class il extends ql{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Fp(t){return ht(t.integerValue||t.doubleValue)}function $v(t){return _d(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e,n){this.field=e,this.transform=n}}function NS(t,e){return t.field.isEqual(e.field)&&function(s,r){return s instanceof So&&r instanceof So||s instanceof Co&&r instanceof Co?ti(s.elements,r.elements,$n):s instanceof il&&r instanceof il?$n(s.Ae,r.Ae):s instanceof Ao&&r instanceof Ao}(t.transform,e.transform)}class MS{constructor(e,n){this.version=e,this.transformResults=n}}class Vn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Vn}static exists(e){return new Vn(void 0,e)}static updateTime(e){return new Vn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xa(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class jl{}function Lv(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Uv(t.key,Vn.none()):new Lo(t.key,t.data,Vn.none());{const n=t.data,s=Jt.empty();let r=new bt(Pt.comparator);for(let i of e.fields)if(!r.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?s.delete(i):s.set(i,o),r=r.add(i)}return new Gs(t.key,s,new nn(r.toArray()),Vn.none())}}function $S(t,e,n){t instanceof Lo?function(r,i,o){const a=r.value.clone(),c=Bp(r.fieldTransforms,i,o.transformResults);a.setAll(c),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Gs?function(r,i,o){if(!xa(r.precondition,i))return void i.convertToUnknownDocument(o.version);const a=Bp(r.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(Fv(r)),c.setAll(a),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(r,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function io(t,e,n,s){return t instanceof Lo?function(i,o,a,c){if(!xa(i.precondition,o))return a;const d=i.value.clone(),h=qp(i.fieldTransforms,c,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,s):t instanceof Gs?function(i,o,a,c){if(!xa(i.precondition,o))return a;const d=qp(i.fieldTransforms,c,o),h=o.data;return h.setAll(Fv(i)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(p=>p.field))}(t,e,n,s):function(i,o,a){return xa(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function LS(t,e){let n=null;for(const s of t.fieldTransforms){const r=e.data.field(s.field),i=Ov(s.transform,r||null);i!=null&&(n===null&&(n=Jt.empty()),n.set(s.field,i))}return n||null}function Up(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(s,r){return s===void 0&&r===void 0||!(!s||!r)&&ti(s,r,(i,o)=>NS(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Lo extends jl{constructor(e,n,s,r=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Gs extends jl{constructor(e,n,s,r,i=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Fv(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function Bp(t,e,n){const s=new Map;Ye(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let r=0;r<n.length;r++){const i=t[r],o=i.transform,a=e.data.field(i.field);s.set(i.field,xS(o,a,n[r]))}return s}function qp(t,e,n){const s=new Map;for(const r of t){const i=r.transform,o=n.data.field(r.field);s.set(r.field,DS(i,o,e))}return s}class Uv extends jl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FS extends jl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e,n,s,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=r}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const i=this.mutations[r];i.key.isEqual(e.key)&&$S(i,e,s[r])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=io(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=io(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Dv();return this.mutations.forEach(r=>{const i=e.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(r.key)?null:a;const c=Lv(o,a);c!==null&&s.set(r.key,c),o.isValidDocument()||o.convertToNoDocument(Ve.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),qe())}isEqual(e){return this.batchId===e.batchId&&ti(this.mutations,e.mutations,(n,s)=>Up(n,s))&&ti(this.baseMutations,e.baseMutations,(n,s)=>Up(n,s))}}class Ed{constructor(e,n,s,r){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=r}static from(e,n,s){Ye(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let r=function(){return CS}();const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,s[o].version);return new Ed(e,n,s,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mt,ze;function jS(t){switch(t){case J.OK:return Re(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Re(15467,{code:t})}}function Bv(t){if(t===void 0)return Xn("GRPC error has no .code"),J.UNKNOWN;switch(t){case mt.OK:return J.OK;case mt.CANCELLED:return J.CANCELLED;case mt.UNKNOWN:return J.UNKNOWN;case mt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case mt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case mt.INTERNAL:return J.INTERNAL;case mt.UNAVAILABLE:return J.UNAVAILABLE;case mt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case mt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case mt.NOT_FOUND:return J.NOT_FOUND;case mt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case mt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case mt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case mt.ABORTED:return J.ABORTED;case mt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case mt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case mt.DATA_LOSS:return J.DATA_LOSS;default:return Re(39323,{code:t})}}(ze=mt||(mt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS=new Ps([4294967295,4294967295],0);function jp(t){const e=HS().encode(t),n=new ev;return n.update(e),new Uint8Array(n.digest())}function Hp(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),r=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Ps([n,s],0),new Ps([r,i],0)]}class wd{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Hi(`Invalid padding: ${n}`);if(s<0)throw new Hi(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Hi(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Hi(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ps.fromNumber(this.ge)}ye(e,n,s){let r=e.add(n.multiply(Ps.fromNumber(s)));return r.compare(zS)===1&&(r=new Ps([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=jp(e),[s,r]=Hp(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(s,r,i);if(!this.we(o))return!1}return!0}static create(e,n,s){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new wd(i,r,n);return s.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=jp(e),[s,r]=Hp(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(s,r,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Hi extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,n,s,r,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const r=new Map;return r.set(e,Fo.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Hl(Ve.min(),r,new ct(Be),Zn(),qe())}}class Fo{constructor(e,n,s,r,i){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Fo(s,n,qe(),qe(),qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,n,s,r){this.be=e,this.removedTargetIds=n,this.key=s,this.De=r}}class qv{constructor(e,n){this.targetId=e,this.Ce=n}}class jv{constructor(e,n,s=Dt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=r}}class zp{constructor(){this.ve=0,this.Fe=Wp(),this.Me=Dt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=qe(),n=qe(),s=qe();return this.Fe.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:s=s.add(r);break;default:Re(38017,{changeType:i})}}),new Fo(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=Wp()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ye(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class WS{constructor(e){this.Ge=e,this.ze=new Map,this.je=Zn(),this.Je=ga(),this.He=ga(),this.Ye=new ct(Be)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Re(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((s,r)=>{this.rt(r)&&n(r)})}st(e){const n=e.targetId,s=e.Ce.count,r=this.ot(n);if(r){const i=r.target;if(Au(i))if(s===0){const o=new Ie(i.path);this.et(n,o,Ft.newNoDocument(o,Ve.min()))}else Ye(s===1,20013,{expectedCount:s});else{const o=this._t(n);if(o!==s){const a=this.ut(e),c=a?this.ct(a,e,o):1;if(c!==0){this.it(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:r=0},hashCount:i=0}=n;let o,a;try{o=Fs(s).toUint8Array()}catch(c){if(c instanceof hv)return ei("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new wd(o,r,i)}catch(c){return ei(c instanceof Hi?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.ge===0?null:a}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let r=0;return s.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),r++)}),r}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&Au(a.target)){const c=new Ie(a.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,Ft.newNoDocument(c,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let s=qe();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(c=>{const d=this.ot(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(s=s.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const r=new Hl(e,n,this.Ye,this.je,s);return this.je=Zn(),this.Je=ga(),this.He=ga(),this.Ye=new ct(Be),r}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,n)?r.Qe(n,1):r.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new zp,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new bt(Be),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new bt(Be),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ve("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new zp),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ga(){return new ct(Ie.comparator)}function Wp(){return new ct(Ie.comparator)}const KS={asc:"ASCENDING",desc:"DESCENDING"},GS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QS={and:"AND",or:"OR"};class JS{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ku(t,e){return t.useProto3Json||Ll(e)?e:{value:e}}function ol(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Hv(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function YS(t,e){return ol(t,e.toTimestamp())}function Dn(t){return Ye(!!t,49232),Ve.fromTimestamp(function(n){const s=Ls(n);return new ot(s.seconds,s.nanos)}(t))}function Td(t,e){return Ru(t,e).canonicalString()}function Ru(t,e){const n=function(r){return new st(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function zv(t){const e=st.fromString(t);return Ye(Jv(e),10190,{key:e.toString()}),e}function Pu(t,e){return Td(t.databaseId,e.path)}function jc(t,e){const n=zv(e);if(n.get(1)!==t.databaseId.projectId)throw new _e(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new _e(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ie(Kv(n))}function Wv(t,e){return Td(t.databaseId,e)}function XS(t){const e=zv(t);return e.length===4?st.emptyPath():Kv(e)}function Vu(t){return new st(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Kv(t){return Ye(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Kp(t,e,n){return{name:Pu(t,e),fields:n.value.mapValue.fields}}function ZS(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Re(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],i=function(d,h){return d.useProto3Json?(Ye(h===void 0||typeof h=="string",58123),Dt.fromBase64String(h||"")):(Ye(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Dt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(d){const h=d.code===void 0?J.UNKNOWN:Bv(d.code);return new _e(h,d.message||"")}(o);n=new jv(s,r,i,a||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const r=jc(t,s.document.name),i=Dn(s.document.updateTime),o=s.document.createTime?Dn(s.document.createTime):Ve.min(),a=new Jt({mapValue:{fields:s.document.fields}}),c=Ft.newFoundDocument(r,i,o,a),d=s.targetIds||[],h=s.removedTargetIds||[];n=new Oa(d,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const r=jc(t,s.document),i=s.readTime?Dn(s.readTime):Ve.min(),o=Ft.newNoDocument(r,i),a=s.removedTargetIds||[];n=new Oa([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const r=jc(t,s.document),i=s.removedTargetIds||[];n=new Oa([],i,r,null)}else{if(!("filter"in e))return Re(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:r=0,unchangedNames:i}=s,o=new qS(r,i),a=s.targetId;n=new qv(a,o)}}return n}function eC(t,e){let n;if(e instanceof Lo)n={update:Kp(t,e.key,e.value)};else if(e instanceof Uv)n={delete:Pu(t,e.key)};else if(e instanceof Gs)n={update:Kp(t,e.key,e.data),updateMask:cC(e.fieldMask)};else{if(!(e instanceof FS))return Re(16599,{Vt:e.type});n={verify:Pu(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(i,o){const a=o.transform;if(a instanceof Ao)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof So)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Co)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof il)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw Re(20930,{transform:o.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:YS(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Re(27497)}(t,e.precondition)),n}function tC(t,e){return t&&t.length>0?(Ye(e!==void 0,14353),t.map(n=>function(r,i){let o=r.updateTime?Dn(r.updateTime):Dn(i);return o.isEqual(Ve.min())&&(o=Dn(i)),new MS(o,r.transformResults||[])}(n,e))):[]}function nC(t,e){return{documents:[Wv(t,e.path)]}}function sC(t,e){const n={structuredQuery:{}},s=e.path;let r;e.collectionGroup!==null?(r=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Wv(t,r);const i=function(d){if(d.length!==0)return Qv(bn.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(d){if(d.length!==0)return d.map(h=>function(m){return{field:Or(m.field),direction:oC(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=ku(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ft:n,parent:r}}function rC(t){let e=XS(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let r=null;if(s>0){Ye(s===1,65062);const h=n.from[0];h.allDescendants?r=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(p){const m=Gv(p);return m instanceof bn&&wv(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(m=>function(b){return new Io(Nr(b.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,Ll(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(p){const m=!!p.before,g=p.values||[];return new rl(g,m)}(n.startAt));let d=null;return n.endAt&&(d=function(p){const m=!p.before,g=p.values||[];return new rl(g,m)}(n.endAt)),wS(e,r,o,i,a,"F",c,d)}function iC(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re(28987,{purpose:r})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Gv(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Nr(n.unaryFilter.field);return gt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const r=Nr(n.unaryFilter.field);return gt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Nr(n.unaryFilter.field);return gt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Nr(n.unaryFilter.field);return gt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Re(61313);default:return Re(60726)}}(t):t.fieldFilter!==void 0?function(n){return gt.create(Nr(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Re(58110);default:return Re(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return bn.create(n.compositeFilter.filters.map(s=>Gv(s)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Re(1026)}}(n.compositeFilter.op))}(t):Re(30097,{filter:t})}function oC(t){return KS[t]}function aC(t){return GS[t]}function lC(t){return QS[t]}function Or(t){return{fieldPath:t.canonicalString()}}function Nr(t){return Pt.fromServerFormat(t.fieldPath)}function Qv(t){return t instanceof gt?function(n){if(n.op==="=="){if(Op(n.value))return{unaryFilter:{field:Or(n.field),op:"IS_NAN"}};if(xp(n.value))return{unaryFilter:{field:Or(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Op(n.value))return{unaryFilter:{field:Or(n.field),op:"IS_NOT_NAN"}};if(xp(n.value))return{unaryFilter:{field:Or(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Or(n.field),op:aC(n.op),value:n.value}}}(t):t instanceof bn?function(n){const s=n.getFilters().map(r=>Qv(r));return s.length===1?s[0]:{compositeFilter:{op:lC(n.op),filters:s}}}(t):Re(54877,{filter:t})}function cC(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Jv(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,n,s,r,i=Ve.min(),o=Ve.min(),a=Dt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Is(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e){this.yt=e}}function dC(t){const e=rC({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Cu(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(){this.Cn=new fC}addToCollectionParentIndex(e,n){return this.Cn.add(n),X.resolve()}getCollectionParents(e,n){return X.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return X.resolve()}deleteFieldIndex(e,n){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,n){return X.resolve()}getDocumentsMatchingTarget(e,n){return X.resolve(null)}getIndexType(e,n){return X.resolve(0)}getFieldIndexes(e,n){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,n){return X.resolve($s.min())}getMinOffsetFromCollectionGroup(e,n){return X.resolve($s.min())}updateCollectionGroup(e,n,s){return X.resolve()}updateIndexEntries(e,n){return X.resolve()}}class fC{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n]||new bt(st.comparator),i=!r.has(s);return this.index[n]=r.add(s),i}has(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n];return r&&r.has(s)}getEntries(e){return(this.index[e]||new bt(st.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Yv=41943040;class Qt{static withCacheSize(e){return new Qt(e,Qt.DEFAULT_COLLECTION_PERCENTILE,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qt.DEFAULT_COLLECTION_PERCENTILE=10,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qt.DEFAULT=new Qt(Yv,Qt.DEFAULT_COLLECTION_PERCENTILE,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qt.DISABLED=new Qt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ii(0)}static cr(){return new ii(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp="LruGarbageCollector",pC=1048576;function Jp([t,e],[n,s]){const r=Be(t,n);return r===0?Be(e,s):r}class mC{constructor(e){this.Ir=e,this.buffer=new bt(Jp),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Jp(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class gC{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ve(Qp,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){mi(n)?ve(Qp,"Ignoring IndexedDB error during garbage collection: ",n):await pi(n)}await this.Vr(3e5)})}}class _C{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return X.resolve($l.ce);const s=new mC(n);return this.mr.forEachTarget(e,r=>s.Ar(r.sequenceNumber)).next(()=>this.mr.pr(e,r=>s.Ar(r))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Gp)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Gp):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,r,i,o,a,c,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),r=this.params.maximumSequenceNumbersToCollect):r=p,o=Date.now(),this.nthSequenceNumber(e,r))).next(p=>(s=p,a=Date.now(),this.removeTargets(e,s,n))).next(p=>(i=p,c=Date.now(),this.removeOrphanedDocuments(e,s))).next(p=>(d=Date.now(),Dr()<=Ue.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${r} in `+(a-o)+`ms
	Removed ${i} targets in `+(c-a)+`ms
	Removed ${p} documents in `+(d-c)+`ms
Total Duration: ${d-h}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:p})))}}function vC(t,e){return new _C(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(){this.changes=new yr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?X.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e,n,s,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=r}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(s=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(s!==null&&io(s.mutation,r,nn.empty(),ot.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,qe()).next(()=>s))}getLocalViewOfDocuments(e,n,s=qe()){const r=cr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,s).next(i=>{let o=ji();return i.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const s=cr();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,qe()))}populateOverlays(e,n,s){const r=[];return s.forEach(i=>{n.has(i)||r.push(i)}),this.documentOverlayCache.getOverlays(e,r).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,s,r){let i=Zn();const o=ro(),a=function(){return ro()}();return n.forEach((c,d)=>{const h=s.get(d.key);r.has(d.key)&&(h===void 0||h.mutation instanceof Gs)?i=i.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),io(h.mutation,d,h.mutation.getFieldMask(),ot.now())):o.set(d.key,nn.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((d,h)=>o.set(d,h)),n.forEach((d,h)=>a.set(d,new bC(h,o.get(d)??null))),a))}recalculateAndSaveOverlays(e,n){const s=ro();let r=new ct((o,a)=>o-a),i=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let h=s.get(c)||nn.empty();h=a.applyToLocalView(d,h),s.set(c,h);const p=(r.get(a.batchId)||qe()).add(c);r=r.insert(a.batchId,p)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),d=c.key,h=c.value,p=Dv();h.forEach(m=>{if(!i.has(m)){const g=Lv(n.get(m),s.get(m));g!==null&&p.set(m,g),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,p))}return X.waitFor(o)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,r){return function(o){return Ie.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Cv(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,r):this.getDocumentsMatchingCollectionQuery(e,n,s,r)}getNextDocuments(e,n,s,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,r).next(i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,r-i.size):X.resolve(cr());let a=bo,c=i;return o.next(d=>X.forEach(d,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),i.get(h)?X.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{c=c.insert(h,m)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,c,d,qe())).next(h=>({batchId:a,changes:Vv(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ie(n)).next(s=>{let r=ji();return s.isFoundDocument()&&(r=r.insert(s.key,s)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,s,r){const i=n.collectionGroup;let o=ji();return this.indexManager.getCollectionParents(e,i).next(a=>X.forEach(a,c=>{const d=function(p,m){return new gi(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,s,r).next(h=>{h.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,s,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,i,r))).next(o=>{i.forEach((c,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,Ft.newInvalidDocument(h)))});let a=ji();return o.forEach((c,d)=>{const h=i.get(c);h!==void 0&&io(h.mutation,d,nn.empty(),ot.now()),Bl(n,d)&&(a=a.insert(c,d))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return X.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Dn(r.createTime)}}(n)),X.resolve()}getNamedQuery(e,n){return X.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(r){return{name:r.name,query:dC(r.bundledQuery),readTime:Dn(r.readTime)}}(n)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(){this.overlays=new ct(Ie.comparator),this.qr=new Map}getOverlay(e,n){return X.resolve(this.overlays.get(n))}getOverlays(e,n){const s=cr();return X.forEach(n,r=>this.getOverlay(e,r).next(i=>{i!==null&&s.set(r,i)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((r,i)=>{this.St(e,n,i)}),X.resolve()}removeOverlaysForBatchId(e,n,s){const r=this.qr.get(s);return r!==void 0&&(r.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(s)),X.resolve()}getOverlaysForCollection(e,n,s){const r=cr(),i=n.length+1,o=new Ie(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&c.largestBatchId>s&&r.set(c.getKey(),c)}return X.resolve(r)}getOverlaysForCollectionGroup(e,n,s,r){let i=new ct((d,h)=>d-h);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>s){let h=i.get(d.largestBatchId);h===null&&(h=cr(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const a=cr(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,h)=>a.set(d,h)),!(a.size()>=r)););return X.resolve(a)}St(e,n,s){const r=this.overlays.get(s.key);if(r!==null){const o=this.qr.get(r.largestBatchId).delete(s.key);this.qr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new BS(n,s));let i=this.qr.get(n);i===void 0&&(i=qe(),this.qr.set(n,i)),this.qr.set(n,i.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(){this.sessionToken=Dt.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(){this.Qr=new bt(It.$r),this.Ur=new bt(It.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new It(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Gr(new It(e,n))}zr(e,n){e.forEach(s=>this.removeReference(s,n))}jr(e){const n=new Ie(new st([])),s=new It(n,e),r=new It(n,e+1),i=[];return this.Ur.forEachInRange([s,r],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ie(new st([])),s=new It(n,e),r=new It(n,e+1);let i=qe();return this.Ur.forEachInRange([s,r],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new It(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class It{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ie.comparator(e.key,n.key)||Be(e.Yr,n.Yr)}static Kr(e,n){return Be(e.Yr,n.Yr)||Ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new bt(It.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,r){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new US(i,n,s,r);this.mutationQueue.push(o);for(const a of r)this.Zr=this.Zr.add(new It(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return X.resolve(o)}lookupMutationBatch(e,n){return X.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,r=this.ei(s),i=r<0?0:r;return X.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?md:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new It(n,0),r=new It(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([s,r],o=>{const a=this.Xr(o.Yr);i.push(a)}),X.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new bt(Be);return n.forEach(r=>{const i=new It(r,0),o=new It(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{s=s.add(a.Yr)})}),X.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,r=s.length+1;let i=s;Ie.isDocumentKey(i)||(i=i.child(""));const o=new It(new Ie(i),0);let a=new bt(Be);return this.Zr.forEachWhile(c=>{const d=c.key.path;return!!s.isPrefixOf(d)&&(d.length===r&&(a=a.add(c.Yr)),!0)},o),X.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(s=>{const r=this.Xr(s);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Ye(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return X.forEach(n.mutations,r=>{const i=new It(r.key,n.batchId);return s=s.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,n){const s=new It(n,0),r=this.Zr.firstAfterOrEqual(s);return X.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e){this.ri=e,this.docs=function(){return new ct(Ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,r=this.docs.get(s),i=r?r.size:0,o=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return X.resolve(s?s.document.mutableCopy():Ft.newInvalidDocument(n))}getEntries(e,n){let s=Zn();return n.forEach(r=>{const i=this.docs.get(r);s=s.insert(r,i?i.document.mutableCopy():Ft.newInvalidDocument(r))}),X.resolve(s)}getDocumentsMatchingQuery(e,n,s,r){let i=Zn();const o=n.path,a=new Ie(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:d,value:{document:h}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||eS(ZA(h),s)<=0||(r.has(h.key)||Bl(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return X.resolve(i)}getAllFromCollectionGroup(e,n,s,r){Re(9500)}ii(e,n){return X.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new CC(this)}getSize(e){return X.resolve(this.size)}}class CC extends yC{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((s,r)=>{r.isValidDocument()?n.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(s)}),X.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e){this.persistence=e,this.si=new yr(n=>vd(n),yd),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.oi=0,this._i=new Id,this.targetCount=0,this.ai=ii.ur()}forEachTarget(e,n){return this.si.forEach((s,r)=>n(r)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),X.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ii(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,X.resolve()}updateTargetData(e,n){return this.Pr(n),X.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,n,s){let r=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&s.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),X.waitFor(i).next(()=>r)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return X.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),X.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const r=this.persistence.referenceDelegate,i=[];return r&&n.forEach(o=>{i.push(r.markPotentiallyOrphaned(e,o))}),X.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),X.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return X.resolve(s)}containsKey(e,n){return X.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e,n){this.ui={},this.overlays={},this.ci=new $l(0),this.li=!1,this.li=!0,this.hi=new IC,this.referenceDelegate=e(this),this.Pi=new kC(this),this.indexManager=new hC,this.remoteDocumentCache=function(r){return new SC(r)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new uC(n),this.Ii=new wC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new TC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new AC(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ve("MemoryPersistence","Starting transaction:",e);const r=new RC(this.ci.next());return this.referenceDelegate.Ei(),s(r).next(i=>this.referenceDelegate.di(r).next(()=>i)).toPromise().then(i=>(r.raiseOnCommittedEvent(),i))}Ai(e,n){return X.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,n)))}}class RC extends nS{constructor(e){super(),this.currentSequenceNumber=e}}class Ad{constructor(e){this.persistence=e,this.Ri=new Id,this.Vi=null}static mi(e){return new Ad(e)}get fi(){if(this.Vi)return this.Vi;throw Re(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),X.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),X.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),X.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(r=>this.fi.add(r.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(i=>this.fi.add(i.toString()))}).next(()=>s.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,s=>{const r=Ie.fromPath(s);return this.gi(e,r).next(i=>{i||n.removeEntry(r,Ve.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return X.or([()=>X.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class al{constructor(e,n){this.persistence=e,this.pi=new yr(s=>iS(s.path),(s,r)=>s.isEqual(r)),this.garbageCollector=vC(this,n)}static mi(e,n){return new al(e,n)}Ei(){}di(e){return X.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(r=>s+r))}wr(e){let n=0;return this.pr(e,s=>{n++}).next(()=>n)}pr(e,n){return X.forEach(this.pi,(s,r)=>this.br(e,s,r).next(i=>i?X.resolve():n(r)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,o=>this.br(e,o,n).next(a=>{a||(s++,i.removeEntry(o,Ve.min()))})).next(()=>i.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),X.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),X.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),X.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Va(e.data.value)),n}br(e,n,s){return X.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.pi.get(n);return X.resolve(r!==void 0&&r>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,n,s,r){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=r}static As(e,n){let s=qe(),r=qe();for(const i of n.docChanges)switch(i.type){case 0:s=s.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Sd(e,n.fromCache,s,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return TI()?8:sS(jt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,r){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,r,s).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new PC;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,s,r){return s.documentReadCount<this.fs?(Dr()<=Ue.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",xr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(Dr()<=Ue.DEBUG&&ve("QueryEngine","Query:",xr(n),"scans",s.documentReadCount,"local documents and returns",r,"documents as results."),s.documentReadCount>this.gs*r?(Dr()<=Ue.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",xr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pn(n))):X.resolve())}ys(e,n){if(Lp(n))return X.resolve(null);let s=Pn(n);return this.indexManager.getIndexType(e,s).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Cu(n,null,"F"),s=Pn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(i=>{const o=qe(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,s).next(c=>{const d=this.Ds(n,a);return this.Cs(n,d,o,c.readTime)?this.ys(e,Cu(n,null,"F")):this.vs(e,d,n,c)}))})))}ws(e,n,s,r){return Lp(n)||r.isEqual(Ve.min())?X.resolve(null):this.ps.getDocuments(e,s).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,s,r)?X.resolve(null):(Dr()<=Ue.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),xr(n)),this.vs(e,o,n,XA(r,bo)).next(a=>a))})}Ds(e,n){let s=new bt(Rv(e));return n.forEach((r,i)=>{Bl(e,i)&&(s=s.add(i))}),s}Cs(e,n,s,r){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,n,s){return Dr()<=Ue.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",xr(n)),this.ps.getDocumentsMatchingQuery(e,n,$s.min(),s)}vs(e,n,s,r){return this.ps.getDocumentsMatchingQuery(e,s,r).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd="LocalStore",DC=3e8;class xC{constructor(e,n,s,r){this.persistence=e,this.Fs=n,this.serializer=r,this.Ms=new ct(Be),this.xs=new yr(i=>vd(i),yd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new EC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function OC(t,e,n,s){return new xC(t,e,n,s)}async function Zv(t,e){const n=xe(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let r;return n.mutationQueue.getAllMutationBatches(s).next(i=>(r=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(s))).next(i=>{const o=[],a=[];let c=qe();for(const d of r){o.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}for(const d of i){a.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(s,c).next(d=>({Ls:d,removedBatchIds:o,addedBatchIds:a}))})})}function NC(t,e){const n=xe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const r=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,c,d,h){const p=d.batch,m=p.keys();let g=X.resolve();return m.forEach(b=>{g=g.next(()=>h.getEntry(c,b)).next(T=>{const P=d.docVersions.get(b);Ye(P!==null,48541),T.version.compareTo(P)<0&&(p.applyToRemoteDocument(T,d),T.isValidDocument()&&(T.setReadTime(d.commitVersion),h.addEntry(T)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(c,p))}(n,s,e,i).next(()=>i.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(a){let c=qe();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(c=c.add(a.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(s,r))})}function ey(t){const e=xe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function MC(t,e){const n=xe(t),s=e.snapshotVersion;let r=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});r=n.Ms;const a=[];e.targetChanges.forEach((h,p)=>{const m=r.get(p);if(!m)return;a.push(n.Pi.removeMatchingKeys(i,h.removedDocuments,p).next(()=>n.Pi.addMatchingKeys(i,h.addedDocuments,p)));let g=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?g=g.withResumeToken(Dt.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,s)),r=r.insert(p,g),function(T,P,O){return T.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=DC?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(m,g,h)&&a.push(n.Pi.updateTargetData(i,g))});let c=Zn(),d=qe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push($C(i,o,e.documentUpdates).next(h=>{c=h.ks,d=h.qs})),!s.isEqual(Ve.min())){const h=n.Pi.getLastRemoteSnapshotVersion(i).next(p=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,s));a.push(h)}return X.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,d)).next(()=>c)}).then(i=>(n.Ms=r,i))}function $C(t,e,n){let s=qe(),r=qe();return n.forEach(i=>s=s.add(i)),e.getEntries(t,s).next(i=>{let o=Zn();return n.forEach((a,c)=>{const d=i.get(a);c.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(Ve.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):ve(Cd,"Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",c.version)}),{ks:o,qs:r}})}function LC(t,e){const n=xe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=md),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function FC(t,e){const n=xe(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let r;return n.Pi.getTargetData(s,e).next(i=>i?(r=i,X.resolve(r)):n.Pi.allocateTargetId(s).next(o=>(r=new Is(e,o,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,r).next(()=>r))))}).then(s=>{const r=n.Ms.get(s.targetId);return(r===null||s.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s})}async function Du(t,e,n){const s=xe(t),r=s.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",i,o=>s.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!mi(o))throw o;ve(Cd,`Failed to update sequence numbers for target ${e}: ${o}`)}s.Ms=s.Ms.remove(e),s.xs.delete(r.target)}function Yp(t,e,n){const s=xe(t);let r=Ve.min(),i=qe();return s.persistence.runTransaction("Execute query","readwrite",o=>function(c,d,h){const p=xe(c),m=p.xs.get(h);return m!==void 0?X.resolve(p.Ms.get(m)):p.Pi.getTargetData(d,h)}(s,o,Pn(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(o,a.targetId).next(c=>{i=c})}).next(()=>s.Fs.getDocumentsMatchingQuery(o,e,n?r:Ve.min(),n?i:qe())).next(a=>(UC(s,IS(e),a),{documents:a,Qs:i})))}function UC(t,e,n){let s=t.Os.get(e)||Ve.min();n.forEach((r,i)=>{i.readTime.compareTo(s)>0&&(s=i.readTime)}),t.Os.set(e,s)}class Xp{constructor(){this.activeTargetIds=PS()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class BC{constructor(){this.Mo=new Xp,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Xp,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp="ConnectivityMonitor";class em{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ve(Zp,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ve(Zp,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _a=null;function xu(){return _a===null?_a=function(){return 268435456+Math.round(2147483648*Math.random())}():_a++,"0x"+_a.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc="RestConnection",jC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class HC{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${r}`,this.Wo=this.databaseId.database===nl?`project_id=${s}`:`project_id=${s}&database_id=${r}`}Go(e,n,s,r,i){const o=xu(),a=this.zo(e,n.toUriEncodedString());ve(Hc,`Sending RPC '${e}' ${o}:`,a,s);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,r,i);const{host:d}=new URL(a),h=di(d);return this.Jo(e,a,c,s,h).then(p=>(ve(Hc,`Received RPC '${e}' ${o}: `,p),p),p=>{throw ei(Hc,`RPC '${e}' ${o} failed with error: `,p,"url: ",a,"request:",s),p})}Ho(e,n,s,r,i,o){return this.Go(e,n,s,r,i)}jo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fi}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,i)=>e[i]=r),s&&s.headers.forEach((r,i)=>e[i]=r)}zo(e,n){const s=jC[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nt="WebChannelConnection";class WC extends HC{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,r,i){const o=xu();return new Promise((a,c)=>{const d=new tv;d.setWithCredentials(!0),d.listenOnce(nv.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Pa.NO_ERROR:const p=d.getResponseJson();ve(Nt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),a(p);break;case Pa.TIMEOUT:ve(Nt,`RPC '${e}' ${o} timed out`),c(new _e(J.DEADLINE_EXCEEDED,"Request time out"));break;case Pa.HTTP_ERROR:const m=d.getStatus();if(ve(Nt,`RPC '${e}' ${o} failed with status:`,m,"response text:",d.getResponseText()),m>0){let g=d.getResponseJson();Array.isArray(g)&&(g=g[0]);const b=g==null?void 0:g.error;if(b&&b.status&&b.message){const T=function(O){const B=O.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(B)>=0?B:J.UNKNOWN}(b.status);c(new _e(T,b.message))}else c(new _e(J.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new _e(J.UNAVAILABLE,"Connection failed."));break;default:Re(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{ve(Nt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(r);ve(Nt,`RPC '${e}' ${o} sending request:`,r),d.send(n,"POST",h,s,15)})}T_(e,n,s){const r=xu(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=iv(),a=rv(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,s),c.encodeInitMessageHeaders=!0;const h=i.join("");ve(Nt,`Creating RPC '${e}' stream ${r}: ${h}`,c);const p=o.createWebChannel(h,c);this.I_(p);let m=!1,g=!1;const b=new zC({Yo:P=>{g?ve(Nt,`Not sending because RPC '${e}' stream ${r} is closed:`,P):(m||(ve(Nt,`Opening RPC '${e}' stream ${r} transport.`),p.open(),m=!0),ve(Nt,`RPC '${e}' stream ${r} sending:`,P),p.send(P))},Zo:()=>p.close()}),T=(P,O,B)=>{P.listen(O,M=>{try{B(M)}catch(z){setTimeout(()=>{throw z},0)}})};return T(p,qi.EventType.OPEN,()=>{g||(ve(Nt,`RPC '${e}' stream ${r} transport opened.`),b.o_())}),T(p,qi.EventType.CLOSE,()=>{g||(g=!0,ve(Nt,`RPC '${e}' stream ${r} transport closed`),b.a_(),this.E_(p))}),T(p,qi.EventType.ERROR,P=>{g||(g=!0,ei(Nt,`RPC '${e}' stream ${r} transport errored. Name:`,P.name,"Message:",P.message),b.a_(new _e(J.UNAVAILABLE,"The operation could not be completed")))}),T(p,qi.EventType.MESSAGE,P=>{var O;if(!g){const B=P.data[0];Ye(!!B,16349);const M=B,z=(M==null?void 0:M.error)||((O=M[0])==null?void 0:O.error);if(z){ve(Nt,`RPC '${e}' stream ${r} received error:`,z);const se=z.status;let ae=function(v){const S=mt[v];if(S!==void 0)return Bv(S)}(se),C=z.message;ae===void 0&&(ae=J.INTERNAL,C="Unknown error status: "+se+" with message "+z.message),g=!0,b.a_(new _e(ae,C)),p.close()}else ve(Nt,`RPC '${e}' stream ${r} received:`,B),b.u_(B)}}),T(a,sv.STAT_EVENT,P=>{P.stat===bu.PROXY?ve(Nt,`RPC '${e}' stream ${r} detected buffering proxy`):P.stat===bu.NOPROXY&&ve(Nt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{b.__()},0),b}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function zc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(t){return new JS(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e,n,s=1e3,r=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),r=Math.max(0,n-s);r>0&&ve("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm="PersistentStream";class ny{constructor(e,n,s,r,i,o,a,c){this.Mi=e,this.S_=s,this.b_=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ty(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(Xn(n.toString()),Xn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,r])=>{this.D_===n&&this.G_(s,r)},s=>{e(()=>{const r=new _e(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(r)})})}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(r=>{s(()=>this.z_(r))}),this.stream.onMessage(r=>{s(()=>++this.F_==1?this.J_(r):this.onNext(r))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ve(tm,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(ve(tm,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class KC extends ny{constructor(e,n,s,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,r,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=ZS(this.serializer,e),s=function(i){if(!("targetChange"in i))return Ve.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Ve.min():o.readTime?Dn(o.readTime):Ve.min()}(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Vu(this.serializer),n.addTarget=function(i,o){let a;const c=o.target;if(a=Au(c)?{documents:nC(i,c)}:{query:sC(i,c).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Hv(i,o.resumeToken);const d=ku(i,o.expectedCount);d!==null&&(a.expectedCount=d)}else if(o.snapshotVersion.compareTo(Ve.min())>0){a.readTime=ol(i,o.snapshotVersion.toTimestamp());const d=ku(i,o.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);const s=iC(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Vu(this.serializer),n.removeTarget=e,this.q_(n)}}class GC extends ny{constructor(e,n,s,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,r,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=tC(e.writeResults,e.commitTime),s=Dn(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Vu(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>eC(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{}class JC extends QC{constructor(e,n,s,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new _e(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,Ru(n,s),r,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new _e(J.UNKNOWN,i.toString())})}Ho(e,n,s,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,Ru(n,s),r,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new _e(J.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class YC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Xn(n),this.aa=!1):ve("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r="RemoteStore";class XC{constructor(e,n,s,r,i){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{s.enqueueAndForget(async()=>{br(this)&&(ve(_r,"Restarting streams for network reachability change."),await async function(c){const d=xe(c);d.Ea.add(4),await Uo(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Wl(d)}(this))})}),this.Ra=new YC(s,r)}}async function Wl(t){if(br(t))for(const e of t.da)await e(!0)}async function Uo(t){for(const e of t.da)await e(!1)}function sy(t,e){const n=xe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Vd(n)?Pd(n):_i(n).O_()&&Rd(n,e))}function kd(t,e){const n=xe(t),s=_i(n);n.Ia.delete(e),s.O_()&&ry(n,e),n.Ia.size===0&&(s.O_()?s.L_():br(n)&&n.Ra.set("Unknown"))}function Rd(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_i(t).Y_(e)}function ry(t,e){t.Va.Ue(e),_i(t).Z_(e)}function Pd(t){t.Va=new WS({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),_i(t).start(),t.Ra.ua()}function Vd(t){return br(t)&&!_i(t).x_()&&t.Ia.size>0}function br(t){return xe(t).Ea.size===0}function iy(t){t.Va=void 0}async function ZC(t){t.Ra.set("Online")}async function ek(t){t.Ia.forEach((e,n)=>{Rd(t,e)})}async function tk(t,e){iy(t),Vd(t)?(t.Ra.ha(e),Pd(t)):t.Ra.set("Unknown")}async function nk(t,e,n){if(t.Ra.set("Online"),e instanceof jv&&e.state===2&&e.cause)try{await async function(r,i){const o=i.cause;for(const a of i.targetIds)r.Ia.has(a)&&(await r.remoteSyncer.rejectListen(a,o),r.Ia.delete(a),r.Va.removeTarget(a))}(t,e)}catch(s){ve(_r,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ll(t,s)}else if(e instanceof Oa?t.Va.Ze(e):e instanceof qv?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ve.min()))try{const s=await ey(t.localStore);n.compareTo(s)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const h=i.Ia.get(d);h&&i.Ia.set(d,h.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,d)=>{const h=i.Ia.get(c);if(!h)return;i.Ia.set(c,h.withResumeToken(Dt.EMPTY_BYTE_STRING,h.snapshotVersion)),ry(i,c);const p=new Is(h.target,c,d,h.sequenceNumber);Rd(i,p)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(s){ve(_r,"Failed to raise snapshot:",s),await ll(t,s)}}async function ll(t,e,n){if(!mi(e))throw e;t.Ea.add(1),await Uo(t),t.Ra.set("Offline"),n||(n=()=>ey(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ve(_r,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Wl(t)})}function oy(t,e){return e().catch(n=>ll(t,n,e))}async function Kl(t){const e=xe(t),n=Bs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:md;for(;sk(e);)try{const r=await LC(e.localStore,s);if(r===null){e.Ta.length===0&&n.L_();break}s=r.batchId,rk(e,r)}catch(r){await ll(e,r)}ay(e)&&ly(e)}function sk(t){return br(t)&&t.Ta.length<10}function rk(t,e){t.Ta.push(e);const n=Bs(t);n.O_()&&n.X_&&n.ea(e.mutations)}function ay(t){return br(t)&&!Bs(t).x_()&&t.Ta.length>0}function ly(t){Bs(t).start()}async function ik(t){Bs(t).ra()}async function ok(t){const e=Bs(t);for(const n of t.Ta)e.ea(n.mutations)}async function ak(t,e,n){const s=t.Ta.shift(),r=Ed.from(s,e,n);await oy(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await Kl(t)}async function lk(t,e){e&&Bs(t).X_&&await async function(s,r){if(function(o){return jS(o)&&o!==J.ABORTED}(r.code)){const i=s.Ta.shift();Bs(s).B_(),await oy(s,()=>s.remoteSyncer.rejectFailedWrite(i.batchId,r)),await Kl(s)}}(t,e),ay(t)&&ly(t)}async function nm(t,e){const n=xe(t);n.asyncQueue.verifyOperationInProgress(),ve(_r,"RemoteStore received new credentials");const s=br(n);n.Ea.add(3),await Uo(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Wl(n)}async function ck(t,e){const n=xe(t);e?(n.Ea.delete(2),await Wl(n)):e||(n.Ea.add(2),await Uo(n),n.Ra.set("Unknown"))}function _i(t){return t.ma||(t.ma=function(n,s,r){const i=xe(n);return i.sa(),new KC(s,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Xo:ZC.bind(null,t),t_:ek.bind(null,t),r_:tk.bind(null,t),H_:nk.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Vd(t)?Pd(t):t.Ra.set("Unknown")):(await t.ma.stop(),iy(t))})),t.ma}function Bs(t){return t.fa||(t.fa=function(n,s,r){const i=xe(n);return i.sa(),new GC(s,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:ik.bind(null,t),r_:lk.bind(null,t),ta:ok.bind(null,t),na:ak.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Kl(t)):(await t.fa.stop(),t.Ta.length>0&&(ve(_r,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,n,s,r,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=r,this.removalCallback=i,this.deferred=new Vs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,r,i){const o=Date.now()+s,a=new Dd(e,n,o,r,i);return a.start(s),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xd(t,e){if(Xn("AsyncQueue",`${e}: ${t}`),mi(t))return new _e(J.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{static emptySet(e){return new Br(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ie.comparator(n.key,s.key):(n,s)=>Ie.comparator(n.key,s.key),this.keyedMap=ji(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Br)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(!r.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Br;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(){this.ga=new ct(Ie.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Re(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,s)=>{e.push(s)}),e}}class oi{constructor(e,n,s,r,i,o,a,c,d){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,s,r,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new oi(e,n,Br.emptySet(n),o,s,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ul(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==s[r].type||!n[r].doc.isEqual(s[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class dk{constructor(){this.queries=rm(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const r=xe(n),i=r.queries;r.queries=rm(),i.forEach((o,a)=>{for(const c of a.Sa)c.onError(s)})})(this,new _e(J.ABORTED,"Firestore shutting down"))}}function rm(){return new yr(t=>kv(t),Ul)}async function hk(t,e){const n=xe(t);let s=3;const r=e.query;let i=n.queries.get(r);i?!i.ba()&&e.Da()&&(s=2):(i=new uk,s=e.Da()?0:1);try{switch(s){case 0:i.wa=await n.onListen(r,!0);break;case 1:i.wa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(o){const a=xd(o,`Initialization of query '${xr(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Od(n)}async function fk(t,e){const n=xe(t),s=e.query;let r=3;const i=n.queries.get(s);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?r=e.Da()?0:1:!i.ba()&&e.Da()&&(r=2))}switch(r){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function pk(t,e){const n=xe(t);let s=!1;for(const r of e){const i=r.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(r)&&(s=!0);o.wa=r}}s&&Od(n)}function mk(t,e,n){const s=xe(t),r=s.queries.get(e);if(r)for(const i of r.Sa)i.onError(n);s.queries.delete(e)}function Od(t){t.Ca.forEach(e=>{e.next()})}var Ou,im;(im=Ou||(Ou={})).Ma="default",im.Cache="cache";class gk{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const r of e.docChanges)r.type!==3&&s.push(r);e=new oi(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=oi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ou.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e){this.key=e}}class uy{constructor(e){this.key=e}}class _k{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=qe(),this.mutatedKeys=qe(),this.eu=Rv(e),this.tu=new Br(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new sm,r=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1;const c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,d=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((h,p)=>{const m=r.get(h),g=Bl(this.query,p)?p:null,b=!!m&&this.mutatedKeys.has(m.key),T=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let P=!1;m&&g?m.data.isEqual(g.data)?b!==T&&(s.track({type:3,doc:g}),P=!0):this.su(m,g)||(s.track({type:2,doc:g}),P=!0,(c&&this.eu(g,c)>0||d&&this.eu(g,d)<0)&&(a=!0)):!m&&g?(s.track({type:0,doc:g}),P=!0):m&&!g&&(s.track({type:1,doc:m}),P=!0,(c||d)&&(a=!0)),P&&(g?(o=o.add(g),i=T?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),s.track({type:1,doc:h})}return{tu:o,iu:s,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,r){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,p)=>function(g,b){const T=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re(20277,{Rt:P})}};return T(g)-T(b)}(h.type,p.type)||this.eu(h.doc,p.doc)),this.ou(s),r=r??!1;const a=n&&!r?this._u():[],c=this.Xa.size===0&&this.current&&!r?1:0,d=c!==this.Za;return this.Za=c,o.length!==0||d?{snapshot:new oi(this.query,e.tu,i,o,e.mutatedKeys,c===0,d,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new sm,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=qe(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return e.forEach(s=>{this.Xa.has(s)||n.push(new uy(s))}),this.Xa.forEach(s=>{e.has(s)||n.push(new cy(s))}),n}cu(e){this.Ya=e.Qs,this.Xa=qe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return oi.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Nd="SyncEngine";class vk{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class yk{constructor(e){this.key=e,this.hu=!1}}class bk{constructor(e,n,s,r,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new yr(a=>kv(a),Ul),this.Iu=new Map,this.Eu=new Set,this.du=new ct(Ie.comparator),this.Au=new Map,this.Ru=new Id,this.Vu={},this.mu=new Map,this.fu=ii.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Ek(t,e,n=!0){const s=gy(t);let r;const i=s.Tu.get(e);return i?(s.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.lu()):r=await dy(s,e,n,!0),r}async function wk(t,e){const n=gy(t);await dy(n,e,!0,!1)}async function dy(t,e,n,s){const r=await FC(t.localStore,Pn(e)),i=r.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return s&&(a=await Tk(t,e,i,o==="current",r.resumeToken)),t.isPrimaryClient&&n&&sy(t.remoteStore,r),a}async function Tk(t,e,n,s,r){t.pu=(p,m,g)=>async function(T,P,O,B){let M=P.view.ru(O);M.Cs&&(M=await Yp(T.localStore,P.query,!1).then(({documents:C})=>P.view.ru(C,M)));const z=B&&B.targetChanges.get(P.targetId),se=B&&B.targetMismatches.get(P.targetId)!=null,ae=P.view.applyChanges(M,T.isPrimaryClient,z,se);return am(T,P.targetId,ae.au),ae.snapshot}(t,p,m,g);const i=await Yp(t.localStore,e,!0),o=new _k(e,i.Qs),a=o.ru(i.documents),c=Fo.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",r),d=o.applyChanges(a,t.isPrimaryClient,c);am(t,n,d.au);const h=new vk(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function Ik(t,e,n){const s=xe(t),r=s.Tu.get(e),i=s.Iu.get(r.targetId);if(i.length>1)return s.Iu.set(r.targetId,i.filter(o=>!Ul(o,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(r.targetId),s.sharedClientState.isActiveQueryTarget(r.targetId)||await Du(s.localStore,r.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(r.targetId),n&&kd(s.remoteStore,r.targetId),Nu(s,r.targetId)}).catch(pi)):(Nu(s,r.targetId),await Du(s.localStore,r.targetId,!0))}async function Ak(t,e){const n=xe(t),s=n.Tu.get(e),r=n.Iu.get(s.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),kd(n.remoteStore,s.targetId))}async function Sk(t,e,n){const s=xk(t);try{const r=await function(o,a){const c=xe(o),d=ot.now(),h=a.reduce((g,b)=>g.add(b.key),qe());let p,m;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let b=Zn(),T=qe();return c.Ns.getEntries(g,h).next(P=>{b=P,b.forEach((O,B)=>{B.isValidDocument()||(T=T.add(O))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,b)).next(P=>{p=P;const O=[];for(const B of a){const M=LS(B,p.get(B.key).overlayedDocument);M!=null&&O.push(new Gs(B.key,M,yv(M.value.mapValue),Vn.exists(!0)))}return c.mutationQueue.addMutationBatch(g,d,O,a)}).next(P=>{m=P;const O=P.applyToLocalDocumentSet(p,T);return c.documentOverlayCache.saveOverlays(g,P.batchId,O)})}).then(()=>({batchId:m.batchId,changes:Vv(p)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(r.batchId),function(o,a,c){let d=o.Vu[o.currentUser.toKey()];d||(d=new ct(Be)),d=d.insert(a,c),o.Vu[o.currentUser.toKey()]=d}(s,r.batchId,n),await Bo(s,r.changes),await Kl(s.remoteStore)}catch(r){const i=xd(r,"Failed to persist write");n.reject(i)}}async function hy(t,e){const n=xe(t);try{const s=await MC(n.localStore,e);e.targetChanges.forEach((r,i)=>{const o=n.Au.get(i);o&&(Ye(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?o.hu=!0:r.modifiedDocuments.size>0?Ye(o.hu,14607):r.removedDocuments.size>0&&(Ye(o.hu,42227),o.hu=!1))}),await Bo(n,s,e)}catch(s){await pi(s)}}function om(t,e,n){const s=xe(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const r=[];s.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&r.push(a.snapshot)}),function(o,a){const c=xe(o);c.onlineState=a;let d=!1;c.queries.forEach((h,p)=>{for(const m of p.Sa)m.va(a)&&(d=!0)}),d&&Od(c)}(s.eventManager,e),r.length&&s.Pu.H_(r),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Ck(t,e,n){const s=xe(t);s.sharedClientState.updateQueryState(e,"rejected",n);const r=s.Au.get(e),i=r&&r.key;if(i){let o=new ct(Ie.comparator);o=o.insert(i,Ft.newNoDocument(i,Ve.min()));const a=qe().add(i),c=new Hl(Ve.min(),new Map,new ct(Be),o,a);await hy(s,c),s.du=s.du.remove(i),s.Au.delete(e),Md(s)}else await Du(s.localStore,e,!1).then(()=>Nu(s,e,n)).catch(pi)}async function kk(t,e){const n=xe(t),s=e.batch.batchId;try{const r=await NC(n.localStore,e);py(n,s,null),fy(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Bo(n,r)}catch(r){await pi(r)}}async function Rk(t,e,n){const s=xe(t);try{const r=await function(o,a){const c=xe(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return c.mutationQueue.lookupMutationBatch(d,a).next(p=>(Ye(p!==null,37113),h=p.keys(),c.mutationQueue.removeMutationBatch(d,p))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>c.localDocuments.getDocuments(d,h))})}(s.localStore,e);py(s,e,n),fy(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Bo(s,r)}catch(r){await pi(r)}}function fy(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function py(t,e,n){const s=xe(t);let r=s.Vu[s.currentUser.toKey()];if(r){const i=r.get(e);i&&(n?i.reject(n):i.resolve(),r=r.remove(e)),s.Vu[s.currentUser.toKey()]=r}}function Nu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(s=>{t.Ru.containsKey(s)||my(t,s)})}function my(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(kd(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Md(t))}function am(t,e,n){for(const s of n)s instanceof cy?(t.Ru.addReference(s.key,e),Pk(t,s)):s instanceof uy?(ve(Nd,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||my(t,s.key)):Re(19791,{wu:s})}function Pk(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(ve(Nd,"New document in limbo: "+n),t.Eu.add(s),Md(t))}function Md(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ie(st.fromString(e)),s=t.fu.next();t.Au.set(s,new yk(n)),t.du=t.du.insert(n,s),sy(t.remoteStore,new Is(Pn(Sv(n.path)),s,"TargetPurposeLimboResolution",$l.ce))}}async function Bo(t,e,n){const s=xe(t),r=[],i=[],o=[];s.Tu.isEmpty()||(s.Tu.forEach((a,c)=>{o.push(s.pu(c,e,n).then(d=>{var h;if((d||n)&&s.isPrimaryClient){const p=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:h.current;s.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(d){r.push(d);const p=Sd.As(c.targetId,d);i.push(p)}}))}),await Promise.all(o),s.Pu.H_(r),await async function(c,d){const h=xe(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>X.forEach(d,m=>X.forEach(m.Es,g=>h.persistence.referenceDelegate.addReference(p,m.targetId,g)).next(()=>X.forEach(m.ds,g=>h.persistence.referenceDelegate.removeReference(p,m.targetId,g)))))}catch(p){if(!mi(p))throw p;ve(Cd,"Failed to update sequence numbers: "+p)}for(const p of d){const m=p.targetId;if(!p.fromCache){const g=h.Ms.get(m),b=g.snapshotVersion,T=g.withLastLimboFreeSnapshotVersion(b);h.Ms=h.Ms.insert(m,T)}}}(s.localStore,i))}async function Vk(t,e){const n=xe(t);if(!n.currentUser.isEqual(e)){ve(Nd,"User change. New user:",e.toKey());const s=await Zv(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(c=>{c.reject(new _e(J.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Bo(n,s.Ls)}}function Dk(t,e){const n=xe(t),s=n.Au.get(e);if(s&&s.hu)return qe().add(s.key);{let r=qe();const i=n.Iu.get(e);if(!i)return r;for(const o of i){const a=n.Tu.get(o);r=r.unionWith(a.view.nu)}return r}}function gy(t){const e=xe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=hy.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Dk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ck.bind(null,e),e.Pu.H_=pk.bind(null,e.eventManager),e.Pu.yu=mk.bind(null,e.eventManager),e}function xk(t){const e=xe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Rk.bind(null,e),e}class cl{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=zl(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return OC(this.persistence,new VC,e.initialUser,this.serializer)}Cu(e){return new Xv(Ad.mi,this.serializer)}Du(e){return new BC}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cl.provider={build:()=>new cl};class Ok extends cl{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ye(this.persistence.referenceDelegate instanceof al,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new gC(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Qt.withCacheSize(this.cacheSizeBytes):Qt.DEFAULT;return new Xv(s=>al.mi(s,n),this.serializer)}}class Mu{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>om(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Vk.bind(null,this.syncEngine),await ck(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new dk}()}createDatastore(e){const n=zl(e.databaseInfo.databaseId),s=function(i){return new WC(i)}(e.databaseInfo);return function(i,o,a,c){return new JC(i,o,a,c)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,r,i,o,a){return new XC(s,r,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>om(this.syncEngine,n,0),function(){return em.v()?new em:new qC}())}createSyncEngine(e,n){return function(r,i,o,a,c,d,h){const p=new bk(r,i,o,a,c,d);return h&&(p.gu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const i=xe(r);ve(_r,"RemoteStore shutting down."),i.Ea.add(5),await Uo(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Mu.provider={build:()=>new Mu};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Xn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs="FirestoreClient";class Mk{constructor(e,n,s,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=r,this.user=$t.UNAUTHENTICATED,this.clientId=pd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(s,async o=>{ve(qs,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(s,o=>(ve(qs,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=xd(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Wc(t,e){t.asyncQueue.verifyOperationInProgress(),ve(qs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async r=>{s.isEqual(r)||(await Zv(e.localStore,r),s=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function lm(t,e){t.asyncQueue.verifyOperationInProgress();const n=await $k(t);ve(qs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(s=>nm(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,r)=>nm(e.remoteStore,r)),t._onlineComponents=e}async function $k(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ve(qs,"Using user provided OfflineComponentProvider");try{await Wc(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===J.FAILED_PRECONDITION||r.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;ei("Error using user provided cache. Falling back to memory cache: "+n),await Wc(t,new cl)}}else ve(qs,"Using default OfflineComponentProvider"),await Wc(t,new Ok(void 0));return t._offlineComponents}async function _y(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ve(qs,"Using user provided OnlineComponentProvider"),await lm(t,t._uninitializedComponentsProvider._online)):(ve(qs,"Using default OnlineComponentProvider"),await lm(t,new Mu))),t._onlineComponents}function Lk(t){return _y(t).then(e=>e.syncEngine)}async function Fk(t){const e=await _y(t),n=e.eventManager;return n.onListen=Ek.bind(null,e.syncEngine),n.onUnlisten=Ik.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=wk.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Ak.bind(null,e.syncEngine),n}function Uk(t,e,n={}){const s=new Vs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,d){const h=new Nk({next:m=>{h.Nu(),o.enqueueAndForget(()=>fk(i,p)),m.fromCache&&c.source==="server"?d.reject(new _e(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(m)},error:m=>d.reject(m)}),p=new gk(a,h,{includeMetadataChanges:!0,qa:!0});return hk(i,p)}(await Fk(t),t.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cm=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy="firestore.googleapis.com",um=!0;class dm{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new _e(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yy,this.ssl=um}else this.host=e.host,this.ssl=e.ssl??um;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Yv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<pC)throw new _e(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}YA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vy(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new _e(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new _e(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new _e(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,r){return s.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gl{constructor(e,n,s,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dm({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dm(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new BA;switch(s.type){case"firstParty":return new zA(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new _e(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=cm.get(n);s&&(ve("ComponentProvider","Removing Datastore"),cm.delete(n),s.terminate())}(this),Promise.resolve()}}function Bk(t,e,n,s={}){var d;t=ni(t,Gl);const r=di(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;r&&(W_(`https://${a}`),K_("Firestore",!0)),i.host!==yy&&i.host!==a&&ei("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:a,ssl:r,emulatorOptions:s};if(!pr(c,o)&&(t._setSettings(c),s.mockUserToken)){let h,p;if(typeof s.mockUserToken=="string")h=s.mockUserToken,p=$t.MOCK_USER;else{h=pI(s.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const m=s.mockUserToken.sub||s.mockUserToken.user_id;if(!m)throw new _e(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new $t(m)}t._authCredentials=new qA(new av(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Er(this.firestore,e,this._query)}}class yt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ds(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yt(this.firestore,e,this._key)}toJSON(){return{type:yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if($o(n,yt._jsonSchema))return new yt(e,s||null,new Ie(st.fromString(n.referencePath)))}}yt._jsonSchemaVersion="firestore/documentReference/1.0",yt._jsonSchema={type:_t("string",yt._jsonSchemaVersion),referencePath:_t("string")};class Ds extends Er{constructor(e,n,s){super(e,n,Sv(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yt(this.firestore,null,new Ie(e))}withConverter(e){return new Ds(this.firestore,e,this._path)}}function Qs(t,e,...n){if(t=At(t),lv("collection","path",e),t instanceof Gl){const s=st.fromString(e,...n);return Ip(s),new Ds(t,null,s)}{if(!(t instanceof yt||t instanceof Ds))throw new _e(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(st.fromString(e,...n));return Ip(s),new Ds(t.firestore,null,s)}}function qo(t,e,...n){if(t=At(t),arguments.length===1&&(e=pd.newId()),lv("doc","path",e),t instanceof Gl){const s=st.fromString(e,...n);return Tp(s),new yt(t,null,new Ie(s))}{if(!(t instanceof yt||t instanceof Ds))throw new _e(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(st.fromString(e,...n));return Tp(s),new yt(t.firestore,t instanceof Ds?t.converter:null,new Ie(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm="AsyncQueue";class fm{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ty(this,"async_queue_retry"),this._c=()=>{const s=zc();s&&ve(hm,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=zc();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=zc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Vs;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!mi(e))throw e;ve(hm,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,Xn("INTERNAL UNHANDLED ERROR: ",pm(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const r=Dd.createAndSchedule(this,e,n,s,i=>this.hc(i));return this.tc.push(r),r}uc(){this.nc&&Re(47125,{Pc:pm(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function pm(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Ql extends Gl{constructor(e,n,s,r){super(e,n,s,r),this.type="firestore",this._queue=new fm,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new fm(e),this._firestoreClient=void 0,await e}}}function qk(t,e){const n=typeof t=="object"?t:Y_(),s=typeof t=="string"?t:nl,r=hd(n,"firestore").getImmediate({identifier:s});if(!r._initialized){const i=hI("firestore");i&&Bk(r,...i)}return r}function by(t){if(t._terminated)throw new _e(J.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||jk(t),t._firestoreClient}function jk(t){var s,r,i;const e=t._freezeSettings(),n=function(a,c,d,h){return new lS(a,c,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,vy(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((s=t._app)==null?void 0:s.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(r=e.localCache)!=null&&r._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Mk(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const c=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this._byteString=e}static fromBase64String(e){try{return new an(Dt.fromBase64String(e))}catch(n){throw new _e(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new an(Dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:an._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if($o(e,an._jsonSchema))return an.fromBase64String(e.bytes)}}an._jsonSchemaVersion="firestore/bytes/1.0",an._jsonSchema={type:_t("string",an._jsonSchemaVersion),bytes:_t("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new _e(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _e(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _e(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xn._jsonSchemaVersion}}static fromJSON(e){if($o(e,xn._jsonSchema))return new xn(e.latitude,e.longitude)}}xn._jsonSchemaVersion="firestore/geoPoint/1.0",xn._jsonSchema={type:_t("string",xn._jsonSchemaVersion),latitude:_t("number"),longitude:_t("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,r){if(s.length!==r.length)return!1;for(let i=0;i<s.length;++i)if(s[i]!==r[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:On._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if($o(e,On._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new On(e.vectorValues);throw new _e(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}On._jsonSchemaVersion="firestore/vectorValue/1.0",On._jsonSchema={type:_t("string",On._jsonSchemaVersion),vectorValues:_t("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk=/^__.*__$/;class zk{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Gs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Lo(e,this.data,n,this.fieldTransforms)}}class Ey{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Gs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function wy(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re(40011,{Ac:t})}}class $d{constructor(e,n,s,r,i,o){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=r,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new $d({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var r;const n=(r=this.path)==null?void 0:r.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){var r;const n=(r=this.path)==null?void 0:r.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ul(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(wy(this.Ac)&&Hk.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Wk{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||zl(e)}Cc(e,n,s,r=!1){return new $d({Ac:e,methodName:n,Dc:s,path:Pt.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ld(t){const e=t._freezeSettings(),n=zl(t._databaseId);return new Wk(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Kk(t,e,n,s,r,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,r);Ud("Data must be an object, but it was:",o,s);const a=Ty(s,o);let c,d;if(i.merge)c=new nn(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const p of i.mergeFields){const m=$u(e,p,n);if(!o.contains(m))throw new _e(J.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);Ay(h,m)||h.push(m)}c=new nn(h),d=o.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,d=o.fieldTransforms;return new zk(new Jt(a),c,d)}class Xl extends Yl{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xl}}class Fd extends Yl{_toFieldTransform(e){return new OS(e.path,new Ao)}isEqual(e){return e instanceof Fd}}function Gk(t,e,n,s){const r=t.Cc(1,e,n);Ud("Data must be an object, but it was:",r,s);const i=[],o=Jt.empty();Ks(s,(c,d)=>{const h=Bd(e,c,n);d=At(d);const p=r.yc(h);if(d instanceof Xl)i.push(h);else{const m=jo(d,p);m!=null&&(i.push(h),o.set(h,m))}});const a=new nn(i);return new Ey(o,a,r.fieldTransforms)}function Qk(t,e,n,s,r,i){const o=t.Cc(1,e,n),a=[$u(e,s,n)],c=[r];if(i.length%2!=0)throw new _e(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)a.push($u(e,i[m])),c.push(i[m+1]);const d=[],h=Jt.empty();for(let m=a.length-1;m>=0;--m)if(!Ay(d,a[m])){const g=a[m];let b=c[m];b=At(b);const T=o.yc(g);if(b instanceof Xl)d.push(g);else{const P=jo(b,T);P!=null&&(d.push(g),h.set(g,P))}}const p=new nn(d);return new Ey(h,p,o.fieldTransforms)}function Jk(t,e,n,s=!1){return jo(n,t.Cc(s?4:3,e))}function jo(t,e){if(Iy(t=At(t)))return Ud("Unsupported field value:",e,t),Ty(t,e);if(t instanceof Yl)return function(s,r){if(!wy(r.Ac))throw r.Sc(`${s._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${s._methodName}() is not currently supported inside arrays`);const i=s._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,r){const i=[];let o=0;for(const a of s){let c=jo(a,r.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(s,r){if((s=At(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return VS(r.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const i=ot.fromDate(s);return{timestampValue:ol(r.serializer,i)}}if(s instanceof ot){const i=new ot(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ol(r.serializer,i)}}if(s instanceof xn)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof an)return{bytesValue:Hv(r.serializer,s._byteString)};if(s instanceof yt){const i=r.databaseId,o=s.firestore._databaseId;if(!o.isEqual(i))throw r.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Td(s.firestore._databaseId||r.databaseId,s._key.path)}}if(s instanceof On)return function(o,a){return{mapValue:{fields:{[_v]:{stringValue:vv},[sl]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw a.Sc("VectorValues must only contain numeric values.");return bd(a.serializer,d)})}}}}}}(s,r);throw r.Sc(`Unsupported field value: ${Ml(s)}`)}(t,e)}function Ty(t,e){const n={};return dv(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ks(t,(s,r)=>{const i=jo(r,e.mc(s));i!=null&&(n[s]=i)}),{mapValue:{fields:n}}}function Iy(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ot||t instanceof xn||t instanceof an||t instanceof yt||t instanceof Yl||t instanceof On)}function Ud(t,e,n){if(!Iy(n)||!cv(n)){const s=Ml(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function $u(t,e,n){if((e=At(e))instanceof Jl)return e._internalPath;if(typeof e=="string")return Bd(t,e);throw ul("Field path arguments must be of type string or ",t,!1,void 0,n)}const Yk=new RegExp("[~\\*/\\[\\]]");function Bd(t,e,n){if(e.search(Yk)>=0)throw ul(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Jl(...e.split("."))._internalPath}catch{throw ul(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ul(t,e,n,s,r){const i=s&&!s.isEmpty(),o=r!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${s}`),o&&(c+=` in document ${r}`),c+=")"),new _e(J.INVALID_ARGUMENT,a+t+c)}function Ay(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(e,n,s,r,i){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Xk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Zl("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Xk extends Sy{data(){return super.data()}}function Zl(t,e){return typeof e=="string"?Bd(t,e):e instanceof Jl?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zk(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new _e(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qd{}class Cy extends qd{}function Ho(t,e,...n){let s=[];e instanceof qd&&s.push(e),s=s.concat(n),function(i){const o=i.filter(c=>c instanceof jd).length,a=i.filter(c=>c instanceof ec).length;if(o>1||o>0&&a>0)throw new _e(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const r of s)t=r._apply(t);return t}class ec extends Cy{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new ec(e,n,s)}_apply(e){const n=this._parse(e);return ky(e._query,n),new Er(e.firestore,e.converter,Su(e._query,n))}_parse(e){const n=Ld(e.firestore);return function(i,o,a,c,d,h,p){let m;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new _e(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){gm(p,h);const b=[];for(const T of p)b.push(mm(c,i,T));m={arrayValue:{values:b}}}else m=mm(c,i,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||gm(p,h),m=Jk(a,o,p,h==="in"||h==="not-in");return gt.create(d,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function dl(t,e,n){const s=e,r=Zl("where",t);return ec._create(r,s,n)}class jd extends qd{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new jd(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:bn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let o=r;const a=i.getFlattenedFilters();for(const c of a)ky(o,c),o=Su(o,c)}(e._query,n),new Er(e.firestore,e.converter,Su(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Hd extends Cy{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Hd(e,n)}_apply(e){const n=function(r,i,o){if(r.startAt!==null)throw new _e(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new _e(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Io(i,o)}(e._query,this._field,this._direction);return new Er(e.firestore,e.converter,function(r,i){const o=r.explicitOrderBy.concat([i]);return new gi(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function tc(t,e="asc"){const n=e,s=Zl("orderBy",t);return Hd._create(s,n)}function mm(t,e,n){if(typeof(n=At(n))=="string"){if(n==="")throw new _e(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Cv(e)&&n.indexOf("/")!==-1)throw new _e(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(st.fromString(n));if(!Ie.isDocumentKey(s))throw new _e(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Dp(t,new Ie(s))}if(n instanceof yt)return Dp(t,n._key);throw new _e(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ml(n)}.`)}function gm(t,e){if(!Array.isArray(t)||t.length===0)throw new _e(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ky(t,e){const n=function(r,i){for(const o of r)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new _e(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class eR{convertValue(e,n="none"){switch(Us(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Fs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Re(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ks(e,(r,i)=>{s[r]=this.convertValue(i,n)}),s}convertVectorValue(e){var s,r,i;const n=(i=(r=(s=e.fields)==null?void 0:s[sl].arrayValue)==null?void 0:r.values)==null?void 0:i.map(o=>ht(o.doubleValue));return new On(n)}convertGeoPoint(e){return new xn(ht(e.latitude),ht(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Fl(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Eo(e));default:return null}}convertTimestamp(e){const n=Ls(e);return new ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=st.fromString(e);Ye(Jv(s),9688,{name:e});const r=new wo(s.get(1),s.get(3)),i=new Ie(s.popFirst(5));return r.isEqual(n)||Xn(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(t,e,n){let s;return s=t?t.toFirestore(e):e,s}class va{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qr extends Sy{constructor(e,n,s,r,i,o){super(e,n,s,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Na(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Zl("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=qr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}qr._jsonSchemaVersion="firestore/documentSnapshot/1.0",qr._jsonSchema={type:_t("string",qr._jsonSchemaVersion),bundleSource:_t("string","DocumentSnapshot"),bundleName:_t("string"),bundle:_t("string")};class Na extends qr{data(e={}){return super.data(e)}}class jr{constructor(e,n,s,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new va(r.hasPendingWrites,r.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Na(this._firestore,this._userDataWriter,s.key,s,new va(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _e(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{const c=new Na(r._firestore,r._userDataWriter,a.doc.key,a.doc,new va(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const c=new Na(r._firestore,r._userDataWriter,a.doc.key,a.doc,new va(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let d=-1,h=-1;return a.type!==0&&(d=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:nR(a.type),doc:c,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=jr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=pd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],r=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),s.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),r.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function nR(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re(61501,{type:t})}}jr._jsonSchemaVersion="firestore/querySnapshot/1.0",jr._jsonSchema={type:_t("string",jr._jsonSchemaVersion),bundleSource:_t("string","QuerySnapshot"),bundleName:_t("string"),bundle:_t("string")};class sR extends eR{constructor(e){super(),this.firestore=e}convertBytes(e){return new an(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,n)}}function zo(t){t=ni(t,Er);const e=ni(t.firestore,Ql),n=by(e),s=new sR(e);return Zk(t._query),Uk(n,t._query).then(r=>new jr(e,s,t,r))}function zd(t,e,n,...s){t=ni(t,yt);const r=ni(t.firestore,Ql),i=Ld(r);let o;return o=typeof(e=At(e))=="string"||e instanceof Jl?Qk(i,"updateDoc",t._key,e,n,s):Gk(i,"updateDoc",t._key,e),Ry(r,[o.toMutation(t._key,Vn.exists(!0))])}function Wd(t,e){const n=ni(t.firestore,Ql),s=qo(t),r=tR(t.converter,e);return Ry(n,[Kk(Ld(t.firestore),"addDoc",s._key,r,t.converter!==null,{}).toMutation(s._key,Vn.exists(!1))]).then(()=>s)}function Ry(t,e){return function(s,r){const i=new Vs;return s.asyncQueue.enqueueAndForget(async()=>Sk(await Lk(s),r,i)),i.promise}(by(t),e)}function ai(){return new Fd("serverTimestamp")}(function(e,n=!0){(function(r){fi=r})(hi),Zr(new mr("firestore",(s,{instanceIdentifier:r,options:i})=>{const o=s.getProvider("app").getImmediate(),a=new Ql(new jA(s.getProvider("auth-internal")),new WA(o,s.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new _e(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wo(d.options.projectId,h)}(o,r),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Rs(yp,bp,e),Rs(yp,bp,"esm2020")})();var rR="firebase",iR="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rs(rR,iR,"app");function Py(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const oR=Py,Vy=new No("auth","Firebase",Py());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl=new ud("@firebase/auth");function aR(t,...e){hl.logLevel<=Ue.WARN&&hl.warn(`Auth (${hi}): ${t}`,...e)}function Ma(t,...e){hl.logLevel<=Ue.ERROR&&hl.error(`Auth (${hi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(t,...e){throw Kd(t,...e)}function Nn(t,...e){return Kd(t,...e)}function Dy(t,e,n){const s={...oR(),[e]:n};return new No("auth","Firebase",s).create(e,{appName:t.name})}function xs(t){return Dy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Kd(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return Vy.create(t,...e)}function ke(t,e,...n){if(!t)throw Kd(e,...n)}function Wn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ma(e),new Error(e)}function es(t,e){t||Wn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lu(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function lR(){return _m()==="http:"||_m()==="https:"}function _m(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lR()||bI()||"connection"in navigator)?navigator.onLine:!0}function uR(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,n){this.shortDelay=e,this.longDelay=n,es(n>e,"Short delay should be less than long delay!"),this.isMobile=_I()||EI()}get(){return cR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(t,e){es(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],fR=new Wo(3e4,6e4);function wr(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Js(t,e,n,s,r={}){return Oy(t,r,async()=>{let i={},o={};s&&(e==="GET"?o=s:i={body:JSON.stringify(s)});const a=Mo({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:c,...i};return yI()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&di(t.emulatorConfig.host)&&(d.credentials="include"),xy.fetch()(await Ny(t,t.config.apiHost,n,a),d)})}async function Oy(t,e,n){t._canInitEmulator=!1;const s={...dR,...e};try{const r=new mR(t),i=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw ya(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[c,d]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw ya(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw ya(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw ya(t,"user-disabled",o);const h=s[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Dy(t,h,d);En(t,h)}}catch(r){if(r instanceof ns)throw r;En(t,"network-request-failed",{message:String(r)})}}async function nc(t,e,n,s,r={}){const i=await Js(t,e,n,s,r);return"mfaPendingCredential"in i&&En(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function Ny(t,e,n,s){const r=`${e}${n}?${s}`,i=t,o=i.config.emulator?Gd(t.config,r):`${t.config.apiScheme}://${r}`;return hR.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function pR(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class mR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Nn(this.auth,"network-request-failed")),fR.get())})}}function ya(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const r=Nn(t,e,s);return r.customData._tokenResponse=n,r}function vm(t){return t!==void 0&&t.enterprise!==void 0}class gR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return pR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function _R(t,e){return Js(t,"GET","/v2/recaptchaConfig",wr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vR(t,e){return Js(t,"POST","/v1/accounts:delete",e)}async function fl(t,e){return Js(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function yR(t,e=!1){const n=At(t),s=await n.getIdToken(e),r=Qd(s);ke(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const i=typeof r.firebase=="object"?r.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:r,token:s,authTime:oo(Kc(r.auth_time)),issuedAtTime:oo(Kc(r.iat)),expirationTime:oo(Kc(r.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Kc(t){return Number(t)*1e3}function Qd(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Ma("JWT malformed, contained fewer than 3 sections"),null;try{const r=q_(n);return r?JSON.parse(r):(Ma("Failed to decode base64 JWT payload"),null)}catch(r){return Ma("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function ym(t){const e=Qd(t);return ke(e,"internal-error"),ke(typeof e.exp<"u","internal-error"),ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ko(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof ns&&bR(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function bR({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=oo(this.lastLoginAt),this.creationTime=oo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pl(t){var p;const e=t.auth,n=await t.getIdToken(),s=await ko(t,fl(e,{idToken:n}));ke(s==null?void 0:s.users.length,e,"internal-error");const r=s.users[0];t._notifyReloadListener(r);const i=(p=r.providerUserInfo)!=null&&p.length?My(r.providerUserInfo):[],o=TR(t.providerData,i),a=t.isAnonymous,c=!(t.email&&r.passwordHash)&&!(o!=null&&o.length),d=a?c:!1,h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new Fu(r.createdAt,r.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function wR(t){const e=At(t);await pl(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function TR(t,e){return[...t.filter(s=>!e.some(r=>r.providerId===s.providerId)),...e]}function My(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IR(t,e){const n=await Oy(t,{},async()=>{const s=Mo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:i}=t.config,o=await Ny(t,r,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:a,body:s};return t.emulatorConfig&&di(t.emulatorConfig.host)&&(c.credentials="include"),xy.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function AR(t,e){return Js(t,"POST","/v2/accounts:revokeToken",wr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ke(e.idToken,"internal-error"),ke(typeof e.idToken<"u","internal-error"),ke(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ym(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ke(e.length!==0,"internal-error");const n=ym(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:r,expiresIn:i}=await IR(e,n);this.updateTokensAndExpiration(s,r,Number(i))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:r,expirationTime:i}=n,o=new Hr;return s&&(ke(typeof s=="string","internal-error",{appName:e}),o.refreshToken=s),r&&(ke(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),i&&(ke(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Hr,this.toJSON())}_performRefresh(){return Wn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(t,e){ke(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class mn{constructor({uid:e,auth:n,stsTokenManager:s,...r}){this.providerId="firebase",this.proactiveRefresh=new ER(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Fu(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await ko(this,this.stsTokenManager.getToken(this.auth,e));return ke(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return yR(this,e)}reload(){return wR(this)}_assign(e){this!==e&&(ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new mn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await pl(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pn(this.auth.app))return Promise.reject(xs(this.auth));const e=await this.getIdToken();return await ko(this,vR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,r=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,c=n._redirectEventId??void 0,d=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:p,emailVerified:m,isAnonymous:g,providerData:b,stsTokenManager:T}=n;ke(p&&T,e,"internal-error");const P=Hr.fromJSON(this.name,T);ke(typeof p=="string",e,"internal-error"),hs(s,e.name),hs(r,e.name),ke(typeof m=="boolean",e,"internal-error"),ke(typeof g=="boolean",e,"internal-error"),hs(i,e.name),hs(o,e.name),hs(a,e.name),hs(c,e.name),hs(d,e.name),hs(h,e.name);const O=new mn({uid:p,auth:e,email:r,emailVerified:m,displayName:s,isAnonymous:g,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:P,createdAt:d,lastLoginAt:h});return b&&Array.isArray(b)&&(O.providerData=b.map(B=>({...B}))),c&&(O._redirectEventId=c),O}static async _fromIdTokenResponse(e,n,s=!1){const r=new Hr;r.updateFromServerResponse(n);const i=new mn({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:s});return await pl(i),i}static async _fromGetAccountInfoResponse(e,n,s){const r=n.users[0];ke(r.localId!==void 0,"internal-error");const i=r.providerUserInfo!==void 0?My(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(i!=null&&i.length),a=new Hr;a.updateFromIdToken(s);const c=new mn({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Fu(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm=new Map;function Kn(t){es(t instanceof Function,"Expected a class definition");let e=bm.get(t);return e?(es(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,bm.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}$y.type="NONE";const Em=$y;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $a(t,e,n){return`firebase:${t}:${e}:${n}`}class zr{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:r,name:i}=this.auth;this.fullUserKey=$a(this.userKey,r.apiKey,i),this.fullPersistenceKey=$a("persistence",r.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await fl(this.auth,{idToken:e}).catch(()=>{});return n?mn._fromGetAccountInfoResponse(this.auth,n,e):null}return mn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new zr(Kn(Em),e,s);const r=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=r[0]||Kn(Em);const o=$a(s,e.config.apiKey,e.name);let a=null;for(const d of n)try{const h=await d._get(o);if(h){let p;if(typeof h=="string"){const m=await fl(e,{idToken:h}).catch(()=>{});if(!m)break;p=await mn._fromGetAccountInfoResponse(e,m,h)}else p=mn._fromJSON(e,h);d!==i&&(a=p),i=d;break}}catch{}const c=r.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new zr(i,e,s):(i=c[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new zr(i,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(By(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ly(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(jy(e))return"Blackberry";if(Hy(e))return"Webos";if(Fy(e))return"Safari";if((e.includes("chrome/")||Uy(e))&&!e.includes("edge/"))return"Chrome";if(qy(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function Ly(t=jt()){return/firefox\//i.test(t)}function Fy(t=jt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Uy(t=jt()){return/crios\//i.test(t)}function By(t=jt()){return/iemobile/i.test(t)}function qy(t=jt()){return/android/i.test(t)}function jy(t=jt()){return/blackberry/i.test(t)}function Hy(t=jt()){return/webos/i.test(t)}function Jd(t=jt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function SR(t=jt()){var e;return Jd(t)&&!!((e=window.navigator)!=null&&e.standalone)}function CR(){return wI()&&document.documentMode===10}function zy(t=jt()){return Jd(t)||qy(t)||Hy(t)||jy(t)||/windows phone/i.test(t)||By(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wy(t,e=[]){let n;switch(t){case"Browser":n=wm(jt());break;case"Worker":n=`${wm(jt())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${hi}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=i=>new Promise((o,a)=>{try{const c=e(i);o(c)}catch(c){a(c)}});s.onAbort=n,this.queue.push(s);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RR(t,e={}){return Js(t,"GET","/v2/passwordPolicy",wr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR=6;class VR{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??PR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let r=0;r<e.length;r++)s=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e,n,s,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Tm(this),this.idTokenSubscription=new Tm(this),this.beforeStateQueue=new kR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Vy,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Kn(n)),this._initializationPromise=this.queue(async()=>{var s,r,i;if(!this._deleted&&(this.persistenceManager=await zr.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((r=this._popupRedirectResolver)!=null&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await fl(this,{idToken:e}),s=await mn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(pn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(s=c.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await pl(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=uR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pn(this.app))return Promise.reject(xs(this));const n=e?At(e):null;return n&&ke(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pn(this.app)?Promise.reject(xs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pn(this.app)?Promise.reject(xs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Kn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await RR(this),n=new VR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new No("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await AR(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Kn(e)||this._popupRedirectResolver;ke(n,this,"argument-error"),this.redirectPersistenceManager=await zr.create(this,[Kn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,r){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ke(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,s,r);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Wy(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var r;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((r=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&aR(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function vi(t){return At(t)}class Tm{constructor(e){this.auth=e,this.observer=null,this.addObserver=PI(n=>this.observer=n)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xR(t){sc=t}function Ky(t){return sc.loadJS(t)}function OR(){return sc.recaptchaEnterpriseScript}function NR(){return sc.gapiScript}function MR(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class $R{constructor(){this.enterprise=new LR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class LR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const FR="recaptcha-enterprise",Gy="NO_RECAPTCHA";class UR{constructor(e){this.type=FR,this.auth=vi(e)}async verify(e="verify",n=!1){async function s(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{_R(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const d=new gR(c);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,o(d.siteKey)}}).catch(c=>{a(c)})})}function r(i,o,a){const c=window.grecaptcha;vm(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(d=>{o(d)}).catch(()=>{o(Gy)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new $R().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{s(this.auth).then(a=>{if(!n&&vm(window.grecaptcha))r(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=OR();c.length!==0&&(c+=a),Ky(c).then(()=>{r(a,i,o)}).catch(d=>{o(d)})}}).catch(a=>{o(a)})})}}async function Im(t,e,n,s=!1,r=!1){const i=new UR(t);let o;if(r)o=Gy;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const c=a.phoneEnrollmentInfo.phoneNumber,d=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return s?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Am(t,e,n,s,r){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Im(t,e,n,n==="getOobCode");return s(t,o)}else return s(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Im(t,e,n,n==="getOobCode");return s(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(t,e){const n=hd(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),i=n.getOptions();if(pr(i,e??{}))return r;En(r,"already-initialized")}return n.initialize({options:e})}function qR(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Kn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function jR(t,e,n){const s=vi(t);ke(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const r=!1,i=Qy(e),{host:o,port:a}=HR(e),c=a===null?"":`:${a}`,d={url:`${i}//${o}${c}/`},h=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!s._canInitEmulator){ke(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ke(pr(d,s.config.emulator)&&pr(h,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=d,s.emulatorConfig=h,s.settings.appVerificationDisabledForTesting=!0,di(o)?(W_(`${i}//${o}${c}`),K_("Auth",!0)):zR()}function Qy(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function HR(t){const e=Qy(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(s);if(r){const i=r[1];return{host:i,port:Sm(s.substr(i.length+1))}}else{const[i,o]=s.split(":");return{host:i,port:Sm(o)}}}function Sm(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function zR(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Wn("not implemented")}_getIdTokenResponse(e){return Wn("not implemented")}_linkToIdToken(e,n){return Wn("not implemented")}_getReauthenticationResolver(e){return Wn("not implemented")}}async function WR(t,e){return Js(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KR(t,e){return nc(t,"POST","/v1/accounts:signInWithPassword",wr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GR(t,e){return nc(t,"POST","/v1/accounts:signInWithEmailLink",wr(t,e))}async function QR(t,e){return nc(t,"POST","/v1/accounts:signInWithEmailLink",wr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro extends Yd{constructor(e,n,s,r=null){super("password",s),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new Ro(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Ro(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Am(e,n,"signInWithPassword",KR);case"emailLink":return GR(e,{email:this._email,oobCode:this._password});default:En(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Am(e,s,"signUpPassword",WR);case"emailLink":return QR(e,{idToken:n,email:this._email,oobCode:this._password});default:En(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wr(t,e){return nc(t,"POST","/v1/accounts:signInWithIdp",wr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR="http://localhost";class vr extends Yd{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new vr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):En("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:r,...i}=n;if(!s||!r)return null;const o=new vr(s,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Wr(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Wr(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Wr(e,n)}buildRequest(){const e={requestUri:JR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Mo(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function XR(t){const e=Ui(Bi(t)).link,n=e?Ui(Bi(e)).deep_link_id:null,s=Ui(Bi(t)).deep_link_id;return(s?Ui(Bi(s)).link:null)||s||n||e||t}class Xd{constructor(e){const n=Ui(Bi(e)),s=n.apiKey??null,r=n.oobCode??null,i=YR(n.mode??null);ke(s&&r&&i,"argument-error"),this.apiKey=s,this.operation=i,this.code=r,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=XR(e);try{return new Xd(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(){this.providerId=yi.PROVIDER_ID}static credential(e,n){return Ro._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Xd.parseLink(n);return ke(s,"argument-error"),Ro._fromEmailAndCode(e,s.code,s.tenantId)}}yi.PROVIDER_ID="password";yi.EMAIL_PASSWORD_SIGN_IN_METHOD="password";yi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko extends Jy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends Ko{constructor(){super("facebook.com")}static credential(e){return vr._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bs.credential(e.oauthAccessToken)}catch{return null}}}bs.FACEBOOK_SIGN_IN_METHOD="facebook.com";bs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends Ko{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return vr._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Es.credential(n,s)}catch{return null}}}Es.GOOGLE_SIGN_IN_METHOD="google.com";Es.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws extends Ko{constructor(){super("github.com")}static credential(e){return vr._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ws.credential(e.oauthAccessToken)}catch{return null}}}ws.GITHUB_SIGN_IN_METHOD="github.com";ws.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends Ko{constructor(){super("twitter.com")}static credential(e,n){return vr._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Ts.credential(n,s)}catch{return null}}}Ts.TWITTER_SIGN_IN_METHOD="twitter.com";Ts.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,r=!1){const i=await mn._fromIdTokenResponse(e,s,r),o=Cm(s);return new li({user:i,providerId:o,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const r=Cm(s);return new li({user:e,providerId:r,_tokenResponse:s,operationType:n})}}function Cm(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml extends ns{constructor(e,n,s,r){super(n.code,n.message),this.operationType=s,this.user=r,Object.setPrototypeOf(this,ml.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,r){return new ml(e,n,s,r)}}function Yy(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?ml._fromErrorAndOperation(t,i,e,s):i})}async function ZR(t,e,n=!1){const s=await ko(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return li._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eP(t,e,n=!1){const{auth:s}=t;if(pn(s.app))return Promise.reject(xs(s));const r="reauthenticate";try{const i=await ko(t,Yy(s,r,e,t),n);ke(i.idToken,s,"internal-error");const o=Qd(i.idToken);ke(o,s,"internal-error");const{sub:a}=o;return ke(t.uid===a,s,"user-mismatch"),li._forOperation(t,r,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&En(s,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xy(t,e,n=!1){if(pn(t.app))return Promise.reject(xs(t));const s="signIn",r=await Yy(t,s,e),i=await li._fromIdTokenResponse(t,s,r);return n||await t._updateCurrentUser(i.user),i}async function tP(t,e){return Xy(vi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nP(t){const e=vi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function sP(t,e,n){return pn(t.app)?Promise.reject(xs(t)):tP(At(t),yi.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&nP(t),s})}function rP(t,e,n,s){return At(t).onIdTokenChanged(e,n,s)}function iP(t,e,n){return At(t).beforeAuthStateChanged(e,n)}function oP(t,e,n,s){return At(t).onAuthStateChanged(e,n,s)}function aP(t){return At(t).signOut()}const gl="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gl,"1"),this.storage.removeItem(gl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP=1e3,cP=10;class e1 extends Zy{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zy(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),r=this.localCache[n];s!==r&&e(n,r,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const s=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const o=this.storage.getItem(s);!n&&this.localCache[s]===o||this.notifyListeners(s,o)},i=this.storage.getItem(s);CR()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,cP):r()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},lP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}e1.type="LOCAL";const uP=e1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1 extends Zy{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}t1.type="SESSION";const n1=t1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const s=new rc(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:r,data:i}=n.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:r});const a=Array.from(o).map(async d=>d(n.origin,i)),c=await dP(a);n.ports[0].postMessage({status:"done",eventId:s,eventType:r,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zd(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise((a,c)=>{const d=Zd("",20);r.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},s);o={messageChannel:r,onMessage(p){const m=p;if(m.data.eventId===d)switch(m.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(m.data.response);break;default:clearTimeout(h),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(){return window}function fP(t){Mn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(){return typeof Mn().WorkerGlobalScope<"u"&&typeof Mn().importScripts=="function"}async function pP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mP(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function gP(){return s1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="firebaseLocalStorageDb",_P=1,_l="firebaseLocalStorage",i1="fbase_key";class Go{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ic(t,e){return t.transaction([_l],e?"readwrite":"readonly").objectStore(_l)}function vP(){const t=indexedDB.deleteDatabase(r1);return new Go(t).toPromise()}function Uu(){const t=indexedDB.open(r1,_P);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(_l,{keyPath:i1})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(_l)?e(s):(s.close(),await vP(),e(await Uu()))})})}async function km(t,e,n){const s=ic(t,!0).put({[i1]:e,value:n});return new Go(s).toPromise()}async function yP(t,e){const n=ic(t,!1).get(e),s=await new Go(n).toPromise();return s===void 0?null:s.value}function Rm(t,e){const n=ic(t,!0).delete(e);return new Go(n).toPromise()}const bP=800,EP=3;class o1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Uu(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>EP)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return s1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rc._getInstance(gP()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await pP(),!this.activeServiceWorker)return;this.sender=new hP(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||mP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Uu();return await km(e,gl,"1"),await Rm(e,gl),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>km(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>yP(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Rm(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const i=ic(r,!1).getAll();return new Go(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:r,value:i}of e)s.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!s.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}o1.type="LOCAL";const wP=o1;new Wo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TP(t,e){return e?Kn(e):(ke(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh extends Yd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wr(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Wr(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Wr(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function IP(t){return Xy(t.auth,new eh(t),t.bypassAuthState)}function AP(t){const{auth:e,user:n}=t;return ke(n,e,"internal-error"),eP(n,new eh(t),t.bypassAuthState)}async function SP(t){const{auth:e,user:n}=t;return ke(n,e,"internal-error"),ZR(n,new eh(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e,n,s,r,i=!1){this.auth=e,this.resolver=s,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:r,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:s,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return IP;case"linkViaPopup":case"linkViaRedirect":return SP;case"reauthViaPopup":case"reauthViaRedirect":return AP;default:En(this.auth,"internal-error")}}resolve(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP=new Wo(2e3,1e4);class Mr extends a1{constructor(e,n,s,r,i){super(e,n,r,i),this.provider=s,this.authWindow=null,this.pollId=null,Mr.currentPopupAction&&Mr.currentPopupAction.cancel(),Mr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ke(e,this.auth,"internal-error"),e}async onExecution(){es(this.filter.length===1,"Popup operations only handle one event");const e=Zd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Nn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Nn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Mr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Nn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,CP.get())};e()}}Mr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP="pendingRedirect",La=new Map;class RP extends a1{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=La.get(this.auth._key());if(!e){try{const s=await PP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}La.set(this.auth._key(),e)}return this.bypassAuthState||La.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function PP(t,e){const n=xP(e),s=DP(t);if(!await s._isAvailable())return!1;const r=await s._get(n)==="true";return await s._remove(n),r}function VP(t,e){La.set(t._key(),e)}function DP(t){return Kn(t._redirectPersistence)}function xP(t){return $a(kP,t.config.apiKey,t.name)}async function OP(t,e,n=!1){if(pn(t.app))return Promise.reject(xs(t));const s=vi(t),r=TP(s,e),o=await new RP(s,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await s._persistUserIfCurrent(o.user),await s._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP=10*60*1e3;class MP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$P(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!l1(e)){const r=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(Nn(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=NP&&this.cachedEventUids.clear(),this.cachedEventUids.has(Pm(e))}saveEventToCache(e){this.cachedEventUids.add(Pm(e)),this.lastProcessedEventTime=Date.now()}}function Pm(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function l1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function $P(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return l1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LP(t,e={}){return Js(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UP=/^https?/;async function BP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await LP(t);for(const n of e)try{if(qP(n))return}catch{}En(t,"unauthorized-domain")}function qP(t){const e=Lu(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===s}if(!UP.test(n))return!1;if(FP.test(t))return s===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP=new Wo(3e4,6e4);function Vm(){const t=Mn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function HP(t){return new Promise((e,n)=>{var r,i,o;function s(){Vm(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Vm(),n(Nn(t,"network-request-failed"))},timeout:jP.get()})}if((i=(r=Mn().gapi)==null?void 0:r.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=Mn().gapi)!=null&&o.load)s();else{const a=MR("iframefcb");return Mn()[a]=()=>{gapi.load?s():n(Nn(t,"network-request-failed"))},Ky(`${NR()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Fa=null,e})}let Fa=null;function zP(t){return Fa=Fa||HP(t),Fa}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP=new Wo(5e3,15e3),KP="__/auth/iframe",GP="emulator/auth/iframe",QP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},JP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function YP(t){const e=t.config;ke(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Gd(e,GP):`https://${t.config.authDomain}/${KP}`,s={apiKey:e.apiKey,appName:t.name,v:hi},r=JP.get(t.config.apiHost);r&&(s.eid=r);const i=t._getFrameworks();return i.length&&(s.fw=i.join(",")),`${n}?${Mo(s).slice(1)}`}async function XP(t){const e=await zP(t),n=Mn().gapi;return ke(n,t,"internal-error"),e.open({where:document.body,url:YP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:QP,dontclear:!0},s=>new Promise(async(r,i)=>{await s.restyle({setHideOnLeave:!1});const o=Nn(t,"network-request-failed"),a=Mn().setTimeout(()=>{i(o)},WP.get());function c(){Mn().clearTimeout(a),r(s)}s.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},e2=500,t2=600,n2="_blank",s2="http://localhost";class Dm{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function r2(t,e,n,s=e2,r=t2){const i=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let a="";const c={...ZP,width:s.toString(),height:r.toString(),top:i,left:o},d=jt().toLowerCase();n&&(a=Uy(d)?n2:n),Ly(d)&&(e=e||s2,c.scrollbars="yes");const h=Object.entries(c).reduce((m,[g,b])=>`${m}${g}=${b},`,"");if(SR(d)&&a!=="_self")return i2(e||"",a),new Dm(null);const p=window.open(e||"",a,h);ke(p,t,"popup-blocked");try{p.focus()}catch{}return new Dm(p)}function i2(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2="__/auth/handler",a2="emulator/auth/handler",l2=encodeURIComponent("fac");async function xm(t,e,n,s,r,i){ke(t.config.authDomain,t,"auth-domain-config-required"),ke(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:hi,eventId:r};if(e instanceof Jy){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",RI(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))o[h]=p}if(e instanceof Ko){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const c=await t._getAppCheckToken(),d=c?`#${l2}=${encodeURIComponent(c)}`:"";return`${c2(t)}?${Mo(a).slice(1)}${d}`}function c2({config:t}){return t.emulator?Gd(t,a2):`https://${t.authDomain}/${o2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc="webStorageSupport";class u2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=n1,this._completeRedirectFn=OP,this._overrideRedirectResult=VP}async _openPopup(e,n,s,r){var o;es((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await xm(e,n,s,Lu(),r);return r2(e,i,Zd())}async _openRedirect(e,n,s,r){await this._originValidation(e);const i=await xm(e,n,s,Lu(),r);return fP(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:i}=this.eventManagers[n];return r?Promise.resolve(r):(es(i,"If manager is not set, promise should be"),i)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await XP(e),s=new MP(e);return n.register("authEvent",r=>(ke(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:s.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Gc,{type:Gc},r=>{var o;const i=(o=r==null?void 0:r[0])==null?void 0:o[Gc];i!==void 0&&n(!!i),En(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=BP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return zy()||Fy()||Jd()}}const d2=u2;var Om="@firebase/auth",Nm="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function p2(t){Zr(new mr("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=s.options;ke(o&&!o.includes(":"),"invalid-api-key",{appName:s.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Wy(t)},d=new DR(s,r,i,c);return qR(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Zr(new mr("auth-internal",e=>{const n=vi(e.getProvider("auth").getImmediate());return(s=>new h2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Rs(Om,Nm,f2(t)),Rs(Om,Nm,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=5*60,g2=z_("authIdTokenMaxAge")||m2;let Mm=null;const _2=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>g2)return;const r=n==null?void 0:n.token;Mm!==r&&(Mm=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function v2(t=Y_()){const e=hd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=BR(t,{popupRedirectResolver:d2,persistence:[wP,uP,n1]}),s=z_("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(s,location.origin);if(location.origin===i.origin){const o=_2(i.toString());iP(n,o,()=>o(n.currentUser)),rP(n,a=>o(a))}}const r=j_("auth");return r&&jR(n,`http://${r}`),n}function y2(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}xR({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=r=>{const i=Nn("internal-error");i.customData=r,n(i)},s.type="text/javascript",s.charset="UTF-8",y2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});p2("Browser");const b2={apiKey:"AIzaSyDKgaceD3l-uFdbiz4Ose_uhCFW1a4a_l0",authDomain:"margalitut.firebaseapp.com",projectId:"margalitut",storageBucket:"margalitut.firebasestorage.app",messagingSenderId:"77219137608",appId:"1:77219137608:web:2017ab65c2dc5c77a2b07d",measurementId:"G-PLGDHJ0T5S"},c1=J_(b2),dn=qk(c1),Qc=v2(c1),Qo="orders";async function E2(t){try{return{id:(await Wd(Qs(dn,Qo),{...t,status:"pending",paymentStatus:t.paymentMethod==="cash"?"pending":"awaiting",createdAt:ai(),updatedAt:ai()})).id,...t}}catch(e){throw console.error("Error creating order:",e),e}}async function w2(t){try{const e=Ho(Qs(dn,Qo),dl("customer.phone","==",t),tc("createdAt","desc"));return(await zo(e)).docs.map(s=>({id:s.id,...s.data()}))}catch(e){throw console.error("Error getting orders by phone:",e),e}}async function T2(){try{const t=Ho(Qs(dn,Qo),tc("createdAt","desc"));return(await zo(t)).docs.map(n=>({id:n.id,...n.data()}))}catch(t){throw console.error("Error getting all orders:",t),t}}async function I2(t,e){try{const n=qo(dn,Qo,t);return await zd(n,{status:e,updatedAt:ai()}),!0}catch(n){throw console.error("Error updating order status:",n),n}}async function A2(t,e){try{const n=qo(dn,Qo,t);return await zd(n,{paymentStatus:e,updatedAt:ai()}),!0}catch(n){throw console.error("Error updating payment status:",n),n}}async function S2(t,e){try{const n=Ho(Qs(dn,"coupon_usage"),dl("couponCode","==",t.toUpperCase()),dl("phone","==",e));return{used:!(await zo(n)).empty}}catch(n){return console.error("Error checking coupon usage:",n),{used:!1}}}async function C2(t,e,n){try{return await Wd(Qs(dn,"coupon_usage"),{couponCode:t.toUpperCase(),phone:e,orderId:n,usedAt:ai()}),!0}catch(s){return console.error("Error saving coupon usage:",s),!1}}async function k2(t){try{return{id:(await Wd(Qs(dn,"reviews"),{...t,status:"pending",createdAt:ai()})).id,...t}}catch(e){throw console.error("Error adding review:",e),e}}async function R2(){try{const t=Ho(Qs(dn,"reviews"),dl("status","==","approved"),tc("createdAt","desc"));return(await zo(t)).docs.map(n=>({id:n.id,...n.data()}))}catch(t){return console.error("Error getting reviews:",t),[]}}async function P2(){try{const t=Ho(Qs(dn,"reviews"),tc("createdAt","desc"));return(await zo(t)).docs.map(n=>({id:n.id,...n.data()}))}catch(t){return console.error("Error getting all reviews:",t),[]}}async function $m(t,e){try{const n=qo(dn,"reviews",t);return await zd(n,{status:e}),!0}catch(n){return console.error("Error updating review status:",n),!1}}async function V2(t){try{return await deleteDoc(qo(dn,"reviews",t)),!0}catch(e){return console.error("Error deleting review:",e),!1}}class Jo{constructor(e=0,n="Network Error"){this.status=e,this.text=n}}const D2=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},Rt={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:D2()},th=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},x2=(t,e="https://api.emailjs.com")=>{if(!t)return;const n=th(t);Rt.publicKey=n.publicKey,Rt.blockHeadless=n.blockHeadless,Rt.storageProvider=n.storageProvider,Rt.blockList=n.blockList,Rt.limitRate=n.limitRate,Rt.origin=n.origin||e},u1=async(t,e,n={})=>{const s=await fetch(Rt.origin+t,{method:"POST",headers:n,body:e}),r=await s.text(),i=new Jo(s.status,r);if(s.ok)return i;throw i},d1=(t,e,n)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},O2=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},h1=t=>t.webdriver||!t.languages||t.languages.length===0,f1=()=>new Jo(451,"Unavailable For Headless Browser"),N2=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},M2=t=>{var e;return!((e=t.list)!=null&&e.length)||!t.watchVariable},$2=(t,e)=>t instanceof FormData?t.get(e):t[e],p1=(t,e)=>{if(M2(t))return!1;N2(t.list,t.watchVariable);const n=$2(e,t.watchVariable);return typeof n!="string"?!1:t.list.includes(n)},m1=()=>new Jo(403,"Forbidden"),L2=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},F2=async(t,e,n)=>{const s=Number(await n.get(t)||0);return e-Date.now()+s},g1=async(t,e,n)=>{if(!e.throttle||!n)return!1;L2(e.throttle,e.id);const s=e.id||t;return await F2(s,e.throttle,n)>0?!0:(await n.set(s,Date.now().toString()),!1)},_1=()=>new Jo(429,"Too Many Requests"),U2=async(t,e,n,s)=>{const r=th(s),i=r.publicKey||Rt.publicKey,o=r.blockHeadless||Rt.blockHeadless,a=r.storageProvider||Rt.storageProvider,c={...Rt.blockList,...r.blockList},d={...Rt.limitRate,...r.limitRate};return o&&h1(navigator)?Promise.reject(f1()):(d1(i,t,e),O2(n),n&&p1(c,n)?Promise.reject(m1()):await g1(location.pathname,d,a)?Promise.reject(_1()):u1("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:i,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"}))},B2=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},q2=t=>typeof t=="string"?document.querySelector(t):t,j2=async(t,e,n,s)=>{const r=th(s),i=r.publicKey||Rt.publicKey,o=r.blockHeadless||Rt.blockHeadless,a=Rt.storageProvider||r.storageProvider,c={...Rt.blockList,...r.blockList},d={...Rt.limitRate,...r.limitRate};if(o&&h1(navigator))return Promise.reject(f1());const h=q2(n);d1(i,t,e),B2(h);const p=new FormData(h);return p1(c,p)?Promise.reject(m1()):await g1(location.pathname,d,a)?Promise.reject(_1()):(p.append("lib_version","4.4.1"),p.append("service_id",t),p.append("template_id",e),p.append("user_id",i),u1("/api/v1.0/email/send-form",p))},nh={init:x2,send:U2,sendForm:j2,EmailJSResponseStatus:Jo},v1="service_44th385",y1="template_76chmaa",H2="bGF3UY6_byYkOW7CT";nh.init(H2);async function z2(t){var e;try{const n=t.items.map(d=>` ${d.name} x${d.quantity} - ${d.price*d.quantity}`).join(`
`);let s="";t.delivery.option==="pickup"?s="    ,  ":(s=`  : ${t.customer.address}
`,s+=`: ${((e=t.delivery.location)==null?void 0:e.name)||""}
`,t.delivery.price?s+=` : ${t.delivery.price}`:t.delivery.requiresCall&&(s+=" :  "));let r="";t.date&&(r+=`: ${t.date}
`),t.time&&(r+=`: ${t.time}`),r||(r=" ");const i={bit:" Bit",paybox:" PayBox",cash:" "};let o="";t.delivery.option==="delivery"&&(t.deliveryFee>0?o=`${t.deliveryFee}`:t.delivery.requiresCall&&(o=" "));const a={order_id:t.orderId,customer_name:t.customer.name,customer_phone:t.customer.phone,customer_email:t.customer.email||" ",delivery_info:s,date_time:r,items_list:n,subtotal:t.subtotal,delivery_fee:o,total:t.total,payment_method:i[t.payment.method]||t.payment.method,special_requests:t.specialRequests||""},c=await nh.send(v1,y1,a);return console.log("Email sent successfully:",c),!0}catch(n){return console.error("Failed to send email:",n),!1}}async function W2(t){try{const e="".repeat(t.rating),n={order_id:" ",customer_name:t.name,customer_phone:t.phone||" ",customer_email:t.email||" ",delivery_info:`: ${e} (${t.rating}/5)`,date_time:new Date().toLocaleString("he-IL"),items_list:`: ${t.product}`,subtotal:"",delivery_fee:"",total:"",payment_method:"",special_requests:t.text},s=await nh.send(v1,y1,n);return console.log("Review email sent:",s),!0}catch(e){return console.error("Failed to send review email:",e),!1}}const hn=Dl("order",()=>{function t(){try{const F=localStorage.getItem("margalitot_cart");return F?JSON.parse(F):[]}catch{return[]}}function e(F){try{localStorage.setItem("margalitot_cart",JSON.stringify(F))}catch(G){console.error("Failed to save cart:",G)}}const n=ie(t()),s=ie(null),r=ie(""),i=ie(""),o=ie([{code:"WELCOME10",type:"percent",value:10,minOrder:50,description:"10%    ",active:!0},{code:"SWEET20",type:"fixed",value:20,minOrder:100,description:"20    100",active:!0},{code:"FAMILY10",type:"percent",value:10,minOrder:200,description:"10%    200",active:!0},{code:"FREEDELIVERY",type:"freeDelivery",value:0,minOrder:250,description:"    250",active:!0}]),a=ie({name:"",phone:"",email:"",address:"",city:""}),c=ie(""),d=ie(""),h=ie(""),p=ie([]),m=ie(!1),g=ie(1),b=ie(null),T=ie("pickup"),P=ie(""),O=ie([{id:"hamishkafayim",name:"",zone:1,price:20},{id:"ramat-a",name:"   '",zone:1,price:20},{id:"ramat-b",name:"   '",zone:1,price:20},{id:"ramat-c",name:"   '",zone:1,price:20},{id:"ramat-d",name:"   '",zone:1,price:20},{id:"ramat-e",name:"   ' ( )",zone:1,price:20},{id:"merkaz",name:"   ",zone:2,price:40},{id:"givat-saret",name:" ",zone:2,price:40},{id:"tzora",name:"",zone:2,price:40},{id:"zanoach",name:"",zone:2,price:40},{id:"neve-michael",name:" ",zone:2,price:40},{id:"machseya",name:"",zone:2,price:40},{id:"yishi",name:"",zone:2,price:40},{id:"zecharya",name:"",zone:2,price:40},{id:"netiv-halamed",name:' "',zone:2,price:40},{id:"tzur-hadasa",name:" ",zone:3,price:null,requiresCall:!0},{id:"kfar-uriya",name:" ",zone:3,price:null,requiresCall:!0},{id:"beit-meir",name:" ",zone:3,price:null,requiresCall:!0},{id:"jerusalem",name:"",zone:3,price:null,requiresCall:!0},{id:"modiin",name:"",zone:3,price:null,requiresCall:!0},{id:"other",name:"...",zone:3,price:null,requiresCall:!0}]),B=ie([{id:1,name:" 1 -  ",description:"  ",price:20,icon:""},{id:2,name:" 2 -  ",description:" ",price:40,icon:""},{id:3,name:" 3 - ",description:"  ",price:null,icon:"",requiresCall:!0}]),M=ie(""),z=ie([{id:"bit",name:"Bit",description:"  ",icon:"",phone:"0524441093",link:"https://www.bitpay.co.il/app/me/0524441093",instructions:"       0524441093"},{id:"paybox",name:"PayBox",description:"  ",icon:"",phone:"0528460331",link:"https://payboxapp.page.link/iChLPfvwFW4rGqDK6",instructions:"       0528460331"},{id:"cash",name:"",description:"  ",icon:"",instructions:"    "}]),se=Q(()=>n.value.reduce((F,G)=>F+G.price*G.quantity,0)),ae=Q(()=>n.value.reduce((F,G)=>F+G.quantity,0)),C=Q(()=>O.value.find(F=>F.id===P.value)),w=Q(()=>T.value==="pickup"||!C.value?0:C.value.price||0),v=Q(()=>T.value==="pickup"||!C.value?!1:C.value.requiresCall||!1),S=Q(()=>C.value?B.value.find(F=>F.id===C.value.zone):null),A=Q(()=>se.value+w.value),E=Q(()=>{if(!s.value)return 0;const F=s.value;return F.type==="percent"?Math.round(se.value*(F.value/100)):F.type==="fixed"?F.value:F.type==="freeDelivery"?w.value:0}),I=Q(()=>{let F=A.value-E.value;return Math.max(F,0)}),me=Q(()=>z.value.find(F=>F.id===M.value)),Fe=Q(()=>n.value.length===0),je=Q(()=>!Fe.value),Ce=Q(()=>{const F=a.value.name&&a.value.phone,G=T.value==="pickup"||T.value==="delivery"&&P.value,fe=T.value==="pickup"||a.value.address;return F&&G&&fe}),Oe=Q(()=>Ce.value&&M.value),pt=Q(()=>O.value.filter(F=>F.zone===1)),Ne=Q(()=>O.value.filter(F=>F.zone===2)),$=Q(()=>O.value.filter(F=>F.zone===3));function rt(F,G=1){const fe=zn(),be=n.value.find(Pe=>Pe.id===F.id);be?(be.quantity+=G,fe.success(` : ${F.name} (${be.quantity})`)):(n.value.push({id:F.id,name:F.name,price:F.price,image:F.image,quantity:G}),fe.success(`${F.name}   `))}function ue(F){const G=zn(),fe=n.value.find(be=>be.id===F);n.value=n.value.filter(be=>be.id!==F),fe&&G.info(`${fe.name}  `)}function H(F,G){const fe=n.value.find(be=>be.id===F);fe&&(G<=0?ue(F):fe.quantity=G)}function W(){const F=zn();n.value=[],localStorage.removeItem("margalitot_cart"),F.info(" ")}function ee(F){a.value={...a.value,...F}}function U(F){T.value=F,F==="pickup"&&(P.value="")}function oe(F){P.value=F;const G=O.value.find(fe=>fe.id===F);G&&(a.value.city=G.name)}function ce(F){M.value=F}function ye(F){g.value=F}function He(){g.value<5&&g.value++}function k(){g.value>1&&g.value--}function V(){const F=Date.now().toString(36),G=Math.random().toString(36).substr(2,4);return`MRG-${F}-${G}`.toUpperCase()}function N(){var fe,be;const F=((fe=b.value)==null?void 0:fe.orderId)||V();let G=` *  *
`;if(G+=`  : ${F}

`,G+=` * :*
`,G+=`: ${a.value.name}
`,G+=`: ${a.value.phone}
`,a.value.email&&(G+=`: ${a.value.email}
`),G+=`
`,G+=` * :*
`,T.value==="pickup")G+=`   ,  
`;else{const Pe=C.value;G+=` : ${a.value.address}
`,G+=`: ${(Pe==null?void 0:Pe.name)||a.value.city}
`,Pe&&(Pe.price?G+=` : ${Pe.price}
`:G+=` :  
`)}return G+=`
`,(c.value||d.value)&&(G+=` * :*
`,c.value&&(G+=`: ${c.value}
`),d.value&&(G+=`: ${d.value}
`),G+=`
`),G+=` *:*
`,n.value.forEach(Pe=>{G+=` ${Pe.name} x${Pe.quantity} - ${Pe.price*Pe.quantity}
`}),G+=`
`,G+=` *:*
`,G+=`" : ${se.value}
`,T.value==="delivery"&&w.value>0&&(G+=`: ${w.value}
`),v.value&&(G+=`:  
`),G+=`*" : ${A.value}${v.value?" + ":""}*

`,G+=` * :* ${((be=me.value)==null?void 0:be.name)||""}
`,h.value&&(G+=`
 *:*
${h.value}
`),{message:G,orderId:F}}function K(){const{message:F}=N();return`https://wa.me/972528460331?text=${encodeURIComponent(F)}`}async function Y(){const F=zn();m.value=!0;try{const fe={orderId:V(),items:[...n.value],customer:{...a.value},delivery:{option:T.value,location:C.value?{...C.value}:null,price:we.value?0:w.value,requiresCall:v.value&&!we.value},payment:{method:M.value},coupon:s.value?{code:s.value.code,discount:E.value}:null,date:c.value,time:d.value,specialRequests:h.value,subtotal:se.value,deliveryFee:we.value?0:w.value,discount:E.value,total:I.value},be=await E2(fe);return s.value&&await C2(s.value.code,a.value.phone,be.id),z2(fe).catch(Pe=>{console.error("Email notification failed:",Pe)}),b.value=be,p.value.unshift(be),j(be),g.value=5,F.success("  ! ",5e3),be}catch(G){throw console.error("Order submission failed:",G),F.error("  ,  "),G}finally{m.value=!1}}function j(F){try{const fe=`orders_${F.customer.phone}`,be=JSON.parse(localStorage.getItem(fe)||"[]");be.unshift({id:F.id,orderId:F.orderId,total:F.total,status:F.status,createdAt:new Date().toISOString()}),localStorage.setItem(fe,JSON.stringify(be.slice(0,20)))}catch(G){console.error("Failed to save order to localStorage:",G)}}function de(F){try{const G=`orders_${F}`;return JSON.parse(localStorage.getItem(G)||"[]")}catch(G){return console.error("Failed to get orders from localStorage:",G),[]}}function ne(){W(),a.value={name:"",phone:"",email:"",address:"",city:""},T.value="pickup",P.value="",M.value="",c.value="",d.value="",h.value="",g.value=1,b.value=null}cn(n,F=>{e(F)},{deep:!0});async function Z(F){const G=zn();if(r.value="",i.value="",!F||F.trim()==="")return r.value="   ",!1;const fe=o.value.find(Pe=>Pe.code.toUpperCase()===F.toUpperCase()&&Pe.active);return fe?se.value<fe.minOrder?(r.value=`    ${fe.minOrder}`,!1):a.value.phone?(await S2(F,a.value.phone)).used?(r.value="      ",!1):(s.value=fe,i.value=fe.description,G.success(` ${fe.description}`),!0):(r.value="    ",!1):(r.value="   ",!1)}function re(){s.value=null,r.value="",i.value=""}const we=Q(()=>{var F;return((F=s.value)==null?void 0:F.type)==="freeDelivery"});return{cart:n,customerInfo:a,orderDate:c,orderTime:d,specialRequests:h,orderHistory:p,isLoading:m,currentStep:g,lastOrder:b,deliveryOption:T,selectedLocation:P,locations:O,deliveryZones:B,paymentMethod:M,paymentMethods:z,cartTotal:se,cartItemCount:ae,selectedLocationData:C,deliveryPrice:w,deliveryRequiresCall:v,selectedDeliveryZone:S,orderTotal:A,selectedPaymentMethod:me,isCartEmpty:Fe,canProceedToCheckout:je,canProceedToPayment:Ce,canCompleteOrder:Oe,zone1Locations:pt,zone2Locations:Ne,zone3Locations:$,addToCart:rt,removeFromCart:ue,updateQuantity:H,clearCart:W,setCustomerInfo:ee,setDeliveryOption:U,setSelectedLocation:oe,setPaymentMethod:ce,setStep:ye,nextStep:He,prevStep:k,generateWhatsAppMessage:N,getWhatsAppLink:K,submitOrder:Y,resetOrder:ne,getOrdersFromLocalStorage:de,appliedCoupon:s,couponError:r,couponSuccess:i,couponDiscount:E,finalTotal:I,hasFreeDelivery:we,applyCoupon:Z,removeCoupon:re}}),K2={key:0,class:"cart-drawer"},G2={class:"cart-header"},Q2={class:"cart-title"},J2={key:0,class:"cart-badge"},Y2={key:0,class:"cart-empty"},X2={key:1,class:"cart-content"},Z2={class:"cart-items"},e4={class:"item-emoji"},t4={class:"item-details"},n4={class:"item-name"},s4={class:"item-price"},r4={class:"item-actions"},i4={class:"quantity-controls"},o4=["onClick"],a4={class:"qty-value"},l4=["onClick"],c4={class:"item-total"},u4=["onClick"],d4={class:"cart-summary"},h4={class:"summary-row"},f4={class:"summary-value"},p4={class:"summary-row total"},m4={class:"summary-value"},g4={class:"cart-actions"},_4={__name:"CartDrawer",setup(t){const e=hn(),n=Ws(),s=Q(()=>n.isCartDrawerOpen),r=Q(()=>e.cart),i=Q(()=>e.cartTotal),o=Q(()=>e.cartItemCount),a=Q(()=>e.isCartEmpty),c=()=>{n.closeCartDrawer()},d=m=>{const g=e.cart.find(b=>b.id===m);g&&e.updateQuantity(m,g.quantity+1)},h=m=>{const g=e.cart.find(b=>b.id===m);g&&g.quantity>1?e.updateQuantity(m,g.quantity-1):e.removeFromCart(m)},p=m=>{e.removeFromCart(m),e.isCartEmpty};return(m,g)=>{const b=Gt("router-link");return R(),Xe(hr,{to:"body"},[te(dt,{name:"fade"},{default:pe(()=>[s.value?(R(),D("div",{key:0,class:"cart-overlay",onClick:c})):ge("",!0)]),_:1}),te(dt,{name:"slide"},{default:pe(()=>[s.value?(R(),D("div",K2,[u("div",G2,[u("h2",Q2,[g[0]||(g[0]=u("span",{class:"cart-icon"},"",-1)),g[1]||(g[1]=le("   ",-1)),o.value>0?(R(),D("span",J2,x(o.value),1)):ge("",!0)]),u("button",{class:"close-btn",onClick:c},"")]),a.value?(R(),D("div",Y2,[g[3]||(g[3]=u("span",{class:"empty-icon"},"",-1)),g[4]||(g[4]=u("h3",null," ",-1)),g[5]||(g[5]=u("p",null,"  ",-1)),te(b,{to:"/menu",class:"browse-btn",onClick:c},{default:pe(()=>[...g[2]||(g[2]=[le("  ",-1)])]),_:1})])):(R(),D("div",X2,[u("div",Z2,[te(zs,{name:"cart-item"},{default:pe(()=>[(R(!0),D(Ee,null,Le(r.value,T=>(R(),D("div",{key:T.id,class:"cart-item"},[u("span",e4,x(T.image),1),u("div",t4,[u("h4",n4,x(T.name),1),u("span",s4,""+x(T.price)+" ",1)]),u("div",r4,[u("div",i4,[u("button",{class:"qty-btn minus",onClick:P=>h(T.id)},"",8,o4),u("span",a4,x(T.quantity),1),u("button",{class:"qty-btn plus",onClick:P=>d(T.id)},"+",8,l4)]),u("span",c4,""+x(T.price*T.quantity),1)]),u("button",{class:"remove-btn",onClick:P=>p(T.id),title:" "},"",8,u4)]))),128))]),_:1})]),u("div",d4,[u("div",h4,[u("span",null,'"  ('+x(o.value)+")",1),u("span",f4,""+x(i.value),1)]),g[7]||(g[7]=u("div",{class:"summary-row delivery-note"},[u("span",null," "),u("span",{class:"summary-value"}," ")],-1)),u("div",p4,[g[6]||(g[6]=u("span",null,'" ',-1)),u("span",m4,""+x(i.value)+"+",1)])]),u("div",g4,[te(b,{to:"/checkout",class:"checkout-btn",onClick:c},{default:pe(()=>[...g[8]||(g[8]=[u("span",null," ",-1),u("span",{class:"btn-arrow"},"",-1)])]),_:1}),u("button",{class:"continue-btn",onClick:c}," ")])]))])):ge("",!0)]),_:1})])}}},v4=Ge(_4,[["__scopeId","data-v-750363f2"]]),y4={key:0,class:"cart-count"},b4={key:0,class:"cart-total"},E4={__name:"CartButton",setup(t){const e=hn(),n=Ws(),s=ie(!1),r=Q(()=>e.cartItemCount),i=Q(()=>e.cartTotal),o=()=>{n.openCartDrawer()};return cn(r,(a,c)=>{a>c&&(s.value=!0,setTimeout(()=>{s.value=!1},500))}),(a,c)=>(R(),D("button",{class:Ae(["cart-button",{"has-items":r.value>0,"is-animating":s.value}]),onClick:o},[c[0]||(c[0]=u("span",{class:"cart-icon"},"",-1)),te(dt,{name:"bounce"},{default:pe(()=>[r.value>0?(R(),D("span",y4,x(r.value>99?"99+":r.value),1)):ge("",!0)]),_:1}),te(dt,{name:"fade"},{default:pe(()=>[r.value>0?(R(),D("span",b4," "+x(i.value),1)):ge("",!0)]),_:1})],2))}},w4=Ge(E4,[["__scopeId","data-v-cdcaacfd"]]),T4={key:0,class:"whatsapp-tooltip"},I4="972528460331",A4=" !     ",S4={__name:"WhatsAppButton",setup(t){const e=ie(!1),n=`https://wa.me/${I4}?text=${encodeURIComponent(A4)}`;return(s,r)=>(R(),D("a",{href:n,target:"_blank",class:"whatsapp-float","aria-label":"   ",onMouseenter:r[0]||(r[0]=i=>e.value=!0),onMouseleave:r[1]||(r[1]=i=>e.value=!1)},[r[2]||(r[2]=u("span",{class:"whatsapp-icon"},[u("svg",{viewBox:"0 0 32 32",fill:"currentColor"},[u("path",{d:"M16.004 0C7.169 0 0 7.169 0 16.004c0 2.825.736 5.584 2.135 8.017L.075 32l8.208-2.033a15.93 15.93 0 007.721 1.97C24.835 31.937 32 24.768 32 15.933 32 7.169 24.839 0 16.004 0zm0 29.294c-2.59 0-5.122-.695-7.333-2.01l-.526-.312-5.453 1.43 1.456-5.32-.343-.544a13.26 13.26 0 01-2.037-7.034c0-7.347 5.977-13.324 13.324-13.324 7.347 0 13.324 5.977 13.324 13.324-.072 7.347-6.049 13.39-13.412 13.39zm7.333-9.975c-.4-.2-2.379-1.175-2.75-1.304-.371-.129-.643-.2-.914.2-.271.4-1.05 1.304-1.293 1.575-.243.271-.486.3-.886.1-.4-.2-1.693-.624-3.222-1.988-1.193-1.064-1.993-2.379-2.236-2.779-.243-.4-.029-.614.186-.814.186-.186.4-.486.6-.729.2-.243.271-.414.4-.686.129-.271.071-.514-.029-.714-.1-.2-.914-2.193-1.25-3.007-.329-.786-.671-.671-.914-.686h-.786c-.271 0-.714.1-1.086.5-.371.4-1.421 1.386-1.421 3.379s1.457 3.922 1.657 4.193c.2.271 2.864 4.379 6.95 6.136.971.421 1.729.671 2.321.857.971.314 1.857.271 2.557.171.779-.114 2.379-.971 2.721-1.907.343-.943.343-1.75.243-1.921-.1-.171-.371-.271-.771-.471z"})])],-1)),te(dt,{name:"tooltip"},{default:pe(()=>[e.value?(R(),D("span",T4,"     ")):ge("",!0)]),_:1}),r[3]||(r[3]=u("span",{class:"whatsapp-pulse"},null,-1))],32))}},C4=Ge(S4,[["__scopeId","data-v-06d49679"]]),b1="/assets/logo-CbLXBLT5.png",k4={class:"header"},R4={class:"container nav-container"},P4=["src"],V4={class:"nav-actions"},D4={class:"main container"},x4={__name:"App",setup(t){const e=$_(),n=Ws(),{isDark:s}=L_(),r=Q(()=>n.isMobileMenuOpen),i=ie(""),o=ie("fade"),a=()=>n.toggleMobileMenu(),c=()=>n.closeMobileMenu(),d=["/","/menu","/gallery","/about","/quote","/checkout"];return cn(()=>e.path,(h,p)=>{const m=d.indexOf(h),g=d.indexOf(p||"/");m>g?o.value="slide-left":m<g?o.value="slide-right":o.value="fade",i.value=p,c()}),(h,p)=>{const m=Gt("router-link"),g=Gt("router-view");return R(),D("div",{class:Ae(["app",{"menu-open":r.value,dark:Te(s)}])},[u("header",k4,[u("nav",R4,[te(m,{to:"/",class:"logo-link",onClick:c},{default:pe(()=>[u("img",{src:Te(b1),alt:" ",class:"logo-img"},null,8,P4),p[0]||(p[0]=u("span",{class:"logo-text"},[le(" "),u("span",{"aria-hidden":"true"},"")],-1))]),_:1}),u("div",{class:Ae(["nav-links",{open:r.value}])},[te(m,{class:"nav-link",to:"/menu",onClick:c},{default:pe(()=>[...p[1]||(p[1]=[le("",-1)])]),_:1}),te(m,{class:"nav-link",to:"/gallery",onClick:c},{default:pe(()=>[...p[2]||(p[2]=[le("",-1)])]),_:1}),te(m,{class:"nav-link",to:"/about",onClick:c},{default:pe(()=>[...p[3]||(p[3]=[le("",-1)])]),_:1}),te(m,{class:"nav-link",to:"/my-orders",onClick:c},{default:pe(()=>[...p[4]||(p[4]=[le(" ",-1)])]),_:1}),te(m,{class:"nav-link nav-link-primary",to:"/quote",onClick:c},{default:pe(()=>[...p[5]||(p[5]=[le("   ",-1)])]),_:1}),te(m,{class:"nav-link",to:"/faq",onClick:c},{default:pe(()=>[...p[6]||(p[6]=[le(" ",-1)])]),_:1}),te(op,{class:"dark-toggle-mobile"})],2),u("div",V4,[te(J0),te(op,{class:"dark-toggle-desktop"}),te(Te(w4)),u("button",{class:"mobile-menu-btn",onClick:a,"aria-label":""},[u("span",{class:Ae(["hamburger",{active:r.value}])},[...p[7]||(p[7]=[u("span",null,null,-1),u("span",null,null,-1),u("span",null,null,-1)])],2)])])])]),u("main",D4,[te(g,null,{default:pe(({Component:b,route:T})=>[te(dt,{name:o.value,mode:"out-in"},{default:pe(()=>[(R(),Xe(zb(b),{key:T.path}))]),_:2},1032,["name"])]),_:1})]),te($0),te(Te(v4)),te(F_),te(sI),te(C4)],2)}}},O4=Ge(x4,[["__scopeId","data-v-a14feb47"]]),N4="modulepreload",M4=function(t){return"/"+t},Lm={},$4=function(e,n,s){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.allSettled(n.map(c=>{if(c=M4(c),c in Lm)return;Lm[c]=!0;const d=c.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":N4,d||(p.as="script"),p.crossOrigin="",p.href=c,a&&p.setAttribute("nonce",a),document.head.appendChild(p),d)return new Promise((m,g)=>{p.addEventListener("load",m),p.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return r.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},L4={class:"card-content"},F4={class:"card-icon"},U4={class:"card-title"},B4={class:"card-description"},q4={class:"card-footer"},j4={class:"products-count"},H4={__name:"CategoryCard",props:{category:{type:Object,required:!0}},setup(t){const e=t,n=ui(),s=Q(()=>n.getProductsByCategory(e.category.id).length);return(r,i)=>{const o=Gt("router-link");return R(),Xe(o,{to:t.category.id==="baking-workshops"?"/workshops":`/menu/${t.category.id}`,class:"category-card"},{default:pe(()=>[i[1]||(i[1]=u("div",{class:"card-background"},null,-1)),u("div",L4,[u("span",F4,x(t.category.icon),1),u("h3",U4,x(t.category.name),1),u("p",B4,x(t.category.description),1),u("div",q4,[u("span",j4,x(s.value)+" ",1),i[0]||(i[0]=u("span",{class:"card-arrow"},"",-1))])]),i[2]||(i[2]=u("div",{class:"card-shine"},null,-1))]),_:1},8,["to"])}}},z4=Ge(H4,[["__scopeId","data-v-368390c5"]]),W4={key:0,class:"popular-badge"},K4={class:"product-image"},G4={class:"product-emoji"},Q4={class:"product-info"},J4={class:"product-name"},Y4={class:"product-description"},X4={class:"product-footer"},Z4={class:"product-price"},eV={key:1,class:"quantity-controls"},tV={class:"qty-value"},nV={key:0,class:"added-indicator"},sV={__name:"ProductCard",props:{product:{type:Object,required:!0}},setup(t){const e=t,n=hn(),s=Ws(),r=ie(!1),i=Q(()=>n.cart.some(p=>p.id===e.product.id)),o=Q(()=>{const p=n.cart.find(m=>m.id===e.product.id);return(p==null?void 0:p.quantity)||0}),a=()=>{n.addToCart(e.product,1),r.value=!0,s.showSuccess(`${e.product.name}  `),setTimeout(()=>{r.value=!1},1500)},c=()=>{n.updateQuantity(e.product.id,o.value+1)},d=()=>{o.value>1?n.updateQuantity(e.product.id,o.value-1):n.removeFromCart(e.product.id)},h=()=>{};return(p,m)=>(R(),D("div",{class:Ae(["product-card",{"is-in-cart":i.value}]),onClick:h},[t.product.popular?(R(),D("span",W4,"   ")):ge("",!0),u("div",K4,[u("span",G4,x(t.product.image),1)]),u("div",Q4,[u("h4",J4,x(t.product.name),1),u("p",Y4,x(t.product.description),1),u("div",X4,[u("span",Z4,""+x(t.product.price),1),u("div",{class:"cart-actions",onClick:m[0]||(m[0]=Yt(()=>{},["stop"]))},[i.value?(R(),D("div",eV,[u("button",{class:"qty-btn minus",onClick:d},""),u("span",tV,x(o.value),1),u("button",{class:"qty-btn plus",onClick:c},"+")])):(R(),D("button",{key:0,class:"add-btn",onClick:a},[...m[1]||(m[1]=[u("span",{class:"add-icon"},"+",-1),u("span",{class:"add-text"},"",-1)])]))])])]),te(dt,{name:"pop"},{default:pe(()=>[r.value?(R(),D("div",nV,"  ")):ge("",!0)]),_:1})],2))}},sh=Ge(sV,[["__scopeId","data-v-b9901bdb"]]),rV={class:"category-section"},iV={class:"section-header"},oV={class:"header-content"},aV={class:"section-icon"},lV={class:"header-text"},cV={class:"section-title"},uV={class:"section-description"},dV={class:"products-grid"},hV={__name:"CategorySection",props:{category:{type:Object,required:!0},limit:{type:Number,default:4}},setup(t){const e=t,n=ui(),s=Q(()=>n.getPopularByCategory(e.category.id,e.limit));return(r,i)=>{const o=Gt("router-link");return R(),D("section",rV,[u("div",iV,[u("div",oV,[u("span",aV,x(t.category.icon),1),u("div",lV,[u("h2",cV,x(t.category.name),1),u("p",uV,x(t.category.description),1)])]),te(o,{to:`/menu/${t.category.id}`,class:"view-all-btn"},{default:pe(()=>[...i[0]||(i[0]=[le("   ",-1),u("span",{class:"btn-arrow"},"",-1)])]),_:1},8,["to"])]),u("div",dV,[(R(!0),D(Ee,null,Le(s.value,(a,c)=>(R(),Xe(sh,{key:a.id,product:a,style:rn({animationDelay:`${c*100}ms`}),class:"product-item"},null,8,["product","style"]))),128))]),te(o,{to:`/menu/${t.category.id}`,class:"view-more-mobile"},{default:pe(()=>[le("  "+x(t.category.name)+" ",1),i[1]||(i[1]=u("span",{class:"arrow"},"",-1))]),_:1},8,["to"])])}}},fV=Ge(hV,[["__scopeId","data-v-0cbaed3a"]]),pV={key:0,class:"tips-section"},mV={class:"tips-header"},gV={class:"tips-title"},_V={class:"tips-grid"},vV={class:"tip-icon"},yV={class:"tip-content"},bV={class:"tip-title"},EV={class:"tip-text"},wV={__name:"CategoryTips",props:{tips:{type:Array,default:()=>[]},categoryName:{type:String,default:""}},setup(t){return(e,n)=>t.tips&&t.tips.length>0?(R(),D("section",pV,[u("div",mV,[n[0]||(n[0]=u("span",{class:"tips-icon"},"",-1)),u("h3",gV," "+x(t.categoryName),1)]),u("div",_V,[(R(!0),D(Ee,null,Le(t.tips,(s,r)=>(R(),D("article",{key:r,class:"tip-card",style:rn({animationDelay:`${r*100}ms`})},[u("span",vV,x(s.icon),1),u("div",yV,[u("h4",bV,x(s.title),1),u("p",EV,x(s.text),1)])],4))),128))])])):ge("",!0)}},TV=Ge(wV,[["__scopeId","data-v-72541a31"]]),IV={class:"testimonials-section"},AV={key:0,class:"loading-state"},SV={class:"stats-row"},CV={class:"stat-item"},kV={class:"stat-number"},RV={class:"stat-item"},PV={class:"stat-number"},VV={class:"stat-stars"},DV={class:"testimonials-container"},xV=["disabled"],OV={class:"testimonials-track"},NV={class:"card-header"},MV={class:"avatar"},$V={class:"avatar-letter"},LV={class:"customer-info"},FV={class:"customer-name"},UV={class:"customer-location"},BV={class:"rating"},qV={class:"testimonial-text"},jV={class:"card-footer"},HV={class:"product-tag"},zV={key:0,class:"source-tag"},WV=["disabled"],KV={key:0,class:"dots"},GV=["onClick"],QV={key:2,class:"empty-state"},JV={class:"testimonials-cta"},YV={class:"form-group"},XV={class:"rating-input"},ZV=["onClick"],eD={class:"form-group"},tD={class:"form-group"},nD={class:"form-group"},sD={class:"form-group"},rD={class:"form-group"},iD=["disabled"],oD={key:0,class:"loading-spinner small"},aD={key:1},lD={__name:"TestimonialsSection",setup(t){const e=zn(),n=ie(0),s=ie(3),r=ie(!0),i=ie(!1),o=ie(!1),a=ie(!1),c=ie([]),d=[{id:"wa1",name:"Rabi Lary Shain.",location:" ",rating:5,text:"They are excelent!!  ",product:"",source:"",status:"approved"},{id:"wa2",name:"Levi Blumenfeld.",location:" ",rating:5,text:"was mamash deliciouse! Thanks very much!",product:"",source:"",status:"approved"},{id:"wa3",name:" .",location:" ",rating:5,text:"  !     .   ",product:"  ",source:"",status:"approved"},{id:"wa4",name:" .",location:"   '",rating:5,text:"      !     ",product:"   ",source:"",status:"approved"}],h=ie({name:"",phone:"",location:"",product:"",text:"",rating:0}),p=Q(()=>h.value.rating>0&&h.value.name.trim()!==""&&h.value.product.trim()!==""&&h.value.text.trim()!==""),m=Q(()=>c.value.length===0?"0":(c.value.reduce((E,I)=>E+I.rating,0)/c.value.length).toFixed(1)),g=Q(()=>{const A=parseFloat(m.value);return"".repeat(Math.round(A))}),b=Q(()=>Math.max(0,c.value.length-s.value)),T=Q(()=>Math.max(1,Math.ceil(c.value.length/s.value)));async function P(){r.value=!0;try{const A=await R2();c.value=[...A,...d]}catch(A){console.error("Error loading reviews:",A),c.value=d}finally{r.value=!1}}function O(){i.value=!0,document.body.style.overflow="hidden"}function B(){i.value=!1,document.body.style.overflow="",M()}function M(){h.value={name:"",phone:"",location:"",product:"",text:"",rating:0}}async function z(){if(p.value){a.value=!0;try{const A={...h.value,source:""};await k2(A),W2(A).catch(E=>{console.error("Email failed:",E)}),B(),o.value=!0,e.success("  ! ")}catch(A){console.error("Error submitting review:",A),e.error("  ,  ")}finally{a.value=!1}}}function se(){n.value<b.value&&n.value++}function ae(){n.value>0&&n.value--}function C(){window.innerWidth<640?s.value=1:window.innerWidth<1024?s.value=2:s.value=3,n.value>b.value&&(n.value=Math.max(0,b.value))}let w=null;function v(){c.value.length<=s.value||(w=setInterval(()=>{n.value<b.value?n.value++:n.value=0},5e3))}function S(){w&&clearInterval(w)}return Hs(async()=>{C(),window.addEventListener("resize",C),await P(),v()}),Do(()=>{window.removeEventListener("resize",C),S()}),(A,E)=>{const I=Gt("router-link");return R(),D("section",IV,[E[27]||(E[27]=u("div",{class:"section-header"},[u("span",{class:"section-icon"},""),u("h2",{class:"section-title"},"  "),u("p",{class:"section-subtitle"},"   ")],-1)),r.value?(R(),D("div",AV,[...E[9]||(E[9]=[u("div",{class:"loading-spinner"},null,-1),u("p",null," ...",-1)])])):c.value.length>0?(R(),D(Ee,{key:1},[u("div",SV,[u("div",CV,[u("span",kV,x(c.value.length),1),E[10]||(E[10]=u("span",{class:"stat-label"},"",-1))]),u("div",RV,[u("span",PV,x(m.value),1),E[11]||(E[11]=u("span",{class:"stat-label"}," ",-1)),u("div",VV,x(g.value),1)])]),u("div",DV,[u("button",{class:"nav-btn prev",onClick:ae,disabled:n.value===0},"",8,xV),u("div",OV,[u("div",{class:"testimonials-slider",style:rn({transform:`translateX(${n.value*(100/s.value)}%)`})},[(R(!0),D(Ee,null,Le(c.value,me=>(R(),D("div",{key:me.id,class:"testimonial-card"},[u("div",NV,[u("div",MV,[u("span",$V,x(me.name.charAt(0)),1)]),u("div",LV,[u("h4",FV,x(me.name),1),u("span",UV,x(me.location||" "),1)]),u("div",BV,[(R(),D(Ee,null,Le(5,Fe=>u("span",{key:Fe,class:Ae(["star",{filled:Fe<=me.rating}])},"  ",2)),64))])]),u("p",qV,'"'+x(me.text)+'"',1),u("div",jV,[u("span",HV,x(me.product),1),me.source?(R(),D("span",zV,[E[12]||(E[12]=u("span",{class:"source-icon"},"",-1)),le(" "+x(me.source),1)])):ge("",!0)])]))),128))],4)]),u("button",{class:"nav-btn next",onClick:se,disabled:n.value>=b.value},"",8,WV)]),T.value>1?(R(),D("div",KV,[(R(!0),D(Ee,null,Le(T.value,me=>(R(),D("button",{key:me,class:Ae(["dot",{active:n.value===me-1}]),onClick:Fe=>n.value=me-1},null,10,GV))),128))])):ge("",!0)],64)):(R(),D("div",QV,[...E[13]||(E[13]=[u("span",{class:"empty-icon"},"",-1),u("h3",null,"  !",-1),u("p",null,"  .      ",-1)])])),u("div",JV,[u("button",{class:"cta-btn primary",onClick:O},[...E[14]||(E[14]=[u("span",null,"",-1),le("  ",-1)])]),te(I,{to:"/menu",class:"cta-btn secondary"},{default:pe(()=>[...E[15]||(E[15]=[le("    ",-1)])]),_:1})]),(R(),Xe(hr,{to:"body"},[te(dt,{name:"fade"},{default:pe(()=>[i.value?(R(),D("div",{key:0,class:"modal-overlay",onClick:B},[u("div",{class:"modal-content",onClick:E[5]||(E[5]=Yt(()=>{},["stop"]))},[u("button",{class:"modal-close",onClick:B},""),E[23]||(E[23]=u("div",{class:"modal-header"},[u("span",{class:"modal-icon"},""),u("h3",null,"   "),u("p",null,"   !")],-1)),u("form",{onSubmit:Yt(z,["prevent"]),class:"review-form"},[u("div",YV,[E[16]||(E[16]=u("label",{class:"form-label"}," *",-1)),u("div",XV,[(R(),D(Ee,null,Le(5,me=>u("button",{key:me,type:"button",class:Ae(["rating-star",{active:me<=h.value.rating}]),onClick:Fe=>h.value.rating=me},"  ",10,ZV)),64))])]),u("div",eD,[E[17]||(E[17]=u("label",{class:"form-label"}," *",-1)),$e(u("input",{type:"text","onUpdate:modelValue":E[0]||(E[0]=me=>h.value.name=me),placeholder:" ",class:"form-input",required:""},null,512),[[at,h.value.name]])]),u("div",tD,[E[18]||(E[18]=u("label",{class:"form-label"},"",-1)),$e(u("input",{type:"tel","onUpdate:modelValue":E[1]||(E[1]=me=>h.value.phone=me),placeholder:"050-0000000",class:"form-input",dir:"ltr"},null,512),[[at,h.value.phone]])]),u("div",nD,[E[20]||(E[20]=u("label",{class:"form-label"}," ?",-1)),$e(u("select",{"onUpdate:modelValue":E[2]||(E[2]=me=>h.value.location=me),class:"form-input"},[...E[19]||(E[19]=[u("option",{value:""}," ",-1),u("option",{value:" "}," ",-1),u("option",{value:"   '"},"   '",-1),u("option",{value:"   '"},"   '",-1),u("option",{value:"   '"},"   '",-1),u("option",{value:" "}," ",-1),u("option",{value:""},"",-1)])],512),[[Pl,h.value.location]])]),u("div",sD,[E[21]||(E[21]=u("label",{class:"form-label"}," ? *",-1)),$e(u("input",{type:"text","onUpdate:modelValue":E[3]||(E[3]=me=>h.value.product=me),placeholder:":   ",class:"form-input",required:""},null,512),[[at,h.value.product]])]),u("div",rD,[E[22]||(E[22]=u("label",{class:"form-label"},"  *",-1)),$e(u("textarea",{"onUpdate:modelValue":E[4]||(E[4]=me=>h.value.text=me),placeholder:"   ...",class:"form-input form-textarea",rows:"4",required:""},null,512),[[at,h.value.text]])]),u("button",{type:"submit",class:"submit-btn",disabled:a.value||!p.value},[a.value?(R(),D("span",oD)):(R(),D("span",aD,"  "))],8,iD)],32)])])):ge("",!0)]),_:1})])),(R(),Xe(hr,{to:"body"},[te(dt,{name:"fade"},{default:pe(()=>[o.value?(R(),D("div",{key:0,class:"modal-overlay",onClick:E[8]||(E[8]=me=>o.value=!1)},[u("div",{class:"modal-content success-modal",onClick:E[7]||(E[7]=Yt(()=>{},["stop"]))},[E[24]||(E[24]=u("span",{class:"success-icon"},"",-1)),E[25]||(E[25]=u("h3",null," !",-1)),E[26]||(E[26]=u("p",null,"     ",-1)),u("button",{class:"close-btn",onClick:E[6]||(E[6]=me=>o.value=!1)},"")])])):ge("",!0)]),_:1})]))])}}},cD=Ge(lD,[["__scopeId","data-v-ccda6792"]]);function rh(){let t=null;function e(){const s={root:null,rootMargin:"0px",threshold:.1};t=new IntersectionObserver(i=>{i.forEach(o=>{o.isIntersecting&&(o.target.classList.add("animate-in"),t.unobserve(o.target))})},s),document.querySelectorAll(".animate-on-scroll").forEach(i=>t.observe(i))}function n(){t&&t.disconnect()}return Hs(()=>{setTimeout(e,100)}),Do(()=>{n()}),{initScrollAnimation:e,cleanup:n}}const uD={class:"home-page"},dD={class:"hero-section animate-on-scroll fade-up"},hD={class:"hero-content"},fD={class:"hero-text"},pD={class:"hero-actions"},mD={class:"hero-image"},gD=["src"],_D={class:"categories-section"},vD={class:"categories-grid"},yD={class:"category-icon"},bD={class:"category-name"},ED={class:"popular-section"},wD={class:"products-grid"},TD={class:"section-action animate-on-scroll fade-up"},ID={class:"animate-on-scroll fade-up"},AD={class:"cta-section animate-on-scroll zoom-in"},SD={class:"cta-card"},CD={class:"cta-content"},kD={__name:"Home",setup(t){rh(),Ln({title:" |  -    ",meta:[{name:"description",content:"  -  ,  , , ,   ,  .   ."}]});const e=ui(),n=Q(()=>e.categories),s=Q(()=>e.popularProducts.slice(0,8));return(r,i)=>{const o=Gt("router-link");return R(),D("div",uD,[u("section",dD,[i[4]||(i[4]=u("div",{class:"hero-background"},[u("div",{class:"hero-shape shape-1"}),u("div",{class:"hero-shape shape-2"}),u("div",{class:"hero-shape shape-3"})],-1)),u("div",hD,[u("div",fD,[i[2]||(i[2]=Bt('<h1 class="hero-title" data-v-745bd014>    <span class="brand-name" data-v-745bd014></span><span class="hero-emoji" data-v-745bd014></span></h1><p class="hero-subtitle" data-v-745bd014>      : , , ,      ,  . </p><div class="hero-badges" data-v-745bd014><span class="badge" data-v-745bd014><span class="badge-icon" data-v-745bd014></span>     </span><span class="badge" data-v-745bd014><span class="badge-icon" data-v-745bd014></span>   </span><span class="badge" data-v-745bd014><span class="badge-icon" data-v-745bd014></span>   </span></div>',3)),u("div",pD,[te(o,{to:"/menu",class:"btn-primary"},{default:pe(()=>[...i[0]||(i[0]=[u("span",null,"",-1),u("span",{class:"btn-arrow"},"",-1)])]),_:1}),te(o,{to:"/quote",class:"btn-secondary"},{default:pe(()=>[...i[1]||(i[1]=[le("    ",-1)])]),_:1})])]),u("div",mD,[u("img",{src:Te(b1),alt:" ",class:"logo-img"},null,8,gD),i[3]||(i[3]=Bt('<div class="floating-items" data-v-745bd014><span class="floating-item item-1" data-v-745bd014></span><span class="floating-item item-2" data-v-745bd014></span><span class="floating-item item-3" data-v-745bd014></span><span class="floating-item item-4" data-v-745bd014></span></div>',1))])])]),u("section",_D,[i[5]||(i[5]=u("div",{class:"section-header animate-on-scroll fade-up"},[u("h2",{class:"section-title"}," "),u("p",{class:"section-subtitle"},"    ")],-1)),u("div",vD,[(R(!0),D(Ee,null,Le(n.value,(a,c)=>(R(),Xe(o,{key:a.id,to:`/menu/${a.id}`,class:Ae(["category-preview animate-on-scroll zoom-in",`delay-${c%5+1}`]),style:rn({"--category-color":a.color})},{default:pe(()=>[u("span",yD,x(a.icon),1),u("span",bD,x(a.name),1)]),_:2},1032,["to","class","style"]))),128))])]),u("section",ED,[i[7]||(i[7]=u("div",{class:"section-header animate-on-scroll fade-up"},[u("h2",{class:"section-title"},"  "),u("p",{class:"section-subtitle"},"    ")],-1)),u("div",wD,[(R(!0),D(Ee,null,Le(s.value,(a,c)=>(R(),D("div",{key:a.id,class:Ae(["animate-on-scroll fade-up",`delay-${c%5+1}`])},[te(Te(sh),{product:a},null,8,["product"])],2))),128))]),u("div",TD,[te(o,{to:"/menu",class:"view-all-link"},{default:pe(()=>[...i[6]||(i[6]=[le("    ",-1),u("span",{class:"link-arrow"},"",-1)])]),_:1})])]),i[13]||(i[13]=Bt('<section class="features-section" data-v-745bd014><div class="section-header animate-on-scroll fade-up" data-v-745bd014><h2 class="section-title" data-v-745bd014> ?</h2></div><div class="features-grid" data-v-745bd014><div class="feature-card animate-on-scroll fade-up delay-1" data-v-745bd014><span class="feature-icon" data-v-745bd014></span><h3 class="feature-title" data-v-745bd014> </h3><p class="feature-text" data-v-745bd014>    ,  </p></div><div class="feature-card animate-on-scroll fade-up delay-2" data-v-745bd014><span class="feature-icon" data-v-745bd014></span><h3 class="feature-title" data-v-745bd014> </h3><p class="feature-text" data-v-745bd014>         </p></div><div class="feature-card animate-on-scroll fade-up delay-3" data-v-745bd014><span class="feature-icon" data-v-745bd014></span><h3 class="feature-title" data-v-745bd014>  </h3><p class="feature-text" data-v-745bd014>        </p></div><div class="feature-card animate-on-scroll fade-up delay-4" data-v-745bd014><span class="feature-icon" data-v-745bd014></span><h3 class="feature-title" data-v-745bd014> </h3><p class="feature-text" data-v-745bd014>  :  ,  , </p></div><div class="feature-card animate-on-scroll fade-up delay-5" data-v-745bd014><span class="feature-icon" data-v-745bd014></span><h3 class="feature-title" data-v-745bd014></h3><p class="feature-text" data-v-745bd014>     </p></div></div></section>',1)),u("div",ID,[te(cD)]),u("section",AD,[u("div",SD,[u("div",CD,[i[9]||(i[9]=u("span",{class:"cta-icon"},"",-1)),i[10]||(i[10]=u("h2",{class:"cta-title"}," ?",-1)),i[11]||(i[11]=u("p",{class:"cta-text"}," , , ,   -     !",-1)),te(o,{to:"/quote",class:"cta-btn"},{default:pe(()=>[...i[8]||(i[8]=[le("   ",-1),u("span",{class:"btn-arrow"},"",-1)])]),_:1})]),i[12]||(i[12]=u("div",{class:"cta-decoration"},[u("span",{class:"deco-item deco-1"},""),u("span",{class:"deco-item deco-2"},""),u("span",{class:"deco-item deco-3"},"")],-1))])])])}}},RD=Ge(kD,[["__scopeId","data-v-745bd014"]]),PD={class:"menu-page"},VD={class:"categories-section"},DD={class:"categories-grid"},xD={class:"previews-section"},OD={class:"cta-section"},ND={class:"cta-content"},MD={__name:"Menu",setup(t){rh(),Ln({title:" |  -    ",meta:[{name:"description",content:"  -  ,  , , ,   ,  .   ."}]});const e=ui(),n=Q(()=>e.categories);return(s,r)=>{const i=Gt("router-link");return R(),D("div",PD,[r[6]||(r[6]=u("header",{class:"page-header animate-on-scroll fade-up"},[u("h1",{class:"page-title"}," "),u("p",{class:"page-subtitle"},"   ,  ")],-1)),u("section",VD,[r[0]||(r[0]=u("h2",{class:"section-title animate-on-scroll fade-up"},"",-1)),u("div",DD,[(R(!0),D(Ee,null,Le(n.value,(o,a)=>(R(),Xe(Te(z4),{key:o.id,category:o,class:Ae(["animate-on-scroll fade-up",`delay-${a%5+1}`])},null,8,["category","class"]))),128))])]),r[7]||(r[7]=u("div",{class:"divider animate-on-scroll zoom-in"},[u("span",{class:"divider-icon"},"")],-1)),u("section",xD,[r[1]||(r[1]=u("h2",{class:"section-title"}," ",-1)),(R(!0),D(Ee,null,Le(n.value,o=>(R(),Xe(Te(fV),{key:o.id,category:o,limit:5},null,8,["category"]))),128))]),u("section",OD,[u("div",ND,[r[3]||(r[3]=u("span",{class:"cta-icon"},"",-1)),r[4]||(r[4]=u("h3",{class:"cta-title"},"   ?",-1)),r[5]||(r[5]=u("p",{class:"cta-text"},"      ",-1)),te(i,{to:"/quote",class:"cta-btn"},{default:pe(()=>[...r[2]||(r[2]=[le("    ",-1)])]),_:1})])])])}}},$D=Ge(MD,[["__scopeId","data-v-852fda12"]]),LD={key:0,class:"category-page"},FD={class:"breadcrumb"},UD={class:"breadcrumb-current"},BD={class:"header-content"},qD={class:"header-icon"},jD={class:"header-text"},HD={class:"page-title"},zD={class:"page-subtitle"},WD={class:"products-count"},KD={key:0,class:"subcategories-section"},GD={class:"subcategories-tabs"},QD=["onClick"],JD={class:"tab-icon"},YD={class:"filters-bar"},XD={class:"filter-group"},ZD={class:"sort-group"},ex={class:"products-section"},tx={key:0,class:"empty-state"},nx={class:"back-section"},sx={key:1,class:"not-found"},rx={__name:"MenuCategory",props:["categoryId"],setup(t){const e=t,n=ui(),s=Q(()=>n.getCategoryById(e.categoryId));Ln({title:Q(()=>{var m;return`${((m=s.value)==null?void 0:m.name)||""} |  -  `}),meta:[{name:"description",content:Q(()=>{var m;return`${((m=s.value)==null?void 0:m.description)||""} -     .   .`})}]});const r=$_(),i=ie("all"),o=ie(!1),a=ie("default"),c=Q(()=>n.dairySubcategories),d=Q(()=>n.getProductsByCategory(r.params.categoryId)),h=Q(()=>{var g;let m=[...d.value];switch((g=s.value)!=null&&g.hasSubcategories&&i.value!=="all"&&(m=m.filter(b=>b.subcategory===i.value)),o.value&&(m=m.filter(b=>b.popular)),a.value){case"price-low":m.sort((b,T)=>b.price-T.price);break;case"price-high":m.sort((b,T)=>T.price-b.price);break;case"name":m.sort((b,T)=>b.name.localeCompare(T.name,"he"));break;default:m.sort((b,T)=>(T.popular?1:0)-(b.popular?1:0))}return m}),p=()=>{i.value="all",o.value=!1,a.value="default"};return cn(()=>r.params.categoryId,()=>{p()}),(m,g)=>{var T;const b=Gt("router-link");return s.value?(R(),D("div",LD,[u("nav",FD,[te(b,{to:"/menu",class:"breadcrumb-link"},{default:pe(()=>[...g[3]||(g[3]=[le("",-1)])]),_:1}),g[4]||(g[4]=u("span",{class:"breadcrumb-separator"},"/",-1)),u("span",UD,x(s.value.name),1)]),u("header",{class:"page-header",style:rn({"--category-color":s.value.color})},[g[5]||(g[5]=u("div",{class:"header-background"},null,-1)),u("div",BD,[u("span",qD,x(s.value.icon),1),u("div",jD,[u("h1",HD,x(s.value.name),1),u("p",zD,x(s.value.description),1),u("span",WD,x(d.value.length)+" ",1)])])],4),s.value.hasSubcategories?(R(),D("div",KD,[u("div",GD,[u("button",{class:Ae(["subcategory-tab",{active:i.value==="all"}]),onClick:g[0]||(g[0]=P=>i.value="all")},"  ",2),(R(!0),D(Ee,null,Le(c.value,P=>(R(),D("button",{key:P.id,class:Ae(["subcategory-tab",{active:i.value===P.id}]),onClick:O=>i.value=P.id},[u("span",JD,x(P.icon),1),le(" "+x(P.name),1)],10,QD))),128))])])):ge("",!0),u("div",YD,[u("div",XD,[u("button",{class:Ae(["filter-btn",{active:o.value}]),onClick:g[1]||(g[1]=P=>o.value=!o.value)},"   ",2)]),u("div",ZD,[g[7]||(g[7]=u("label",{class:"sort-label"},":",-1)),$e(u("select",{"onUpdate:modelValue":g[2]||(g[2]=P=>a.value=P),class:"sort-select"},[...g[6]||(g[6]=[u("option",{value:"default"}," ",-1),u("option",{value:"price-low"},":  ",-1),u("option",{value:"price-high"},":  ",-1),u("option",{value:"name"}," ",-1)])],512),[[Pl,a.value]])])]),u("div",ex,[te(zs,{name:"products",tag:"div",class:"products-grid"},{default:pe(()=>[(R(!0),D(Ee,null,Le(h.value,P=>(R(),Xe(Te(sh),{key:P.id,product:P},null,8,["product"]))),128))]),_:1}),h.value.length===0?(R(),D("div",tx,[g[8]||(g[8]=u("span",{class:"empty-icon"},"",-1)),g[9]||(g[9]=u("h3",null,"  ",-1)),g[10]||(g[10]=u("p",null,"   ",-1)),u("button",{class:"reset-btn",onClick:p}," ")])):ge("",!0)]),u("div",nx,[te(b,{to:"/menu",class:"back-link"},{default:pe(()=>[...g[11]||(g[11]=[u("span",{class:"back-arrow"},"",-1),le("   ",-1)])]),_:1})]),(T=s.value)!=null&&T.tips?(R(),Xe(Te(TV),{key:1,tips:s.value.tips,categoryName:s.value.name},null,8,["tips","categoryName"])):ge("",!0)])):(R(),D("div",sx,[g[13]||(g[13]=u("span",{class:"not-found-icon"},"",-1)),g[14]||(g[14]=u("h2",null,"  ",-1)),te(b,{to:"/menu",class:"back-btn"},{default:pe(()=>[...g[12]||(g[12]=[le(" ",-1)])]),_:1})]))}}},ix=Ge(rx,[["__scopeId","data-v-662341d4"]]),ox={class:"gallery-page"},ax={class:"filter-tabs"},lx=["onClick"],cx={class:"filter-icon"},ux={class:"filter-label"},dx={class:"gallery-grid"},hx=["onClick"],fx={class:"image-placeholder"},px={class:"placeholder-icon"},mx={class:"placeholder-text"},gx={class:"image-overlay"},_x={class:"overlay-text"},vx={class:"overlay-category"},yx={key:0,class:"empty-state"},bx={class:"cta-section"},Ex={class:"cta-content"},wx={class:"cta-buttons"},Tx={class:"lightbox-image"},Ix={class:"lightbox-icon"},Ax={class:"lightbox-title"},Sx={class:"lightbox-info"},Cx={class:"lightbox-category"},kx={class:"lightbox-counter"},Rx={__name:"Gallery",setup(t){Ln({title:" |  -    ",meta:[{name:"description",content:"  -  ,  , , ,   ,  .   ."}]});const e=ie("all"),n=ie(!1),s=ie(0),r=[{id:"all",name:"",icon:""},{id:"cakes",name:"",icon:""},{id:"cookies",name:"",icon:""},{id:"pastries",name:"",icon:""},{id:"workshops",name:"",icon:""},{id:"events",name:"",icon:""}],i=ie([{id:1,icon:"",title:"  ",description:"    ",category:"cakes",categoryName:"",size:"large"},{id:2,icon:"",title:"  ",description:"  ",category:"cookies",categoryName:"",size:"small"},{id:3,icon:"",title:" ",description:"  ",category:"cakes",categoryName:"",size:"small"},{id:4,icon:"",title:" ",description:" ",category:"pastries",categoryName:"",size:"medium"},{id:5,icon:"",title:" ",description:"  ",category:"cakes",categoryName:"",size:"large"},{id:6,icon:"",title:"  ",description:"  ",category:"workshops",categoryName:"",size:"medium"},{id:7,icon:"",title:" ",description:"  ",category:"cakes",categoryName:"",size:"small"},{id:8,icon:"",title:" ",description:"  ",category:"pastries",categoryName:"",size:"small"},{id:9,icon:"",title:"  ",description:"  ",category:"events",categoryName:"",size:"large"},{id:10,icon:"",title:" ",description:"  ",category:"cookies",categoryName:"",size:"medium"},{id:11,icon:"",title:" ",description:" ",category:"workshops",categoryName:"",size:"small"},{id:12,icon:"",title:"  ",description:"   ",category:"events",categoryName:"",size:"medium"}]),o=Q(()=>e.value==="all"?i.value:i.value.filter(m=>m.category===e.value)),a=Q(()=>o.value[s.value]);function c(m){s.value=m,n.value=!0,document.body.style.overflow="hidden"}function d(){n.value=!1,document.body.style.overflow=""}function h(){s.value=(s.value+1)%o.value.length}function p(){s.value=(s.value-1+o.value.length)%o.value.length}return document.addEventListener("keydown",m=>{n.value&&(m.key==="Escape"&&d(),m.key==="ArrowRight"&&p(),m.key==="ArrowLeft"&&h())}),(m,g)=>{const b=Gt("router-link");return R(),D("div",ox,[g[8]||(g[8]=u("header",{class:"page-header"},[u("h1",{class:"page-title"}," "),u("p",{class:"page-subtitle"},"   - ,   ")],-1)),u("div",ax,[(R(),D(Ee,null,Le(r,T=>u("button",{key:T.id,class:Ae(["filter-tab",{active:e.value===T.id}]),onClick:P=>e.value=T.id},[u("span",cx,x(T.icon),1),u("span",ux,x(T.name),1)],10,lx)),64))]),u("div",dx,[te(zs,{name:"gallery"},{default:pe(()=>[(R(!0),D(Ee,null,Le(o.value,(T,P)=>(R(),D("div",{key:T.id,class:Ae(["gallery-item",T.size]),onClick:O=>c(P)},[u("div",fx,[u("span",px,x(T.icon),1),u("span",mx,x(T.title),1)]),u("div",gx,[g[1]||(g[1]=u("span",{class:"overlay-icon"},"",-1)),u("span",_x,x(T.title),1),u("span",vx,x(T.categoryName),1)])],10,hx))),128))]),_:1})]),o.value.length===0?(R(),D("div",yx,[...g[2]||(g[2]=[u("span",{class:"empty-icon"},"",-1),u("h3",null,"   ",-1),u("p",null,"   !",-1)])])):ge("",!0),u("section",bx,[u("div",Ex,[g[5]||(g[5]=u("span",{class:"cta-icon"},"",-1)),g[6]||(g[6]=u("h3",{class:"cta-title"},"     ?",-1)),g[7]||(g[7]=u("p",{class:"cta-text"},"      !",-1)),u("div",wx,[te(b,{to:"/menu",class:"cta-btn primary"},{default:pe(()=>[...g[3]||(g[3]=[le("  ",-1)])]),_:1}),te(b,{to:"/quote",class:"cta-btn secondary"},{default:pe(()=>[...g[4]||(g[4]=[le("   ",-1)])]),_:1})])])]),(R(),Xe(hr,{to:"body"},[te(dt,{name:"fade"},{default:pe(()=>{var T,P,O,B,M;return[n.value?(R(),D("div",{key:0,class:"lightbox-overlay",onClick:d},[u("button",{class:"lightbox-close",onClick:d},""),u("button",{class:"lightbox-nav prev",onClick:Yt(p,["stop"])},""),u("button",{class:"lightbox-nav next",onClick:Yt(h,["stop"])},""),u("div",{class:"lightbox-content",onClick:g[0]||(g[0]=Yt(()=>{},["stop"]))},[u("div",Tx,[u("span",Ix,x((T=a.value)==null?void 0:T.icon),1),u("span",Ax,x((P=a.value)==null?void 0:P.title),1)]),u("div",Sx,[u("h3",null,x((O=a.value)==null?void 0:O.title),1),u("p",null,x((B=a.value)==null?void 0:B.description),1),u("span",Cx,x((M=a.value)==null?void 0:M.categoryName),1)])]),u("div",kx,x(s.value+1)+" / "+x(o.value.length),1)])):ge("",!0)]}),_:1})]))])}}},Px=Ge(Rx,[["__scopeId","data-v-af19162a"]]),Vx="/assets/margalit-BTb--0La.jpg",Dx={class:"about-page"},xx={class:"contact-section animate-on-scroll zoom-in"},Ox={class:"contact-card"},Nx={class:"contact-buttons"},Mx={__name:"About",setup(t){return rh(),Ln({title:" |  -    ",meta:[{name:"description",content:" -    .   ,  ,   .   ."}]}),(e,n)=>{const s=Gt("router-link");return R(),D("div",Dx,[n[6]||(n[6]=Bt('<header class="page-header animate-on-scroll fade-up" data-v-7e4af4cd><span class="header-icon" data-v-7e4af4cd></span><h1 class="page-title" data-v-7e4af4cd> </h1><p class="page-subtitle" data-v-7e4af4cd>     </p></header><section class="story-section animate-on-scroll fade-up" data-v-7e4af4cd><div class="story-card" data-v-7e4af4cd><div class="owner-image" data-v-7e4af4cd><img src="'+Vx+'" alt=" -   " data-v-7e4af4cd></div><h2 data-v-7e4af4cd>,  ! </h2><p data-v-7e4af4cd>  ,  ,       .     ,   . </p><p data-v-7e4af4cd>          ,    ,   .     ,  ,      . </p></div></section><section class="values-section" data-v-7e4af4cd><h2 class="section-title animate-on-scroll fade-up" data-v-7e4af4cd> </h2><div class="values-grid" data-v-7e4af4cd><div class="value-card animate-on-scroll fade-up delay-1" data-v-7e4af4cd><span class="value-icon" data-v-7e4af4cd></span><h3 data-v-7e4af4cd>  </h3><p data-v-7e4af4cd>       -  </p></div><div class="value-card animate-on-scroll fade-up delay-2" data-v-7e4af4cd><span class="value-icon" data-v-7e4af4cd></span><h3 data-v-7e4af4cd>  </h3><p data-v-7e4af4cd>        </p></div><div class="value-card animate-on-scroll fade-up delay-3" data-v-7e4af4cd><span class="value-icon" data-v-7e4af4cd></span><h3 data-v-7e4af4cd>  </h3><p data-v-7e4af4cd>         </p></div><div class="value-card animate-on-scroll fade-up delay-4" data-v-7e4af4cd><span class="value-icon" data-v-7e4af4cd></span><h3 data-v-7e4af4cd> </h3><p data-v-7e4af4cd>       </p></div></div></section><section class="kashrut-section animate-on-scroll fade-up" data-v-7e4af4cd><div class="kashrut-card" data-v-7e4af4cd><div class="kashrut-icon" data-v-7e4af4cd></div><h2 data-v-7e4af4cd> </h2><div class="kashrut-content" data-v-7e4af4cd><div class="kashrut-item" data-v-7e4af4cd><span class="item-icon" data-v-7e4af4cd></span><span data-v-7e4af4cd>    </span></div><div class="kashrut-item" data-v-7e4af4cd><span class="item-icon" data-v-7e4af4cd></span><span data-v-7e4af4cd>     </span></div><div class="kashrut-item" data-v-7e4af4cd><span class="item-icon" data-v-7e4af4cd></span><span data-v-7e4af4cd>   </span></div><div class="kashrut-item" data-v-7e4af4cd><span class="item-icon" data-v-7e4af4cd></span><span data-v-7e4af4cd>   </span></div><div class="kashrut-item" data-v-7e4af4cd><span class="item-icon" data-v-7e4af4cd></span><span data-v-7e4af4cd>  </span></div></div></div></section><section class="services-section animate-on-scroll fade-up" data-v-7e4af4cd><h2 class="section-title" data-v-7e4af4cd>  </h2><div class="services-grid" data-v-7e4af4cd><div class="service-card" data-v-7e4af4cd><span class="service-icon" data-v-7e4af4cd></span><h3 data-v-7e4af4cd></h3><p data-v-7e4af4cd>   , / ,  </p></div><div class="service-card" data-v-7e4af4cd><span class="service-icon" data-v-7e4af4cd></span><h3 data-v-7e4af4cd> </h3><p data-v-7e4af4cd>,     </p></div><div class="service-card" data-v-7e4af4cd><span class="service-icon" data-v-7e4af4cd></span><h3 data-v-7e4af4cd> </h3><p data-v-7e4af4cd>    -   </p></div><div class="service-card" data-v-7e4af4cd><span class="service-icon" data-v-7e4af4cd></span><h3 data-v-7e4af4cd></h3><p data-v-7e4af4cd>     </p></div></div></section>',5)),u("section",xx,[u("div",Ox,[n[3]||(n[3]=u("h2",null," ?",-1)),n[4]||(n[4]=u("p",null,"  !",-1)),u("div",Nx,[n[1]||(n[1]=u("a",{href:"https://wa.me/972528460331",target:"_blank",class:"contact-btn whatsapp"},[u("span",null,""),le("  ")],-1)),n[2]||(n[2]=u("a",{href:"tel:0528460331",class:"contact-btn phone"},[u("span",null,""),le(" 052-846-0331 ")],-1)),te(s,{to:"/menu",class:"contact-btn menu"},{default:pe(()=>[...n[0]||(n[0]=[u("span",null,"",-1),le("  ",-1)])]),_:1})]),n[5]||(n[5]=u("div",{class:"contact-address"},[u("span",null,""),le("  ,  ")],-1))])])])}}},$x=Ge(Mx,[["__scopeId","data-v-7e4af4cd"]]),Lx={class:"progress-steps"},Fx={class:"progress-track"},Ux={class:"steps-container"},Bx=["onClick"],qx={class:"step-indicator"},jx={key:0,class:"step-check"},Hx={key:1,class:"step-number"},zx={class:"step-content"},Wx={class:"step-title"},Kx={key:0,class:"step-subtitle"},Gx={__name:"ProgressSteps",props:{steps:{type:Array,required:!0},currentStep:{type:Number,default:1},clickable:{type:Boolean,default:!1}},emits:["step-click"],setup(t,{emit:e}){const n=t,s=e,r=Q(()=>{const o=n.steps.length,a=(n.currentStep-1)/(o-1)*100;return`${Math.min(100,Math.max(0,a))}%`}),i=o=>{n.clickable&&o<n.currentStep&&s("step-click",o)};return(o,a)=>(R(),D("div",Lx,[u("div",Fx,[u("div",{class:"progress-fill",style:rn({width:r.value})},null,4)]),u("div",Ux,[(R(!0),D(Ee,null,Le(t.steps,(c,d)=>(R(),D("div",{key:d,class:Ae(["step",{"step-completed":d+1<t.currentStep,"step-active":d+1===t.currentStep,"step-pending":d+1>t.currentStep}]),onClick:h=>i(d+1)},[u("div",qx,[d+1<t.currentStep?(R(),D("span",jx,"")):(R(),D("span",Hx,x(d+1),1)),a[0]||(a[0]=u("div",{class:"step-pulse"},null,-1))]),u("div",zx,[u("div",Wx,x(c.title),1),c.subtitle?(R(),D("div",Kx,x(c.subtitle),1)):ge("",!0)])],10,Bx))),128))])]))}},Qx=Ge(Gx,[["__scopeId","data-v-b8b514c7"]]),Jx=["disabled"],Yx={class:"btn-content"},Xx={key:0,class:"spinner"},Zx={key:1,class:"btn-icon"},eO={__name:"AnimatedButton",props:{variant:{type:String,default:"primary",validator:t=>["primary","secondary","outline","ghost"].includes(t)},size:{type:String,default:"md",validator:t=>["sm","md","lg"].includes(t)},loading:Boolean,disabled:Boolean,icon:String},emits:["click"],setup(t,{emit:e}){const n=t,s=e,r=i=>{!n.loading&&!n.disabled&&s("click",i)};return(i,o)=>(R(),D("button",{class:Ae(["animated-btn",`btn-${t.variant}`,`btn-${t.size}`,{"btn-loading":t.loading,"btn-disabled":t.disabled}]),disabled:t.disabled||t.loading,onClick:r},[o[0]||(o[0]=u("span",{class:"btn-bg"},null,-1)),u("span",Yx,[t.loading?(R(),D("span",Xx)):ge("",!0),t.icon&&!t.loading?(R(),D("span",Zx,x(t.icon),1)):ge("",!0),Wb(i.$slots,"default",{},void 0)]),o[1]||(o[1]=u("span",{class:"btn-shine"},null,-1))],10,Jx))}},ao=Ge(eO,[["__scopeId","data-v-e6903b93"]]),tO={class:"products-step"},nO={class:"category-tabs"},sO=["onClick"],rO=["onClick"],iO={class:"product-emoji"},oO={class:"product-info"},aO={class:"product-name"},lO={class:"product-price"},cO=["onClick"],uO={class:"qty-value"},dO=["onClick"],hO={class:"product-check"},fO={key:0},pO={key:1,class:"popular-badge"},mO={key:0,class:"cart-summary"},gO={class:"summary-content"},_O={class:"summary-count"},vO={class:"summary-total"},yO={__name:"StepProducts",setup(t){const e=hn(),n=["","","","",""],s=ie(""),r=Q(()=>s.value===""?e.products:e.products.filter(m=>m.category===s.value)),i=Q(()=>e.cartItemCount),o=Q(()=>e.cartTotal),a=m=>e.cart.some(g=>g.id===m),c=m=>{const g=e.cart.find(b=>b.id===m);return(g==null?void 0:g.quantity)||0},d=m=>{a(m.id)?e.removeFromCart(m.id):e.addToCart(m,1)},h=m=>{const g=e.cart.find(b=>b.id===m);g&&e.updateQuantity(m,g.quantity+1)},p=m=>{const g=e.cart.find(b=>b.id===m);g&&g.quantity>1?e.updateQuantity(m,g.quantity-1):e.removeFromCart(m)};return(m,g)=>(R(),D("div",tO,[g[1]||(g[1]=u("h3",{class:"step-title"}," ",-1)),g[2]||(g[2]=u("p",{class:"step-description"},"    ",-1)),u("div",nO,[(R(),D(Ee,null,Le(n,b=>u("button",{key:b,class:Ae(["category-tab",{active:s.value===b}]),onClick:T=>s.value=b},x(b),11,sO)),64))]),te(zs,{name:"products",tag:"div",class:"products-grid"},{default:pe(()=>[(R(!0),D(Ee,null,Le(r.value,b=>(R(),D("div",{key:b.id,class:Ae(["product-card",{selected:a(b.id)}]),onClick:T=>d(b)},[u("div",iO,x(b.image),1),u("div",oO,[u("div",aO,x(b.name),1),u("div",lO,""+x(b.price),1)]),a(b.id)?(R(),D("div",{key:0,class:"product-quantity",onClick:g[0]||(g[0]=Yt(()=>{},["stop"]))},[u("button",{class:"qty-btn",onClick:T=>p(b.id)},"-",8,cO),u("span",uO,x(c(b.id)),1),u("button",{class:"qty-btn",onClick:T=>h(b.id)},"+",8,dO)])):ge("",!0),u("div",hO,[a(b.id)?(R(),D("span",fO,"")):ge("",!0)]),b.popular?(R(),D("span",pO,"")):ge("",!0)],10,rO))),128))]),_:1}),i.value>0?(R(),D("div",mO,[u("div",gO,[u("span",_O,x(i.value)+" ",1),u("span",vO,'": '+x(o.value),1)])])):ge("",!0)]))}},bO=Ge(yO,[["__scopeId","data-v-c0e4e449"]]),ba={required:t=>Array.isArray(t)?t.length>0:typeof t=="string"?t.trim().length>0:t!=null,email:t=>t?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t):!0,phone:t=>t?/^[\d\-\+\s\(\)]{9,15}$/.test(t.replace(/\s/g,"")):!0,minLength:t=>e=>e?e.length>=t:!0,maxLength:t=>e=>e?e.length<=t:!0,min:t=>e=>e===""||e===null?!0:Number(e)>=t,max:t=>e=>e===""||e===null?!0:Number(e)<=t,pattern:t=>e=>e?t.test(e):!0},Ea={required:" ",email:"   ",phone:"   ",minLength:t=>` ${t} `,maxLength:t=>` ${t} `,min:t=>` : ${t}`,max:t=>` : ${t}`,pattern:"  "};function EO(t){const e=Os({}),n=Os({}),s=ie(!1),r=ie(0);Object.keys(t).forEach(b=>{e[b]=[],n[b]=!1});const i=(b,T)=>{var B;const P=t[b];if(!P)return[];const O=[];for(const M of P){let z=!0,se="";if(typeof M=="string")z=((B=ba[M])==null?void 0:B.call(ba,T))??!0,se=Ea[M];else if(typeof M=="object"){const[ae,C]=Object.entries(M)[0],w=ba[ae];if(typeof w=="function"){const v=w(C);z=typeof v=="function"?v(T):v,se=typeof Ea[ae]=="function"?Ea[ae](C):Ea[ae]}}else if(typeof M=="function"){const ae=M(T);typeof ae=="string"?(z=!1,se=ae):(z=ae,se="  ")}z||O.push(se)}return e[b]=O,O},o=b=>{let T=!0;for(const P of Object.keys(t)){const O=b[P];n[P]=!0,i(P,O).length>0&&(T=!1)}return T},a=(b,T)=>{n[b]=!0,i(b,T)},c=(b,T)=>{n[b]&&i(b,T)},d=()=>{Object.keys(t).forEach(b=>{e[b]=[],n[b]=!1}),r.value=0},h=Q(()=>Object.values(e).every(b=>b.length===0)),p=Q(()=>Object.values(e).some(b=>b.length>0));return{errors:e,touched:n,isSubmitting:s,submitCount:r,isValid:h,hasErrors:p,validateField:i,validateAll:o,handleBlur:a,handleChange:c,resetValidation:d,getFieldError:b=>{var T;return n[b]&&((T=e[b])==null?void 0:T[0])},isFieldValid:b=>{var T;return n[b]&&((T=e[b])==null?void 0:T.length)===0}}}const wO={customerInfo:{name:["required",{minLength:2}],phone:["required","phone"],email:["required","email"],address:[]}},TO={key:0,class:"required-mark"},IO={class:"input-container"},AO={key:0,class:"input-icon"},SO=["type","value","placeholder","required","disabled"],CO=["value","placeholder","required","disabled","rows"],kO={key:3,class:"validation-icon valid"},RO={key:4,class:"validation-icon invalid"},PO={key:0,class:"error-message"},VO={__name:"AnimatedInput",props:{modelValue:[String,Number],label:String,placeholder:String,type:{type:String,default:"text"},icon:String,required:Boolean,disabled:Boolean,error:String,isValid:Boolean,showValidation:{type:Boolean,default:!0},rows:{type:Number,default:4}},emits:["update:modelValue","focus","blur"],setup(t,{emit:e}){const n=t,s=e,r=ie(null),i=ie(!1),o=`input-${Math.random().toString(36).substr(2,9)}`,a=Q(()=>n.modelValue!==""&&n.modelValue!==null&&n.modelValue!==void 0),c=p=>{s("update:modelValue",p.target.value)},d=p=>{i.value=!0,s("focus",p)},h=p=>{i.value=!1,s("blur",p)};return(p,m)=>(R(),D("div",{class:Ae(["input-wrapper",{focused:i.value,"has-value":a.value,"has-error":t.error,"is-valid":t.isValid}])},[t.label?(R(),D("label",{key:0,for:o,class:"input-label"},[le(x(t.label)+" ",1),t.required?(R(),D("span",TO,"*")):ge("",!0)])):ge("",!0),u("div",IO,[t.icon?(R(),D("span",AO,x(t.icon),1)):ge("",!0),t.type!=="textarea"?(R(),D("input",{key:1,id:o,ref_key:"inputRef",ref:r,type:t.type,value:t.modelValue,placeholder:t.placeholder,required:t.required,disabled:t.disabled,class:"input-field",onInput:c,onFocus:d,onBlur:h},null,40,SO)):(R(),D("textarea",{key:2,id:o,ref_key:"inputRef",ref:r,value:t.modelValue,placeholder:t.placeholder,required:t.required,disabled:t.disabled,rows:t.rows,class:"input-field textarea",onInput:c,onFocus:d,onBlur:h},null,40,CO)),t.isValid&&t.showValidation?(R(),D("span",kO,"")):ge("",!0),t.error&&t.showValidation?(R(),D("span",RO,"!")):ge("",!0)]),te(dt,{name:"slide-fade"},{default:pe(()=>[t.error?(R(),D("span",PO,x(t.error),1)):ge("",!0)]),_:1}),m[0]||(m[0]=u("div",{class:"focus-line"},null,-1))],2))}},wa=Ge(VO,[["__scopeId","data-v-76a100af"]]),DO={class:"details-step"},xO={class:"form-row"},OO={class:"form-grid"},NO={class:"form-row"},MO={__name:"StepDetails",setup(t,{expose:e}){const n=hn(),s=EO(wO.customerInfo),r=Os({name:"",phone:"",email:"",address:""});return Hs(()=>{n.customerInfo.name&&(r.name=n.customerInfo.name),n.customerInfo.phone&&(r.phone=n.customerInfo.phone),n.customerInfo.email&&(r.email=n.customerInfo.email),n.customerInfo.address&&(r.address=n.customerInfo.address)}),cn(r,i=>{n.setCustomerInfo(i)},{deep:!0}),e({validate:()=>s.validateAll(r)}),(i,o)=>(R(),D("div",DO,[o[8]||(o[8]=u("h3",{class:"step-title"}," ",-1)),o[9]||(o[9]=u("p",{class:"step-description"},"    ",-1)),u("form",{onSubmit:o[7]||(o[7]=Yt(()=>{},["prevent"])),class:"details-form"},[u("div",xO,[te(wa,{modelValue:r.name,"onUpdate:modelValue":o[0]||(o[0]=a=>r.name=a),label:" ",placeholder:"  ",icon:"",required:"",error:Te(s).getFieldError("name"),"is-valid":Te(s).isFieldValid("name"),onBlur:o[1]||(o[1]=a=>Te(s).handleBlur("name",r.name))},null,8,["modelValue","error","is-valid"])]),u("div",OO,[te(wa,{modelValue:r.phone,"onUpdate:modelValue":o[2]||(o[2]=a=>r.phone=a),label:"",placeholder:"050-0000000",type:"tel",icon:"",required:"",error:Te(s).getFieldError("phone"),"is-valid":Te(s).isFieldValid("phone"),onBlur:o[3]||(o[3]=a=>Te(s).handleBlur("phone",r.phone))},null,8,["modelValue","error","is-valid"]),te(wa,{modelValue:r.email,"onUpdate:modelValue":o[4]||(o[4]=a=>r.email=a),label:"",placeholder:"you@example.com",type:"email",icon:"",required:"",error:Te(s).getFieldError("email"),"is-valid":Te(s).isFieldValid("email"),onBlur:o[5]||(o[5]=a=>Te(s).handleBlur("email",r.email))},null,8,["modelValue","error","is-valid"])]),u("div",NO,[te(wa,{modelValue:r.address,"onUpdate:modelValue":o[6]||(o[6]=a=>r.address=a),label:"  ()",placeholder:",  ",icon:""},null,8,["modelValue"])])],32),o[10]||(o[10]=u("div",{class:"form-tips"},[u("div",{class:"tip"},[u("span",{class:"tip-icon"},""),u("span",{class:"tip-text"},"   24    ")])],-1))]))}},$O=Ge(MO,[["__scopeId","data-v-9e664487"]]),LO={class:"review-step"},FO={class:"review-sections"},UO={class:"review-section"},BO={class:"section-header"},qO={class:"section-content"},jO={class:"info-row"},HO={class:"info-value"},zO={class:"info-row"},WO={class:"info-value"},KO={class:"info-row"},GO={class:"info-value"},QO={key:0,class:"info-row"},JO={class:"info-value"},YO={class:"review-section"},XO={class:"section-header"},ZO={class:"section-content"},eN={class:"item-emoji"},tN={class:"item-details"},nN={class:"item-name"},sN={class:"item-meta"},rN={class:"item-qty"},iN={class:"item-price"},oN={class:"review-section"},aN={class:"section-content"},lN={class:"form-field"},cN={class:"form-field"},uN={class:"total-section"},dN={class:"total-row"},hN={class:"total-row total-final"},fN={class:"total-price"},pN={__name:"StepReview",emits:["edit-step"],setup(t){const e=hn(),n=Q(()=>e.customerInfo),s=Q(()=>e.cart),r=Q(()=>e.cartItemCount),i=Q(()=>e.cartTotal),o=Q({get:()=>e.orderDate,set:c=>e.orderDate=c}),a=Q({get:()=>e.specialRequests,set:c=>e.specialRequests=c});return(c,d)=>(R(),D("div",LO,[d[17]||(d[17]=u("h3",{class:"step-title"}," ",-1)),d[18]||(d[18]=u("p",{class:"step-description"},"    ",-1)),u("div",FO,[u("div",UO,[u("div",BO,[d[4]||(d[4]=u("span",{class:"section-icon"},"",-1)),d[5]||(d[5]=u("h4",null," ",-1)),u("button",{class:"edit-btn",onClick:d[0]||(d[0]=h=>c.$emit("edit-step",2))},"")]),u("div",qO,[u("div",jO,[d[6]||(d[6]=u("span",{class:"info-label"},":",-1)),u("span",HO,x(n.value.name),1)]),u("div",zO,[d[7]||(d[7]=u("span",{class:"info-label"},":",-1)),u("span",WO,x(n.value.phone),1)]),u("div",KO,[d[8]||(d[8]=u("span",{class:"info-label"},":",-1)),u("span",GO,x(n.value.email),1)]),n.value.address?(R(),D("div",QO,[d[9]||(d[9]=u("span",{class:"info-label"},":",-1)),u("span",JO,x(n.value.address),1)])):ge("",!0)])]),u("div",YO,[u("div",XO,[d[10]||(d[10]=u("span",{class:"section-icon"},"",-1)),u("h4",null," ("+x(r.value)+")",1),u("button",{class:"edit-btn",onClick:d[1]||(d[1]=h=>c.$emit("edit-step",1))},"")]),u("div",ZO,[te(zs,{name:"cart-item",tag:"div",class:"cart-items"},{default:pe(()=>[(R(!0),D(Ee,null,Le(s.value,h=>(R(),D("div",{key:h.id,class:"cart-item"},[u("span",eN,x(h.image),1),u("div",tN,[u("div",nN,x(h.name),1),u("div",sN,[u("span",rN,x(h.quantity)+" '",1),u("span",iN,""+x(h.price*h.quantity),1)])])]))),128))]),_:1})])]),u("div",oN,[d[13]||(d[13]=u("div",{class:"section-header"},[u("span",{class:"section-icon"},""),u("h4",null," ")],-1)),u("div",aN,[u("div",lN,[d[11]||(d[11]=u("label",null,"  ()",-1)),$e(u("input",{type:"date","onUpdate:modelValue":d[2]||(d[2]=h=>o.value=h),class:"date-input"},null,512),[[at,o.value]])]),u("div",cN,[d[12]||(d[12]=u("label",null," ",-1)),$e(u("textarea",{"onUpdate:modelValue":d[3]||(d[3]=h=>a.value=h),rows:"3",placeholder:", ,  ...",class:"notes-input"},null,512),[[at,a.value]])])])]),u("div",uN,[u("div",dN,[d[14]||(d[14]=u("span",null,'" :',-1)),u("span",null,""+x(i.value),1)]),u("div",hN,[d[15]||(d[15]=u("span",null,'"  ():',-1)),u("span",fN,""+x(i.value),1)]),d[16]||(d[16]=u("p",{class:"total-note"},"*     ",-1))])])]))}},mN=Ge(pN,[["__scopeId","data-v-24a0585b"]]),gN={class:"success-step"},_N={class:"success-animation"},vN={class:"confetti"},yN={class:"order-reference"},bN={class:"ref-number"},EN={class:"success-actions"},wN={__name:"StepSuccess",emits:["new-order"],setup(t){const e=M_(),n=hn(),s=Q(()=>{const o=n.orderHistory[0];return(o==null?void 0:o.id)||Date.now()}),r=()=>{e.push("/")},i=o=>{const a=["#d34a6e","#ffd700","#ff8fab","#667eea","#27ae60"];return{"--delay":`${Math.random()*.5}s`,"--rotation":`${Math.random()*360}deg`,"--x-end":`${(Math.random()-.5)*200}px`,"--y-end":`${Math.random()*150+50}px`,backgroundColor:a[o%a.length]}};return(o,a)=>(R(),D("div",gN,[u("div",_N,[a[1]||(a[1]=u("div",{class:"checkmark-circle"},[u("svg",{class:"checkmark",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52"},[u("circle",{class:"checkmark-bg",cx:"26",cy:"26",r:"25",fill:"none"}),u("path",{class:"checkmark-check",fill:"none",d:"M14.1 27.2l7.1 7.2 16.7-16.8"})])],-1)),u("div",vN,[(R(),D(Ee,null,Le(20,c=>u("span",{key:c,class:"confetti-piece",style:rn(i(c))},null,4)),64))])]),a[5]||(a[5]=u("h2",{class:"success-title"},"  ! ",-1)),a[6]||(a[6]=u("p",{class:"success-message"},[le("    !"),u("br"),le("    24    . ")],-1)),u("div",yN,[a[2]||(a[2]=u("span",{class:"ref-label"}," :",-1)),u("span",bN,"#"+x(s.value),1)]),u("div",EN,[te(ao,{variant:"primary",onClick:a[0]||(a[0]=c=>o.$emit("new-order"))},{default:pe(()=>[...a[3]||(a[3]=[le("   ",-1)])]),_:1}),te(ao,{variant:"outline",onClick:r},{default:pe(()=>[...a[4]||(a[4]=[le("    ",-1)])]),_:1})]),a[7]||(a[7]=u("div",{class:"contact-info"},[u("p",null,"?  :"),u("a",{href:"tel:0528460331",class:"contact-link"}," 052-846-0331")],-1))]))}},TN=Ge(wN,[["__scopeId","data-v-0f41f51e"]]),IN={class:"multi-step-form"},AN={class:"form-container"},SN={key:1,class:"form-navigation"},CN={__name:"MultiStepForm",setup(t){const e=hn(),n=Ws(),s=ie(null),r=ie("forward"),i=[{title:" ",subtitle:"  ?"},{title:" ",subtitle:" "},{title:"",subtitle:" "}],o=Q(()=>e.currentStep),a=Q(()=>e.isLoading),c=Q(()=>r.value==="forward"?"slide-left":"slide-right"),d=Q(()=>{if(o.value===1)return e.cartItemCount>0;if(o.value===2){const T=e.customerInfo;return T.name&&T.phone&&T.email}return o.value===3?e.canProceedToCheckout:!0}),h=T=>{T<o.value&&(r.value="backward",e.setStep(T))},p=async()=>{var T;if(o.value===2&&((T=s.value)!=null&&T.validate)&&!s.value.validate()){n.showError("     ");return}r.value="forward",e.nextStep()},m=()=>{r.value="backward",e.prevStep()},g=async()=>{try{await e.submitOrder(),n.showSuccess("  !")}catch{n.showError("  .  .")}},b=()=>{e.resetOrder()};return(T,P)=>(R(),D("div",IN,[o.value<4?(R(),Xe(Qx,{key:0,steps:i,"current-step":o.value,clickable:!0,onStepClick:h},null,8,["current-step"])):ge("",!0),u("div",AN,[te(dt,{name:c.value,mode:"out-in"},{default:pe(()=>[o.value===1?(R(),Xe(bO,{key:"step1"})):o.value===2?(R(),Xe($O,{key:"step2",ref_key:"stepDetailsRef",ref:s},null,512)):o.value===3?(R(),Xe(mN,{key:"step3",onEditStep:h})):o.value===4?(R(),Xe(TN,{key:"step4",onNewOrder:b})):ge("",!0)]),_:1},8,["name"])]),o.value<4?(R(),D("div",SN,[o.value>1?(R(),Xe(ao,{key:0,variant:"outline",onClick:m},{default:pe(()=>[...P[0]||(P[0]=[le("  ",-1)])]),_:1})):ge("",!0),P[2]||(P[2]=u("div",{class:"nav-spacer"},null,-1)),o.value<3?(R(),Xe(ao,{key:1,variant:"primary",disabled:!d.value,onClick:p},{default:pe(()=>[...P[1]||(P[1]=[le("  ",-1)])]),_:1},8,["disabled"])):ge("",!0),o.value===3?(R(),Xe(ao,{key:2,variant:"primary",loading:a.value,disabled:!d.value,onClick:g},{default:pe(()=>[le(x(a.value?"...":" "),1)]),_:1},8,["loading","disabled"])):ge("",!0)])):ge("",!0)]))}},kN=Ge(CN,[["__scopeId","data-v-c5a34f7a"]]),RN={class:"quote-page"},PN={__name:"Quote",setup(t){return Ln({title:" |  -    ",meta:[{name:"description",content:"  -  ,  , , ,   ,  .   ."}]}),hn(),Hs(()=>{}),(e,n)=>(R(),D("section",RN,[n[0]||(n[0]=u("div",{class:"page-header"},[u("h1",{class:"page-title"},"  "),u("p",{class:"page-subtitle"}," ,  ,    ")],-1)),te(kN),te(F_)]))}},VN=Ge(PN,[["__scopeId","data-v-1471df23"]]),DN={class:"coupon-section"},xN={key:0,class:"coupon-content"},ON={key:0,class:"coupon-applied"},NN={class:"applied-info"},MN={class:"applied-details"},$N={class:"applied-code"},LN={class:"applied-desc"},FN={class:"applied-discount"},UN={key:1,class:"coupon-form"},BN={class:"input-wrapper"},qN=["disabled"],jN={key:0,class:"loading-spinner small"},HN={key:1},zN={key:0,class:"error-message"},WN={key:0,class:"success-message"},KN={__name:"CouponInput",setup(t){const e=zn(),n=hn(),s=ie(!1),r=ie(""),i=ie(!1);async function o(){if(!r.value)return;i.value=!0,await n.applyCoupon(r.value)?r.value="":n.couponError&&e.error(n.couponError),i.value=!1}return(a,c)=>(R(),D("div",DN,[u("div",{class:"coupon-header",onClick:c[0]||(c[0]=d=>s.value=!s.value)},[c[3]||(c[3]=u("span",{class:"coupon-icon"},"",-1)),c[4]||(c[4]=u("span",{class:"coupon-title"},"   ?",-1)),u("span",{class:Ae(["coupon-toggle",{open:s.value}])},"",2)]),te(dt,{name:"slide"},{default:pe(()=>[s.value?(R(),D("div",xN,[Te(n).appliedCoupon?(R(),D("div",ON,[u("div",NN,[c[5]||(c[5]=u("span",{class:"applied-icon"},"",-1)),u("div",MN,[u("span",$N,x(Te(n).appliedCoupon.code),1),u("span",LN,x(Te(n).appliedCoupon.description),1)]),u("span",FN," -"+x(Te(n).couponDiscount),1)]),u("button",{class:"remove-btn",onClick:c[1]||(c[1]=d=>Te(n).removeCoupon())},"")])):(R(),D("div",UN,[u("div",BN,[$e(u("input",{type:"text","onUpdate:modelValue":c[2]||(c[2]=d=>r.value=d),placeholder:"  ",class:Ae(["coupon-input",{error:Te(n).couponError}]),onKeyup:Jr(o,["enter"]),dir:"ltr"},null,34),[[at,r.value]]),u("button",{class:"apply-btn",onClick:o,disabled:!r.value||i.value},[i.value?(R(),D("span",jN)):(R(),D("span",HN,""))],8,qN)]),te(dt,{name:"fade"},{default:pe(()=>[Te(n).couponError?(R(),D("p",zN,[c[6]||(c[6]=u("span",{class:"error-icon"},"",-1)),le(" "+x(Te(n).couponError),1)])):ge("",!0)]),_:1}),te(dt,{name:"fade"},{default:pe(()=>[Te(n).couponSuccess?(R(),D("p",WN,[c[7]||(c[7]=u("span",{class:"success-icon"},"",-1)),le(" "+x(Te(n).couponSuccess),1)])):ge("",!0)]),_:1})]))])):ge("",!0)]),_:1})]))}},GN=Ge(KN,[["__scopeId","data-v-d3366c00"]]),QN={class:"checkout-page"},JN={key:0,class:"empty-cart"},YN={key:1,class:"checkout-content"},XN={class:"progress-bar"},ZN=["onClick"],e3={class:"step-number"},t3={key:0},n3={key:1},s3={class:"step-title"},r3={class:"checkout-grid"},i3={class:"checkout-form"},o3={class:"form-step"},a3={class:"form-group"},l3={class:"form-group"},c3={class:"form-group"},u3=["disabled"],d3={class:"form-step"},h3={class:"delivery-options"},f3={key:0,class:"location-selection"},p3={class:"zone-group"},m3={class:"locations-grid"},g3=["value","onChange"],_3={class:"location-name"},v3={class:"zone-group"},y3={class:"locations-grid"},b3=["value","onChange"],E3={class:"location-name"},w3={class:"zone-group"},T3={class:"locations-grid"},I3=["value","onChange"],A3={class:"location-name"},S3={class:"address-section"},C3={class:"form-group"},k3={key:0,class:"call-notice"},R3={class:"datetime-section"},P3={class:"datetime-grid"},V3={class:"form-group"},D3=["min"],x3={class:"form-group"},O3={class:"form-group"},N3={class:"step-actions"},M3=["disabled"],$3={class:"form-step"},L3={class:"payment-options"},F3=["value","onChange"],U3={class:"payment-icon"},B3={class:"payment-content"},q3={class:"payment-name"},j3={class:"payment-desc"},H3={key:0,class:"payment-instructions"},z3={class:"payment-amount"},W3=["href"],K3={class:"payment-phone"},G3={dir:"ltr"},Q3={key:1,class:"cash-note"},J3={class:"step-actions"},Y3=["disabled"],X3={key:0,class:"loading-spinner"},Z3={key:1},eM={class:"form-step success-step"},tM={class:"success-animation"},nM={class:"confetti"},sM={class:"order-summary-card"},rM={class:"summary-row"},iM={class:"summary-row"},oM={class:"summary-row"},aM={key:0,class:"payment-reminder"},lM={class:"reminder-content"},cM=["href"],uM={class:"success-actions"},dM={key:0,class:"order-summary"},hM={class:"summary-card"},fM={class:"summary-items"},pM={class:"item-emoji"},mM={class:"item-info"},gM={class:"item-name"},_M={class:"item-qty"},vM={class:"item-price"},yM={class:"summary-totals"},bM={class:"total-row"},EM={class:"total-row"},wM={key:0,class:"free-delivery"},TM={key:1,class:"free-delivery"},IM={key:2},AM={key:3,class:"call-note"},SM={key:4},CM={key:0,class:"total-row discount-row"},kM={class:"discount-value"},RM={class:"total-row final"},PM={class:"final-price"},VM={key:0,class:"plus-delivery"},DM={__name:"Checkout",setup(t){Ln({title:" |  -    ",meta:[{name:"description",content:"  -  ,  , , ,   ,  .   ."}]});const e=hn(),n=Ws(),s=ie(1),r=ie(""),i=Q(()=>e.cart),o=Q(()=>e.cartTotal),a=Q(()=>e.isCartEmpty),c=Q(()=>e.paymentMethods),d=Q(()=>e.deliveryPrice),h=Q(()=>e.deliveryRequiresCall),p=Q(()=>e.orderTotal),m=Q(()=>e.selectedPaymentMethod);Q(()=>e.selectedLocationData);const g=Q(()=>e.isLoading),b=Q(()=>e.canCompleteOrder),T=Q(()=>e.zone1Locations),P=Q(()=>e.zone2Locations),O=Q(()=>e.zone3Locations),B=Q({get:()=>e.customerInfo,set:Ne=>e.setCustomerInfo(Ne)}),M=Q({get:()=>e.deliveryOption,set:Ne=>e.setDeliveryOption(Ne)}),z=Q({get:()=>e.selectedLocation,set:Ne=>e.setSelectedLocation(Ne)}),se=Q({get:()=>e.paymentMethod,set:Ne=>e.setPaymentMethod(Ne)}),ae=Q({get:()=>e.orderDate,set:Ne=>{e.orderDate=Ne}}),C=Q({get:()=>e.orderTime,set:Ne=>{e.orderTime=Ne}}),w=Q({get:()=>e.specialRequests,set:Ne=>{e.specialRequests=Ne}}),v=[{id:1,title:""},{id:2,title:""},{id:3,title:""}],S=Q(()=>new Date().toISOString().split("T")[0]),A=Q(()=>B.value.name&&B.value.phone),E=Q(()=>M.value==="pickup"?!0:M.value==="delivery"?z.value&&B.value.address:!1),I=()=>{s.value<4&&s.value++},me=()=>{s.value>1&&s.value--},Fe=Ne=>{Ne<s.value&&(s.value=Ne)},je=async()=>{try{const Ne=await e.submitOrder();r.value=Ne.id,s.value=4;const $=e.getWhatsAppLink();window.open($,"_blank"),n.showSuccess("  !")}catch{n.showError("  .  .")}},Ce=()=>{e.resetOrder(),s.value=1},Oe=()=>{n.openCartDrawer()},pt=Ne=>{const $=["#d34a6e","#ffd700","#ff8fab","#667eea","#27ae60"];return{"--delay":`${Math.random()*.5}s`,"--rotation":`${Math.random()*360}deg`,"--x-end":`${(Math.random()-.5)*200}px`,"--y-end":`${Math.random()*150+50}px`,backgroundColor:$[Ne%$.length]}};return cn(a,Ne=>{Ne&&s.value<4&&(s.value=1)}),(Ne,$)=>{var ue,H,W;const rt=Gt("router-link");return R(),D("div",QN,[a.value?(R(),D("div",JN,[$[16]||($[16]=u("span",{class:"empty-icon"},"",-1)),$[17]||($[17]=u("h2",null," ",-1)),$[18]||($[18]=u("p",null,"    ",-1)),te(rt,{to:"/menu",class:"browse-btn"},{default:pe(()=>[...$[15]||($[15]=[le("  ",-1),u("span",{class:"btn-arrow"},"",-1)])]),_:1})])):(R(),D("div",YN,[$[68]||($[68]=u("header",{class:"page-header"},[u("h1",{class:"page-title"}," "),u("p",{class:"page-subtitle"},"     ")],-1)),u("div",XN,[(R(),D(Ee,null,Le(v,(ee,U)=>u("div",{key:ee.id,class:Ae(["progress-step",{active:s.value===U+1,completed:s.value>U+1}]),onClick:oe=>Fe(U+1)},[u("span",e3,[s.value>U+1?(R(),D("span",t3,"")):(R(),D("span",n3,x(U+1),1))]),u("span",s3,x(ee.title),1)],10,ZN)),64))]),u("div",r3,[u("div",i3,[$e(u("div",o3,[$[23]||($[23]=u("h2",{class:"step-heading"},[u("span",{class:"heading-icon"},""),le("   ")],-1)),u("div",a3,[$[19]||($[19]=u("label",{class:"form-label"},"  *",-1)),$e(u("input",{type:"text","onUpdate:modelValue":$[0]||($[0]=ee=>B.value.name=ee),class:"form-input",placeholder:"  ",required:""},null,512),[[at,B.value.name]])]),u("div",l3,[$[20]||($[20]=u("label",{class:"form-label"}," *",-1)),$e(u("input",{type:"tel","onUpdate:modelValue":$[1]||($[1]=ee=>B.value.phone=ee),class:"form-input",placeholder:"050-0000000",dir:"ltr",required:""},null,512),[[at,B.value.phone]])]),u("div",c3,[$[21]||($[21]=u("label",{class:"form-label"},"",-1)),$e(u("input",{type:"email","onUpdate:modelValue":$[2]||($[2]=ee=>B.value.email=ee),class:"form-input",placeholder:"your@email.com",dir:"ltr"},null,512),[[at,B.value.email]])]),u("button",{class:"next-btn",onClick:I,disabled:!A.value},[...$[22]||($[22]=[le("    ",-1),u("span",{class:"btn-arrow"},"",-1)])],8,u3)],512),[[lr,s.value===1]]),$e(u("div",d3,[$[42]||($[42]=u("h2",{class:"step-heading"},[u("span",{class:"heading-icon"},""),le("   ")],-1)),u("div",h3,[u("label",{class:Ae(["delivery-option",{selected:M.value==="pickup"}])},[$e(u("input",{type:"radio","onUpdate:modelValue":$[3]||($[3]=ee=>M.value=ee),value:"pickup",onChange:$[4]||($[4]=ee=>Te(e).setDeliveryOption("pickup"))},null,544),[[kr,M.value]]),$[24]||($[24]=Bt('<span class="option-icon" data-v-ebd8b45a></span><div class="option-content" data-v-ebd8b45a><span class="option-title" data-v-ebd8b45a> </span><span class="option-desc" data-v-ebd8b45a>  ,  </span><span class="option-price free" data-v-ebd8b45a></span></div><span class="option-check" data-v-ebd8b45a></span>',3))],2),u("label",{class:Ae(["delivery-option",{selected:M.value==="delivery"}])},[$e(u("input",{type:"radio","onUpdate:modelValue":$[5]||($[5]=ee=>M.value=ee),value:"delivery",onChange:$[6]||($[6]=ee=>Te(e).setDeliveryOption("delivery"))},null,544),[[kr,M.value]]),$[25]||($[25]=Bt('<span class="option-icon" data-v-ebd8b45a></span><div class="option-content" data-v-ebd8b45a><span class="option-title" data-v-ebd8b45a>  </span><span class="option-desc" data-v-ebd8b45a>  </span><span class="option-price" data-v-ebd8b45a> -20</span></div><span class="option-check" data-v-ebd8b45a></span>',3))],2)]),te(dt,{name:"slide-down"},{default:pe(()=>[M.value==="delivery"?(R(),D("div",f3,[$[34]||($[34]=u("h3",{class:"section-subtitle"},"  /:",-1)),u("div",p3,[$[27]||($[27]=u("div",{class:"zone-header zone-1"},[u("span",{class:"zone-icon"},""),u("span",{class:"zone-title"},"  - 20")],-1)),u("div",m3,[(R(!0),D(Ee,null,Le(T.value,ee=>(R(),D("label",{key:ee.id,class:Ae(["location-option",{selected:z.value===ee.id}])},[$e(u("input",{type:"radio","onUpdate:modelValue":$[7]||($[7]=U=>z.value=U),value:ee.id,onChange:U=>Te(e).setSelectedLocation(ee.id)},null,40,g3),[[kr,z.value]]),u("span",_3,x(ee.name),1),$[26]||($[26]=u("span",{class:"location-check"},"",-1))],2))),128))])]),u("div",v3,[$[29]||($[29]=u("div",{class:"zone-header zone-2"},[u("span",{class:"zone-icon"},""),u("span",{class:"zone-title"},"  - 40")],-1)),u("div",y3,[(R(!0),D(Ee,null,Le(P.value,ee=>(R(),D("label",{key:ee.id,class:Ae(["location-option",{selected:z.value===ee.id}])},[$e(u("input",{type:"radio","onUpdate:modelValue":$[8]||($[8]=U=>z.value=U),value:ee.id,onChange:U=>Te(e).setSelectedLocation(ee.id)},null,40,b3),[[kr,z.value]]),u("span",E3,x(ee.name),1),$[28]||($[28]=u("span",{class:"location-check"},"",-1))],2))),128))])]),u("div",w3,[$[31]||($[31]=u("div",{class:"zone-header zone-3"},[u("span",{class:"zone-icon"},""),u("span",{class:"zone-title"},"  -   ")],-1)),u("div",T3,[(R(!0),D(Ee,null,Le(O.value,ee=>(R(),D("label",{key:ee.id,class:Ae(["location-option",{selected:z.value===ee.id}])},[$e(u("input",{type:"radio","onUpdate:modelValue":$[9]||($[9]=U=>z.value=U),value:ee.id,onChange:U=>Te(e).setSelectedLocation(ee.id)},null,40,I3),[[kr,z.value]]),u("span",A3,x(ee.name),1),$[30]||($[30]=u("span",{class:"location-check"},"",-1))],2))),128))])]),u("div",S3,[u("div",C3,[$[32]||($[32]=u("label",{class:"form-label"},"  ( ) *",-1)),$e(u("input",{type:"text","onUpdate:modelValue":$[10]||($[10]=ee=>B.value.address=ee),class:"form-input",placeholder:":   15,  3"},null,512),[[at,B.value.address]])])]),te(dt,{name:"fade"},{default:pe(()=>[h.value?(R(),D("div",k3,[...$[33]||($[33]=[u("span",{class:"notice-icon"},"",-1),u("div",{class:"notice-content"},[u("strong",null," !"),u("p",null,"         .")],-1)])])):ge("",!0)]),_:1})])):ge("",!0)]),_:1}),u("div",R3,[$[38]||($[38]=u("h3",{class:"section-subtitle"},"  ?",-1)),u("div",P3,[u("div",V3,[$[35]||($[35]=u("label",{class:"form-label"},"",-1)),$e(u("input",{type:"date","onUpdate:modelValue":$[11]||($[11]=ee=>ae.value=ee),class:"form-input",min:S.value},null,8,D3),[[at,ae.value]])]),u("div",x3,[$[37]||($[37]=u("label",{class:"form-label"}," ",-1)),$e(u("select",{"onUpdate:modelValue":$[12]||($[12]=ee=>C.value=ee),class:"form-input"},[...$[36]||($[36]=[Bt('<option value="" data-v-ebd8b45a> </option><option value="09:00-11:00" data-v-ebd8b45a>09:00-11:00</option><option value="11:00-13:00" data-v-ebd8b45a>11:00-13:00</option><option value="13:00-15:00" data-v-ebd8b45a>13:00-15:00</option><option value="15:00-17:00" data-v-ebd8b45a>15:00-17:00</option><option value="17:00-19:00" data-v-ebd8b45a>17:00-19:00</option><option value="19:00-21:00" data-v-ebd8b45a>19:00-21:00</option>',7)])],512),[[Pl,C.value]])])])]),u("div",O3,[$[39]||($[39]=u("label",{class:"form-label"}," ",-1)),$e(u("textarea",{"onUpdate:modelValue":$[13]||($[13]=ee=>w.value=ee),class:"form-input form-textarea",placeholder:" , ,  ...",rows:"3"},null,512),[[at,w.value]])]),u("div",N3,[u("button",{class:"back-btn",onClick:me},[...$[40]||($[40]=[u("span",{class:"btn-arrow"},"",-1),le("  ",-1)])]),u("button",{class:"next-btn",onClick:I,disabled:!E.value},[...$[41]||($[41]=[le("   ",-1),u("span",{class:"btn-arrow"},"",-1)])],8,M3)])],512),[[lr,s.value===2]]),$e(u("div",$3,[$[50]||($[50]=u("h2",{class:"step-heading"},[u("span",{class:"heading-icon"},""),le("    ")],-1)),u("div",L3,[(R(!0),D(Ee,null,Le(c.value,ee=>(R(),D("label",{key:ee.id,class:Ae(["payment-option",{selected:se.value===ee.id}])},[$e(u("input",{type:"radio","onUpdate:modelValue":$[14]||($[14]=U=>se.value=U),value:ee.id,onChange:U=>Te(e).setPaymentMethod(ee.id)},null,40,F3),[[kr,se.value]]),u("span",U3,x(ee.icon),1),u("div",B3,[u("span",q3,x(ee.name),1),u("span",j3,x(ee.description),1)]),$[43]||($[43]=u("span",{class:"payment-check"},"",-1))],2))),128))]),te(dt,{name:"fade"},{default:pe(()=>[m.value?(R(),D("div",H3,[u("div",{class:Ae(["instructions-card",se.value])},[u("h4",null,[u("span",null,x(m.value.icon),1),le("   - "+x(m.value.name),1)]),u("p",null,x(m.value.instructions),1),m.value.link?(R(),D(Ee,{key:0},[u("div",z3,[$[44]||($[44]=le("  : ",-1)),u("strong",null,""+x(p.value)+x(h.value?" + ":""),1)]),u("a",{href:m.value.link,target:"_blank",class:"payment-link-btn"},[u("span",null,"   -"+x(m.value.name),1),$[45]||($[45]=u("span",{class:"btn-arrow"},"",-1))],8,W3),u("p",K3,[$[46]||($[46]=le("    : ",-1)),u("strong",G3,x(m.value.phone),1)])],64)):ge("",!0),se.value==="cash"?(R(),D("div",Q3,[...$[47]||($[47]=[u("span",{class:"note-icon"},"",-1),u("span",null,"     ",-1)])])):ge("",!0)],2)])):ge("",!0)]),_:1}),u("div",J3,[u("button",{class:"back-btn",onClick:me},[...$[48]||($[48]=[u("span",{class:"btn-arrow"},"",-1),le("  ",-1)])]),u("button",{class:"submit-btn",onClick:je,disabled:!b.value||g.value},[g.value?(R(),D("span",X3)):(R(),D("span",Z3,[...$[49]||($[49]=[le("    ",-1),u("span",{class:"btn-icon"},"",-1)])]))],8,Y3)])],512),[[lr,s.value===3]]),$e(u("div",eM,[u("div",tM,[$[51]||($[51]=u("div",{class:"success-circle"},[u("span",{class:"success-check"},"")],-1)),u("div",nM,[(R(),D(Ee,null,Le(20,ee=>u("span",{key:ee,class:"confetti-piece",style:rn(pt(ee))},null,4)),64))])]),$[60]||($[60]=u("h2",{class:"success-title"},"  ! ",-1)),$[61]||($[61]=u("p",{class:"success-message"},[le("    !"),u("br"),le("    . ")],-1)),u("div",sM,[u("div",rM,[$[52]||($[52]=u("span",null," :",-1)),u("strong",null,x(r.value),1)]),u("div",iM,[$[53]||($[53]=u("span",null,'" :',-1)),u("strong",null,""+x(p.value)+x(h.value?" + ":""),1)]),u("div",oM,[$[54]||($[54]=u("span",null," :",-1)),u("strong",null,x((ue=m.value)==null?void 0:ue.name),1)])]),se.value!=="cash"?(R(),D("div",aM,[$[57]||($[57]=u("span",{class:"reminder-icon"},"",-1)),u("div",lM,[$[55]||($[55]=u("strong",null,"  !",-1)),$[56]||($[56]=u("p",null,"     ",-1)),u("a",{href:(H=m.value)==null?void 0:H.link,target:"_blank",class:"reminder-btn"},"  -"+x((W=m.value)==null?void 0:W.name),9,cM)])])):ge("",!0),u("div",uM,[te(rt,{to:"/menu",class:"new-order-btn",onClick:Ce},{default:pe(()=>[...$[58]||($[58]=[le("   ",-1)])]),_:1}),te(rt,{to:"/",class:"home-btn"},{default:pe(()=>[...$[59]||($[59]=[le("   ",-1)])]),_:1})]),$[62]||($[62]=u("div",{class:"contact-footer"},[u("p",null,"?  :"),u("a",{href:"tel:0528460331",class:"contact-link"}," 052-846-0331")],-1))],512),[[lr,s.value===4]])]),s.value<4?(R(),D("div",dM,[u("div",hM,[$[66]||($[66]=u("h3",{class:"summary-title"},[u("span",null,""),le("   ")],-1)),u("div",fM,[(R(!0),D(Ee,null,Le(i.value,ee=>(R(),D("div",{key:ee.id,class:"summary-item"},[u("span",pM,x(ee.image),1),u("div",mM,[u("span",gM,x(ee.name),1),u("span",_M,"x"+x(ee.quantity),1)]),u("span",vM,""+x(ee.price*ee.quantity),1)]))),128))]),te(GN),u("div",yM,[u("div",bM,[$[63]||($[63]=u("span",null,'" ',-1)),u("span",null,""+x(o.value),1)]),u("div",EM,[$[64]||($[64]=u("span",null,"",-1)),M.value==="pickup"?(R(),D("span",wM,"")):Te(e).hasFreeDelivery?(R(),D("span",TM," ()")):d.value>0?(R(),D("span",IM,""+x(d.value),1)):h.value?(R(),D("span",AM," ")):(R(),D("span",SM,"-"))]),Te(e).appliedCoupon?(R(),D("div",CM,[u("span",null,"  ("+x(Te(e).appliedCoupon.code)+") ",1),u("span",kM,"-"+x(Te(e).couponDiscount),1)])):ge("",!0),u("div",RM,[$[65]||($[65]=u("span",null,'" ',-1)),u("span",PM,[le(" "+x(Te(e).finalTotal)+" ",1),h.value&&!Te(e).hasFreeDelivery?(R(),D("span",VM,"+")):ge("",!0)])])]),u("button",{class:"edit-cart-btn",onClick:Oe},"  ")]),$[67]||($[67]=Bt('<div class="trust-badges" data-v-ebd8b45a><div class="badge" data-v-ebd8b45a><span class="badge-icon" data-v-ebd8b45a></span><span data-v-ebd8b45a>   </span></div><div class="badge" data-v-ebd8b45a><span class="badge-icon" data-v-ebd8b45a></span><span data-v-ebd8b45a> </span></div><div class="badge" data-v-ebd8b45a><span class="badge-icon" data-v-ebd8b45a></span><span data-v-ebd8b45a> </span></div></div>',1))])):ge("",!0)])]))])}}},xM=Ge(DM,[["__scopeId","data-v-ebd8b45a"]]),OM={class:"admin-page"},NM={key:0,class:"login-screen"},MM={class:"login-card"},$M={class:"form-group"},LM={class:"form-group"},FM=["disabled"],UM={key:0,class:"loading-spinner small"},BM={key:1},qM={key:0,class:"login-error"},jM={key:1,class:"admin-dashboard"},HM={class:"admin-header"},zM={class:"header-left"},WM={class:"user-email"},KM=["disabled"],GM={class:"main-tabs"},QM={key:0,class:"tab-badge"},JM={key:0,class:"tab-badge"},YM={class:"orders-tab"},XM={class:"stats-grid"},ZM={class:"stat-card"},e$={class:"stat-content"},t$={class:"stat-value"},n$={class:"stat-card"},s$={class:"stat-content"},r$={class:"stat-value"},i$={class:"stat-card"},o$={class:"stat-content"},a$={class:"stat-value"},l$={class:"stat-card"},c$={class:"stat-content"},u$={class:"stat-value"},d$={class:"filters-bar"},h$={class:"filter-tabs"},f$=["onClick"],p$={class:"filter-icon"},m$={class:"filter-label"},g$={class:"filter-count"},_$={class:"search-box"},v$={class:"orders-list"},y$={key:0,class:"loading-state"},b$={key:1,class:"empty-state"},E$={class:"order-header"},w$={class:"order-id"},T$={class:"id-value"},I$={class:"order-time"},A$={class:"order-customer"},S$={class:"customer-name"},C$=["href"],k$=["href"],R$={class:"order-delivery"},P$={key:0,class:"delivery-badge pickup"},V$={key:1,class:"delivery-badge delivery"},D$={key:0},x$={key:1},O$={key:2,class:"delivery-address"},N$={class:"order-items"},M$={class:"item-emoji"},$$={class:"item-name"},L$={class:"item-qty"},F$={class:"item-price"},U$={key:0,class:"order-notes"},B$={class:"notes-text"},q$={key:1,class:"order-datetime"},j$={key:0,class:"datetime-item"},H$={key:1,class:"datetime-item"},z$={class:"order-footer"},W$={class:"order-total"},K$={class:"total-value"},G$={class:"payment-info"},Q$={class:"payment-method"},J$={class:"status-actions"},Y$=["value","onChange"],X$=["value","onChange"],Z$={class:"reviews-tab"},eL={class:"reviews-filter"},tL=["onClick"],nL={class:"count"},sL={class:"reviews-list"},rL={key:0,class:"empty-state"},iL={class:"review-header"},oL={class:"reviewer-info"},aL={class:"avatar"},lL={class:"info"},cL={class:"location"},uL={class:"review-rating"},dL={class:"review-meta"},hL={class:"meta-item"},fL={class:"meta-item"},pL={class:"meta-item"},mL={class:"review-text"},gL={class:"review-footer"},_L={class:"review-date"},vL={class:"review-actions"},yL=["onClick"],bL=["onClick"],EL=["onClick"],wL={__name:"Admin",setup(t){const e=zn(),n=ie([]),s=ie("orders"),r=ie("all"),i=ie(!1),o=ie(!1),a=ie(""),c=ie(""),d=ie(""),h=ie(""),p=ie([]),m=ie(!1),g=ie("all"),b=ie("");let T=null;const P=[{value:"all",label:"",icon:""},{value:"pending",label:"",icon:""},{value:"confirmed",label:"",icon:""},{value:"preparing",label:"",icon:""},{value:"ready",label:"",icon:""},{value:"delivered",label:"",icon:""},{value:"cancelled",label:"",icon:""}],O=Q(()=>{let ue=p.value;if(g.value!=="all"&&(ue=ue.filter(H=>H.status===g.value)),b.value){const H=b.value.toLowerCase();ue=ue.filter(W=>{var ee,U,oe,ce,ye;return((U=(ee=W.customer)==null?void 0:ee.name)==null?void 0:U.toLowerCase().includes(H))||((ce=(oe=W.customer)==null?void 0:oe.phone)==null?void 0:ce.includes(H))||((ye=W.orderId)==null?void 0:ye.toLowerCase().includes(H))})}return ue}),B=Q(()=>p.value.filter(ue=>ue.status==="pending")),M=Q(()=>p.value.filter(ue=>ue.status==="preparing")),z=Q(()=>{const ue=new Date().toDateString();return p.value.filter(H=>{var ee,U,oe;return(((oe=(U=(ee=H.createdAt)==null?void 0:ee.toDate)==null?void 0:U.call(ee))==null?void 0:oe.toDateString())||"")===ue&&H.status==="delivered"})}),se=Q(()=>{const ue=new Date().toDateString();return p.value.filter(H=>{var ee,U,oe;return(((oe=(U=(ee=H.createdAt)==null?void 0:ee.toDate)==null?void 0:U.call(ee))==null?void 0:oe.toDateString())||"")===ue&&H.paymentStatus==="paid"}).reduce((H,W)=>H+(W.total||0),0)});async function ae(){try{n.value=await P2()}catch(ue){console.error("Error loading reviews:",ue)}}async function C(){await Fe(),await ae()}const w=Q(()=>r.value==="all"?n.value:n.value.filter(ue=>ue.status===r.value));async function v(ue){if(await $m(ue,"approved")){const W=n.value.find(ee=>ee.id===ue);W&&(W.status="approved"),e.success("  ")}}async function S(ue){if(await $m(ue,"rejected")){const W=n.value.find(ee=>ee.id===ue);W&&(W.status="rejected"),e.info(" ")}}async function A(ue){if(!confirm("   ?"))return;await V2(ue)&&(n.value=n.value.filter(W=>W.id!==ue),e.success(" "))}const E=Q(()=>({all:n.value.length,pending:n.value.filter(ue=>ue.status==="pending").length,approved:n.value.filter(ue=>ue.status==="approved").length,rejected:n.value.filter(ue=>ue.status==="rejected").length}));async function I(){if(!(!a.value||!c.value)){o.value=!0,d.value="";try{await sP(Qc,a.value,c.value)}catch(ue){switch(console.error("Login error:",ue),ue.code){case"auth/invalid-email":d.value="   ";break;case"auth/user-not-found":d.value="  ";break;case"auth/wrong-password":d.value=" ";break;case"auth/invalid-credential":d.value="  ";break;default:d.value=" .  ."}}finally{o.value=!1}}}async function me(){try{await aP(Qc),i.value=!1,h.value="",p.value=[],a.value="",c.value=""}catch(ue){console.error("Logout error:",ue)}}async function Fe(){m.value=!0;try{p.value=await T2()}catch(ue){console.error("Failed to load orders:",ue)}finally{m.value=!1}}async function je(ue,H){try{await I2(ue,H);const W=p.value.find(ee=>ee.id===ue);W&&(W.status=H)}catch(W){console.error("Failed to update status:",W)}}async function Ce(ue,H){try{await A2(ue,H);const W=p.value.find(ee=>ee.id===ue);W&&(W.paymentStatus=H)}catch(W){console.error("Failed to update payment status:",W)}}function Oe(ue){return ue==="all"?p.value.length:p.value.filter(H=>H.status===ue).length}function pt(ue){return{pending:"",confirmed:"",preparing:"",ready:"",delivered:"",cancelled:""}[ue]||ue}function Ne(ue){return{bit:" Bit",paybox:" PayBox",cash:" "}[ue]||ue}function $(ue){return{pending:" ",awaiting:"",paid:" "}[ue]||ue}function rt(ue){if(!ue)return"";const H=ue.toDate?ue.toDate():new Date(ue);return new Intl.DateTimeFormat("he-IL",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"}).format(H)}return Hs(()=>{T=oP(Qc,async ue=>{ue?(i.value=!0,h.value=ue.email,await Fe(),await ae()):(i.value=!1,h.value="")})}),Do(()=>{T&&T()}),(ue,H)=>(R(),D("div",OM,[i.value?(R(),D("div",jM,[u("header",HM,[H[10]||(H[10]=u("div",{class:"header-right"},[u("h1",{class:"admin-title"},"  ")],-1)),u("div",zM,[u("span",WM,x(h.value),1),u("button",{class:"refresh-btn",onClick:C,disabled:m.value},[u("span",{class:Ae({spinning:m.value})},"",2),H[9]||(H[9]=le("  ",-1))],8,KM),u("button",{class:"logout-btn",onClick:me},"")])]),u("div",GM,[u("button",{class:Ae(["main-tab",{active:s.value==="orders"}]),onClick:H[2]||(H[2]=W=>s.value="orders")},[H[11]||(H[11]=u("span",{class:"tab-icon"},"",-1)),H[12]||(H[12]=u("span",{class:"tab-label"},"",-1)),B.value.length>0?(R(),D("span",QM,x(B.value.length),1)):ge("",!0)],2),u("button",{class:Ae(["main-tab",{active:s.value==="reviews"}]),onClick:H[3]||(H[3]=W=>s.value="reviews")},[H[13]||(H[13]=u("span",{class:"tab-icon"},"",-1)),H[14]||(H[14]=u("span",{class:"tab-label"},"",-1)),E.value.pending>0?(R(),D("span",JM,x(E.value.pending),1)):ge("",!0)],2)]),$e(u("div",YM,[u("div",XM,[u("div",ZM,[H[16]||(H[16]=u("span",{class:"stat-icon"},"",-1)),u("div",e$,[u("span",t$,x(B.value.length),1),H[15]||(H[15]=u("span",{class:"stat-label"},"",-1))])]),u("div",n$,[H[18]||(H[18]=u("span",{class:"stat-icon"},"",-1)),u("div",s$,[u("span",r$,x(M.value.length),1),H[17]||(H[17]=u("span",{class:"stat-label"},"",-1))])]),u("div",i$,[H[20]||(H[20]=u("span",{class:"stat-icon"},"",-1)),u("div",o$,[u("span",a$,x(z.value.length),1),H[19]||(H[19]=u("span",{class:"stat-label"}," ",-1))])]),u("div",l$,[H[22]||(H[22]=u("span",{class:"stat-icon"},"",-1)),u("div",c$,[u("span",u$,""+x(se.value),1),H[21]||(H[21]=u("span",{class:"stat-label"}," ",-1))])])]),u("div",d$,[u("div",h$,[(R(),D(Ee,null,Le(P,W=>u("button",{key:W.value,class:Ae(["filter-tab",{active:g.value===W.value}]),onClick:ee=>g.value=W.value},[u("span",p$,x(W.icon),1),u("span",m$,x(W.label),1),u("span",g$,x(Oe(W.value)),1)],10,f$)),64))]),u("div",_$,[$e(u("input",{type:"text","onUpdate:modelValue":H[4]||(H[4]=W=>b.value=W),placeholder:"    ...",class:"search-input"},null,512),[[at,b.value]]),H[23]||(H[23]=u("span",{class:"search-icon"},"",-1))])]),u("div",v$,[m.value?(R(),D("div",y$,[...H[24]||(H[24]=[u("span",{class:"loading-spinner"},null,-1),u("p",null," ...",-1)])])):O.value.length===0?(R(),D("div",b$,[...H[25]||(H[25]=[u("span",{class:"empty-icon"},"",-1),u("h3",null," ",-1),u("p",null,"    ",-1)])])):(R(),Xe(zs,{key:2,name:"order-list",tag:"div",class:"orders-container"},{default:pe(()=>[(R(!0),D(Ee,null,Le(O.value,W=>{var ee,U,oe,ce,ye,He,k,V,N,K,Y,j,de,ne;return R(),D("div",{key:W.id,class:Ae(["order-card",[`status-${W.status}`]])},[u("div",E$,[u("div",w$,[H[26]||(H[26]=u("span",{class:"id-label"},"",-1)),u("span",T$,"#"+x(W.orderId||W.id.slice(-6)),1)]),u("div",I$,x(rt(W.createdAt)),1),u("div",{class:Ae(["order-status",W.status])},x(pt(W.status)),3)]),u("div",A$,[u("div",S$,[H[27]||(H[27]=u("span",{class:"icon"},"",-1)),le(" "+x((ee=W.customer)==null?void 0:ee.name),1)]),u("a",{href:`tel:${(U=W.customer)==null?void 0:U.phone}`,class:"customer-phone"},[H[28]||(H[28]=u("span",{class:"icon"},"",-1)),le(" "+x((oe=W.customer)==null?void 0:oe.phone),1)],8,C$),u("a",{href:`https://wa.me/972${(ye=(ce=W.customer)==null?void 0:ce.phone)==null?void 0:ye.replace(/^0/,"")}`,target:"_blank",class:"whatsapp-link"},"   ",8,k$)]),u("div",R$,[((He=W.delivery)==null?void 0:He.option)==="pickup"?(R(),D("span",P$,"    ")):(R(),D("span",V$,[le("   - "+x((V=(k=W.delivery)==null?void 0:k.location)==null?void 0:V.name)+" ",1),(N=W.delivery)!=null&&N.price?(R(),D("span",D$,"("+x((K=W.delivery)==null?void 0:K.price)+")",1)):(Y=W.delivery)!=null&&Y.requiresCall?(R(),D("span",x$,"( )")):ge("",!0)])),(j=W.customer)!=null&&j.address?(R(),D("span",O$,"  "+x((de=W.customer)==null?void 0:de.address),1)):ge("",!0)]),u("div",N$,[(R(!0),D(Ee,null,Le(W.items,Z=>(R(),D("div",{key:Z.id,class:"order-item"},[u("span",M$,x(Z.image),1),u("span",$$,x(Z.name),1),u("span",L$,"x"+x(Z.quantity),1),u("span",F$,""+x(Z.price*Z.quantity),1)]))),128))]),W.specialRequests?(R(),D("div",U$,[H[29]||(H[29]=u("span",{class:"notes-icon"},"",-1)),u("span",B$,x(W.specialRequests),1)])):ge("",!0),W.date||W.time?(R(),D("div",q$,[W.date?(R(),D("span",j$,"  "+x(W.date),1)):ge("",!0),W.time?(R(),D("span",H$,"  "+x(W.time),1)):ge("",!0)])):ge("",!0),u("div",z$,[u("div",W$,[H[30]||(H[30]=u("span",{class:"total-label"},'":',-1)),u("span",K$,""+x(W.total),1)]),u("div",G$,[u("span",Q$,x(Ne((ne=W.payment)==null?void 0:ne.method)),1),u("span",{class:Ae(["payment-status",W.paymentStatus])},x($(W.paymentStatus)),3)]),u("div",J$,[u("select",{value:W.status,onChange:Z=>je(W.id,Z.target.value),class:"status-select"},[...H[31]||(H[31]=[u("option",{value:"pending"},"",-1),u("option",{value:"confirmed"},"",-1),u("option",{value:"preparing"},"",-1),u("option",{value:"ready"},"",-1),u("option",{value:"delivered"},"",-1),u("option",{value:"cancelled"},"",-1)])],40,Y$),u("select",{value:W.paymentStatus,onChange:Z=>Ce(W.id,Z.target.value),class:"payment-select"},[...H[32]||(H[32]=[u("option",{value:"pending"}," ",-1),u("option",{value:"awaiting"}," ",-1),u("option",{value:"paid"},"",-1)])],40,X$)])])],2)}),128))]),_:1}))])],512),[[lr,s.value==="orders"]]),$e(u("div",Z$,[u("div",eL,[(R(),D(Ee,null,Le([{id:"all",label:"",icon:""},{id:"pending",label:"",icon:""},{id:"approved",label:"",icon:""},{id:"rejected",label:"",icon:""}],W=>u("button",{key:W.id,class:Ae(["filter-btn",{active:r.value===W.id}]),onClick:ee=>r.value=W.id},[u("span",null,x(W.icon),1),u("span",null,x(W.label),1),u("span",nL,"("+x(E.value[W.id])+")",1)],10,tL)),64))]),u("div",sL,[w.value.length===0?(R(),D("div",rL,[...H[33]||(H[33]=[u("span",{class:"empty-icon"},"",-1),u("h3",null," ",-1),u("p",null,"  ",-1)])])):ge("",!0),(R(!0),D(Ee,null,Le(w.value,W=>{var ee,U;return R(),D("div",{key:W.id,class:Ae(["review-card",W.status])},[u("div",iL,[u("div",oL,[u("div",aL,[u("span",null,x(((ee=W.name)==null?void 0:ee.charAt(0))||"?"),1)]),u("div",lL,[u("h4",null,x(W.name),1),u("span",cL,x(W.location||" "),1)])]),u("div",uL,[(R(),D(Ee,null,Le(5,oe=>u("span",{key:oe,class:Ae(["star",{filled:oe<=W.rating}])},"",2)),64))])]),u("div",dL,[u("span",hL,[H[34]||(H[34]=u("span",{class:"meta-icon"},"",-1)),le(" "+x(W.product||" "),1)]),u("span",fL,[H[35]||(H[35]=u("span",{class:"meta-icon"},"",-1)),le(" "+x(W.phone||" "),1)]),u("span",pL,[H[36]||(H[36]=u("span",{class:"meta-icon"},"",-1)),le(" "+x(W.source||""),1)])]),u("p",mL,'"'+x(W.text)+'"',1),u("div",gL,[u("span",_L,x((U=W.createdAt)!=null&&U.toDate?W.createdAt.toDate().toLocaleDateString("he-IL"):" "),1),u("span",{class:Ae(["status-badge",W.status])},x(W.status==="pending"?"":W.status==="approved"?"":""),3)]),u("div",vL,[W.status!=="approved"?(R(),D("button",{key:0,class:"action-btn approve",onClick:oe=>v(W.id)},"   ",8,yL)):ge("",!0),W.status!=="rejected"?(R(),D("button",{key:1,class:"action-btn reject",onClick:oe=>S(W.id)},"   ",8,bL)):ge("",!0),u("button",{class:"action-btn delete",onClick:oe=>A(W.id)}," ",8,EL)])],2)}),128))])],512),[[lr,s.value==="reviews"]])])):(R(),D("div",NM,[u("div",MM,[H[7]||(H[7]=u("h1",{class:"login-title"},"  ",-1)),H[8]||(H[8]=u("p",{class:"login-subtitle"},"   ",-1)),u("div",$M,[H[5]||(H[5]=u("label",{class:"form-label"},"",-1)),$e(u("input",{type:"email","onUpdate:modelValue":H[0]||(H[0]=W=>a.value=W),class:"form-input",placeholder:"admin@margalitot.co.il",dir:"ltr",onKeyup:Jr(I,["enter"])},null,544),[[at,a.value]])]),u("div",LM,[H[6]||(H[6]=u("label",{class:"form-label"},"",-1)),$e(u("input",{type:"password","onUpdate:modelValue":H[1]||(H[1]=W=>c.value=W),class:"form-input",placeholder:"",dir:"ltr",onKeyup:Jr(I,["enter"])},null,544),[[at,c.value]])]),u("button",{class:"login-btn",onClick:I,disabled:!a.value||!c.value||o.value},[o.value?(R(),D("span",UM)):(R(),D("span",BM,""))],8,FM),d.value?(R(),D("p",qM,x(d.value),1)):ge("",!0)])]))]))}},TL=Ge(wL,[["__scopeId","data-v-bf6bc84e"]]),IL={class:"my-orders-page"},AL={key:0,class:"phone-search"},SL={class:"search-card"},CL={class:"form-group"},kL=["disabled"],RL={key:0,class:"loading-spinner small"},PL={key:1},VL={key:1,class:"orders-section"},DL={class:"section-header"},xL={class:"header-info"},OL={class:"phone-display"},NL={class:"orders-count"},ML={key:0,class:"loading-state"},$L={key:1,class:"empty-state"},LL={key:2,class:"orders-list"},FL={class:"order-header"},UL={class:"order-id"},BL={class:"id-value"},qL={class:"status-icon"},jL={class:"order-date"},HL={class:"order-items"},zL={class:"item-emoji"},WL={class:"item-name"},KL={class:"item-qty"},GL={class:"item-price"},QL={class:"order-delivery"},JL={key:0,class:"delivery-badge pickup"},YL={key:1,class:"delivery-badge delivery"},XL={key:0,class:"requested-date"},ZL={key:0},e6={key:1},t6={class:"order-footer"},n6={class:"order-total"},s6={class:"total-value"},r6={class:"payment-info"},i6={class:"payment-method"},o6=["onClick"],a6={class:"new-order-cta"},l6={__name:"MyOrders",setup(t){Ln({title:" |  -    ",meta:[{name:"description",content:"  -  ,  , , ,   ,  .   ."}]});const e=M_(),n=hn(),s=ie(""),r=ie([]),i=ie(!1),o=ie(!1),a=Q(()=>{const P=s.value.replace(/\D/g,"");return P.length>=9&&P.length<=10});async function c(){if(a.value){i.value=!0,o.value=!0;try{const P=s.value.replace(/\D/g,""),O=P.startsWith("0")?P:`0${P}`;r.value=await w2(O)}catch(P){console.error("Failed to fetch orders:",P),r.value=[]}finally{i.value=!1}}}function d(){o.value=!1,r.value=[]}function h(P){n.clearCart(),P.items.forEach(O=>{n.addToCart(O,O.quantity)}),e.push("/checkout")}function p(P){return{pending:"",confirmed:"",preparing:"",ready:"",delivered:"",cancelled:""}[P]||""}function m(P){return{pending:" ",confirmed:"",preparing:"",ready:" /",delivered:"",cancelled:""}[P]||P}function g(P){return{bit:" Bit",paybox:" PayBox",cash:" "}[P]||P}function b(P){return{pending:" ",awaiting:" ",paid:" "}[P]||P}function T(P){if(!P)return"";const O=P.toDate?P.toDate():new Date(P);return new Intl.DateTimeFormat("he-IL",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(O)}return(P,O)=>{const B=Gt("router-link");return R(),D("div",IL,[O[12]||(O[12]=u("header",{class:"page-header"},[u("h1",{class:"page-title"},"  "),u("p",{class:"page-subtitle"},"  ")],-1)),o.value?(R(),D("div",VL,[u("div",DL,[u("div",xL,[u("span",OL," "+x(s.value),1),u("span",NL,x(r.value.length)+" ",1)]),u("button",{class:"change-phone-btn",onClick:d}," ")]),i.value?(R(),D("div",ML,[...O[4]||(O[4]=[u("span",{class:"loading-spinner"},null,-1),u("p",null," ...",-1)])])):r.value.length===0?(R(),D("div",$L,[O[6]||(O[6]=u("span",{class:"empty-icon"},"",-1)),O[7]||(O[7]=u("h3",null,"  ",-1)),O[8]||(O[8]=u("p",null,"     ",-1)),te(B,{to:"/menu",class:"order-btn"},{default:pe(()=>[...O[5]||(O[5]=[le("    ",-1)])]),_:1})])):(R(),D("div",LL,[(R(!0),D(Ee,null,Le(r.value,M=>{var z,se,ae,C,w;return R(),D("div",{key:M.id,class:Ae(["order-card",[`status-${M.status}`]])},[u("div",FL,[u("div",UL,[O[9]||(O[9]=u("span",{class:"id-label"},"",-1)),u("span",BL,"#"+x(M.orderId||((z=M.id)==null?void 0:z.slice(-6))),1)]),u("div",{class:Ae(["order-status",M.status])},[u("span",qL,x(p(M.status)),1),le(" "+x(m(M.status)),1)],2)]),u("div",jL," "+x(T(M.createdAt)),1),u("div",HL,[(R(!0),D(Ee,null,Le(M.items,v=>(R(),D("div",{key:v.id,class:"order-item"},[u("span",zL,x(v.image),1),u("span",WL,x(v.name),1),u("span",KL,"x"+x(v.quantity),1),u("span",GL,""+x(v.price*v.quantity),1)]))),128))]),u("div",QL,[((se=M.delivery)==null?void 0:se.option)==="pickup"?(R(),D("span",JL,"    ")):(R(),D("span",YL,"   - "+x((C=(ae=M.delivery)==null?void 0:ae.location)==null?void 0:C.name),1))]),M.date||M.time?(R(),D("div",XL,[M.date?(R(),D("span",ZL," "+x(M.date),1)):ge("",!0),M.time?(R(),D("span",e6," "+x(M.time),1)):ge("",!0)])):ge("",!0),u("div",t6,[u("div",n6,[O[10]||(O[10]=u("span",{class:"total-label"},'":',-1)),u("span",s6,""+x(M.total),1)]),u("div",r6,[u("span",i6,x(g((w=M.payment)==null?void 0:w.method)),1),u("span",{class:Ae(["payment-status",M.paymentStatus])},x(b(M.paymentStatus)),3)])]),u("button",{class:"reorder-btn",onClick:v=>h(M)},"  ",8,o6)],2)}),128))])),u("div",a6,[te(B,{to:"/menu",class:"new-order-btn"},{default:pe(()=>[...O[11]||(O[11]=[le("    ",-1)])]),_:1})])])):(R(),D("div",AL,[u("div",SL,[O[2]||(O[2]=u("h2",null,"   ",-1)),O[3]||(O[3]=u("p",null,"   ",-1)),u("div",CL,[$e(u("input",{type:"tel","onUpdate:modelValue":O[0]||(O[0]=M=>s.value=M),class:"form-input",placeholder:"050-0000000",dir:"ltr",onKeyup:Jr(c,["enter"])},null,544),[[at,s.value]])]),u("button",{class:"search-btn",onClick:c,disabled:!a.value||i.value},[i.value?(R(),D("span",RL)):(R(),D("span",PL,[...O[1]||(O[1]=[le("   ",-1),u("span",{class:"btn-icon"},"",-1)])]))],8,kL)])]))])}}},c6=Ge(l6,[["__scopeId","data-v-9c08693d"]]),u6={class:"workshops-page"},d6={class:"age-groups-section"},h6={class:"age-groups-grid"},f6={class:"contact-section"},p6={class:"contact-card"},m6={class:"form-row"},g6={class:"form-group"},_6={class:"form-group"},v6={class:"form-row"},y6={class:"form-group"},b6={class:"form-group"},E6={class:"form-group"},w6=["disabled"],T6={key:0,class:"loading-spinner small"},I6={key:1},A6={class:"whatsapp-alternative"},S6=["href"],C6={__name:"BakingWorkshops",setup(t){Ln({title:" |  -    ",meta:[{name:"description",content:"  -  ,  , , ,   ,  .   ."}]});const e=ie({parentName:"",phone:"",childName:"",ageGroup:"",notes:""}),n=ie(!1),s=ie(!1),r=Q(()=>{let a=" ,      ";return e.value.ageGroup&&(a+=`  ${e.value.ageGroup}`),`https://wa.me/972528460331?text=${encodeURIComponent(a)}`});function i(a){var d;const c={toddlers:"3.5-6",kids:"6-9",tweens:"9-12"};e.value.ageGroup=c[a],(d=document.querySelector(".contact-section"))==null||d.scrollIntoView({behavior:"smooth"})}async function o(){if(!(!e.value.parentName||!e.value.phone)){n.value=!0;try{let a=` *   *

`;a+=`  : ${e.value.parentName}
`,a+=` : ${e.value.phone}
`,e.value.childName&&(a+=`  /: ${e.value.childName}
`),e.value.ageGroup&&(a+=`  : ${e.value.ageGroup}
`),e.value.notes&&(a+=`
 :
${e.value.notes}
`);const c=`https://wa.me/972528460331?text=${encodeURIComponent(a)}`;window.open(c,"_blank"),s.value=!0,e.value={parentName:"",phone:"",childName:"",ageGroup:"",notes:""}}catch(a){console.error("Failed to submit inquiry:",a)}finally{n.value=!1}}}return(a,c)=>(R(),D("div",u6,[c[31]||(c[31]=Bt('<section class="hero-section" data-v-dcb18337><div class="hero-content" data-v-dcb18337><span class="hero-icon" data-v-dcb18337></span><h1 class="hero-title" data-v-dcb18337>  </h1><p class="hero-subtitle" data-v-dcb18337>     !<br data-v-dcb18337>   ,    </p></div><div class="hero-decoration" data-v-dcb18337><span class="floating-emoji e1" data-v-dcb18337></span><span class="floating-emoji e2" data-v-dcb18337></span><span class="floating-emoji e3" data-v-dcb18337></span><span class="floating-emoji e4" data-v-dcb18337></span></div></section>',1)),u("section",d6,[c[14]||(c[14]=u("h2",{class:"section-title"},"  ",-1)),c[15]||(c[15]=u("p",{class:"section-subtitle"},"      ",-1)),u("div",h6,[u("div",{class:"age-card",onClick:c[0]||(c[0]=d=>i("toddlers"))},[...c[11]||(c[11]=[Bt('<div class="age-icon" data-v-dcb18337></div><div class="age-range" data-v-dcb18337>3.5-6</div><h3 class="age-title" data-v-dcb18337> </h3><p class="age-description" data-v-dcb18337>   ,  ,     </p><ul class="age-features" data-v-dcb18337><li data-v-dcb18337>  </li><li data-v-dcb18337>  </li><li data-v-dcb18337>  </li><li data-v-dcb18337>   </li></ul><div class="age-meta" data-v-dcb18337><span class="duration" data-v-dcb18337> 60 </span><span class="group-size" data-v-dcb18337>  8 </span></div><button class="age-btn" data-v-dcb18337> </button>',7)])]),u("div",{class:"age-card featured",onClick:c[1]||(c[1]=d=>i("kids"))},[...c[12]||(c[12]=[Bt('<div class="featured-badge" data-v-dcb18337>  </div><div class="age-icon" data-v-dcb18337></div><div class="age-range" data-v-dcb18337>6-9</div><h3 class="age-title" data-v-dcb18337> </h3><p class="age-description" data-v-dcb18337>   ,    </p><ul class="age-features" data-v-dcb18337><li data-v-dcb18337>  </li><li data-v-dcb18337>  </li><li data-v-dcb18337>   </li><li data-v-dcb18337>   </li></ul><div class="age-meta" data-v-dcb18337><span class="duration" data-v-dcb18337> 75 </span><span class="group-size" data-v-dcb18337>  10 </span></div><button class="age-btn" data-v-dcb18337> </button>',8)])]),u("div",{class:"age-card",onClick:c[2]||(c[2]=d=>i("tweens"))},[...c[13]||(c[13]=[Bt('<div class="age-icon" data-v-dcb18337></div><div class="age-range" data-v-dcb18337>9-12</div><h3 class="age-title" data-v-dcb18337> </h3><p class="age-description" data-v-dcb18337> ,     </p><ul class="age-features" data-v-dcb18337><li data-v-dcb18337>  </li><li data-v-dcb18337>  </li><li data-v-dcb18337>  </li><li data-v-dcb18337>  </li></ul><div class="age-meta" data-v-dcb18337><span class="duration" data-v-dcb18337> 90 </span><span class="group-size" data-v-dcb18337>  10 </span></div><button class="age-btn" data-v-dcb18337> </button>',7)])])])]),c[32]||(c[32]=Bt('<section class="included-section" data-v-dcb18337><h2 class="section-title" data-v-dcb18337>  ?</h2><div class="included-grid" data-v-dcb18337><div class="included-item" data-v-dcb18337><span class="included-icon" data-v-dcb18337></span><h4 data-v-dcb18337> </h4><p data-v-dcb18337>    </p></div><div class="included-item" data-v-dcb18337><span class="included-icon" data-v-dcb18337></span><h4 data-v-dcb18337> </h4><p data-v-dcb18337>    </p></div><div class="included-item" data-v-dcb18337><span class="included-icon" data-v-dcb18337></span><h4 data-v-dcb18337> </h4><p data-v-dcb18337>      </p></div><div class="included-item" data-v-dcb18337><span class="included-icon" data-v-dcb18337></span><h4 data-v-dcb18337> </h4><p data-v-dcb18337>,   !</p></div></div></section>',1)),u("section",f6,[u("div",p6,[c[26]||(c[26]=u("h2",null,"  ?",-1)),c[27]||(c[27]=u("p",null,"      ",-1)),u("form",{class:"contact-form",onSubmit:Yt(o,["prevent"])},[u("div",m6,[u("div",g6,[c[16]||(c[16]=u("label",{class:"form-label"}," ",-1)),$e(u("input",{type:"text","onUpdate:modelValue":c[3]||(c[3]=d=>e.value.parentName=d),class:"form-input",placeholder:" ",required:""},null,512),[[at,e.value.parentName]])]),u("div",_6,[c[17]||(c[17]=u("label",{class:"form-label"},"",-1)),$e(u("input",{type:"tel","onUpdate:modelValue":c[4]||(c[4]=d=>e.value.phone=d),class:"form-input",placeholder:"050-0000000",dir:"ltr",required:""},null,512),[[at,e.value.phone]])])]),u("div",v6,[u("div",y6,[c[18]||(c[18]=u("label",{class:"form-label"}," /",-1)),$e(u("input",{type:"text","onUpdate:modelValue":c[5]||(c[5]=d=>e.value.childName=d),class:"form-input",placeholder:" /"},null,512),[[at,e.value.childName]])]),u("div",b6,[c[20]||(c[20]=u("label",{class:"form-label"},"",-1)),$e(u("select",{"onUpdate:modelValue":c[6]||(c[6]=d=>e.value.ageGroup=d),class:"form-input"},[...c[19]||(c[19]=[u("option",{value:""},"  ",-1),u("option",{value:"3.5-6"},"3.5-6 -  ",-1),u("option",{value:"6-9"},"6-9 -  ",-1),u("option",{value:"9-12"},"9-12 -  ",-1)])],512),[[Pl,e.value.ageGroup]])])]),u("div",E6,[c[21]||(c[21]=u("label",{class:"form-label"},"",-1)),$e(u("textarea",{"onUpdate:modelValue":c[7]||(c[7]=d=>e.value.notes=d),class:"form-input form-textarea",placeholder:",  ...",rows:"3"},null,512),[[at,e.value.notes]])]),u("button",{type:"submit",class:"submit-btn",disabled:n.value},[n.value?(R(),D("span",T6)):(R(),D("span",I6,[...c[22]||(c[22]=[le("  ",-1),u("span",{class:"btn-icon"},"",-1)])]))],8,w6)],32),u("div",A6,[c[24]||(c[24]=u("span",null,"   :",-1)),u("a",{href:r.value,target:"_blank",class:"whatsapp-btn"},[...c[23]||(c[23]=[u("span",{class:"wa-icon"},"",-1),le("  ",-1)])],8,S6),c[25]||(c[25]=u("a",{href:"tel:0528460331",class:"phone-btn"},[u("span",{class:"phone-icon"},""),le(" 052-846-0331 ")],-1))])])]),(R(),Xe(hr,{to:"body"},[te(dt,{name:"fade"},{default:pe(()=>[s.value?(R(),D("div",{key:0,class:"success-modal-overlay",onClick:c[10]||(c[10]=d=>s.value=!1)},[u("div",{class:"success-modal",onClick:c[9]||(c[9]=Yt(()=>{},["stop"]))},[c[28]||(c[28]=u("span",{class:"success-icon"},"",-1)),c[29]||(c[29]=u("h3",null," !",-1)),c[30]||(c[30]=u("p",null,"      .",-1)),u("button",{class:"close-btn",onClick:c[8]||(c[8]=d=>s.value=!1)},"")])])):ge("",!0)]),_:1})]))]))}},k6=Ge(C6,[["__scopeId","data-v-dcb18337"]]),R6=[{path:"/",name:"home",component:RD},{path:"/menu",name:"menu",component:$D},{path:"/menu/:categoryId",name:"menu-category",component:ix,props:!0},{path:"/gallery",name:"gallery",component:Px},{path:"/about",name:"about",component:$x},{path:"/quote",name:"quote",component:VN},{path:"/checkout",name:"checkout",component:xM},{path:"/admin",name:"admin",component:TL},{path:"/my-orders",name:"my-orders",component:c6},{path:"/workshops",name:"workshops",component:k6},{path:"/:pathMatch(.*)*",name:"not-found",component:()=>$4(()=>import("./NotFound-Fvv7CtRh.js"),__vite__mapDeps([0,1]))}],P6=g0({history:zT(),routes:R6,scrollBehavior(t,e,n){return n||{top:0,behavior:"smooth"}}}),oc=pw(O4),V6=pT();oc.use(Tw());oc.use(P6);oc.use(V6);oc.mount("#app");export{Ge as _,u as a,Bt as b,D as c,te as d,le as e,R as o,Gt as r,Ln as u,pe as w};
